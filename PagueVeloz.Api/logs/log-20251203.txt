2025-12-03 06:09:46.285 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-12-03 06:09:47.602 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:09:47.608 -03:00 [WRN] No store type was specified for the decimal property 'CreditLimit' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:09:47.611 -03:00 [WRN] No store type was specified for the decimal property 'ReservedBalance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:09:47.614 -03:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:09:47.616 -03:00 [WRN] No store type was specified for the decimal property 'AvailableBalance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:09:47.620 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:09:47.814 -03:00 [DBG] Entity Framework Core 9.0.11 initialized 'PagueVelozDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.11' with options: EngineType=SqlServer 
2025-12-03 06:09:47.856 -03:00 [DBG] Creating DbConnection.
2025-12-03 06:09:47.974 -03:00 [DBG] Created DbConnection. (116ms).
2025-12-03 06:09:47.981 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:09:48.566 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:09:48.577 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-12-03 06:09:48.595 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (19ms).
2025-12-03 06:09:48.600 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (27ms).
2025-12-03 06:09:48.610 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 06:09:48.667 -03:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 06:09:48.675 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:09:48.687 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (8ms).
2025-12-03 06:09:48.693 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-12-03 06:09:48.695 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2025-12-03 06:09:48.698 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (5ms).
2025-12-03 06:09:48.701 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:09:48.705 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:09:48.708 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 06:09:48.746 -03:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 06:09:48.751 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:09:48.755 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (3ms).
2025-12-03 06:09:48.759 -03:00 [DBG] 'PagueVelozDbContext' disposed.
2025-12-03 06:09:48.765 -03:00 [DBG] Disposing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:09:48.769 -03:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-12-03 06:09:49.062 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-12-03 06:09:49.704 -03:00 [DBG] Hosting starting
2025-12-03 06:09:49.769 -03:00 [DBG] Middleware loaded
2025-12-03 06:09:49.774 -03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16513 B).
2025-12-03 06:09:49.779 -03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-12-03 06:09:49.973 -03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-12-03 06:09:49.977 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-12-03 06:09:50.031 -03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-12-03 06:09:50.304 -03:00 [INF] Now listening on: https://localhost:7249
2025-12-03 06:09:50.307 -03:00 [INF] Now listening on: http://localhost:5247
2025-12-03 06:09:50.310 -03:00 [DBG] Loaded hosting startup assembly PagueVeloz.Api
2025-12-03 06:09:50.312 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-12-03 06:09:50.314 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-12-03 06:09:50.317 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-12-03 06:09:50.328 -03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 06:09:50.333 -03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 06:09:50.753 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-03 06:09:50.755 -03:00 [INF] Hosting environment: Development
2025-12-03 06:09:50.758 -03:00 [INF] Content root path: E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api
2025-12-03 06:09:50.779 -03:00 [DBG] Hosting started
2025-12-03 06:10:10.681 -03:00 [DBG] Connection id "0HNHI9F1E6KGE" accepted.
2025-12-03 06:10:10.745 -03:00 [DBG] Connection id "0HNHI9F1E6KGE" started.
2025-12-03 06:10:10.831 -03:00 [DBG] Connection 0HNHI9F1E6KGE established using the following protocol: "Tls13"
2025-12-03 06:10:10.948 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/swagger/index.html - null null
2025-12-03 06:10:11.295 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-12-03 06:10:11.299 -03:00 [DBG] Request did not match any endpoints
2025-12-03 06:10:11.414 -03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-12-03 06:10:11.419 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-12-03 06:10:11.429 -03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-12-03 06:10:11.432 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-12-03 06:10:11.440 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/swagger/index.html - 200 null text/html;charset=utf-8 504.5376ms
2025-12-03 06:10:11.494 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/_framework/aspnetcore-browser-refresh.js - null null
2025-12-03 06:10:11.497 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/_vs/browserLink - null null
2025-12-03 06:10:11.574 -03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-12-03 06:10:11.579 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 85.305ms
2025-12-03 06:10:11.645 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/_vs/browserLink - 200 null text/javascript; charset=UTF-8 148.3825ms
2025-12-03 06:10:11.752 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/swagger/v1/swagger.json - null null
2025-12-03 06:10:11.759 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-12-03 06:10:11.762 -03:00 [DBG] Request did not match any endpoints
2025-12-03 06:10:11.794 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 41.9377ms
2025-12-03 06:11:20.087 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction - application/json 157
2025-12-03 06:11:20.125 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction'
2025-12-03 06:11:20.128 -03:00 [DBG] Endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)' with route pattern 'api/Transaction' is valid for the request path '/api/Transaction'
2025-12-03 06:11:20.132 -03:00 [DBG] Request matched endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 06:11:20.182 -03:00 [INF] [REQUEST] POST /api/Transaction CorrelationId="d6958043-02f1-40c0-bea2-3f664f3c9fe7"
2025-12-03 06:11:20.189 -03:00 [INF] Request started: POST /api/Transaction TraceId=0HNHI9F1E6KGE:00000009
2025-12-03 06:11:20.217 -03:00 [INF] Executing endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 06:11:20.253 -03:00 [INF] Route matched with {action = "CreateTransaction", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTransaction(PagueVeloz.API.DTOs.TransactionCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 06:11:20.259 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 06:11:20.263 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 06:11:20.267 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 06:11:20.271 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 06:11:20.275 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 06:11:20.282 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 06:11:20.288 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 06:11:20.943 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 06:11:20.949 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' using the name '' in request data ...
2025-12-03 06:11:20.954 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 06:11:20.985 -03:00 [DBG] Connection id "0HNHI9F1E6KGE", Request id "0HNHI9F1E6KGE:00000009": started reading request body.
2025-12-03 06:11:20.988 -03:00 [DBG] Connection id "0HNHI9F1E6KGE", Request id "0HNHI9F1E6KGE:00000009": done reading request body.
2025-12-03 06:11:21.016 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.API.DTOs.TransactionCreateDto'
2025-12-03 06:11:21.019 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 06:11:21.022 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 06:11:21.025 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 06:11:21.150 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 06:11:21.158 -03:00 [INF] Recebida solicitação de movimentação do tipo: {dto.Operation} .
2025-12-03 06:11:21.172 -03:00 [WRN] Idempotency-Key não enviada, gerando uma aleatória.
2025-12-03 06:11:21.207 -03:00 [INF] Iniciando a movimentação de conta.
2025-12-03 06:11:21.401 -03:00 [INF] Idempotência encontrada para a chave test-credit-001
2025-12-03 06:11:21.532 -03:00 [WRN] Tentativa 1 falhou. Esperando "00:00:02" antes de tentar novamente. Erro: Value cannot be null. (Parameter 'json')
2025-12-03 06:11:23.529 -03:00 [INF] Iniciando a movimentação de conta.
2025-12-03 06:11:23.534 -03:00 [INF] Idempotência encontrada para a chave test-credit-001
2025-12-03 06:11:23.604 -03:00 [WRN] Tentativa 2 falhou. Esperando "00:00:04" antes de tentar novamente. Erro: Value cannot be null. (Parameter 'json')
2025-12-03 06:11:27.612 -03:00 [INF] Iniciando a movimentação de conta.
2025-12-03 06:11:27.615 -03:00 [INF] Idempotência encontrada para a chave test-credit-001
2025-12-03 06:11:27.683 -03:00 [WRN] Tentativa 3 falhou. Esperando "00:00:08" antes de tentar novamente. Erro: Value cannot be null. (Parameter 'json')
2025-12-03 06:11:35.697 -03:00 [INF] Iniciando a movimentação de conta.
2025-12-03 06:11:35.709 -03:00 [INF] Idempotência encontrada para a chave test-credit-001
2025-12-03 06:11:36.874 -03:00 [INF] Executed action TransactionController.CreateTransaction (PagueVeloz.Api) in 16590.855ms
2025-12-03 06:11:37.204 -03:00 [INF] Executed endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 06:11:38.150 -03:00 [ERR] Erro capturado globalmente. TraceId: 00-5ffda11208a9a6d032d64d3a34348ce9-75b97b489a9cfda2-00
System.ArgumentNullException: Value cannot be null. (Parameter 'json')
   at System.Text.Json.ThrowHelper.ThrowArgumentNullException(String parameterName)
   at System.Text.Json.JsonSerializer.Deserialize[TValue](String json, JsonSerializerOptions options)
   at PagueVeloz.Application.Services.TransactionService.<>c__DisplayClass6_0.<<ProcessTransactionAsync>b__0>d.MoveNext() in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Application\Services\TransactionService.cs:line 51
--- End of stack trace from previous location ---
   at Polly.Retry.AsyncRetryEngine.ImplementationAsync[TResult](Func`3 action, Context context, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Func`5 onRetryAsync, CancellationToken cancellationToken, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at PagueVeloz.Application.Services.TransactionService.ProcessTransactionAsync(TransactionModel dto, String idempotencyKey) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Application\Services\TransactionService.cs:line 41
   at TransactionController.CreateTransaction(TransactionCreateDto dto) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api\Controllers\TransactionController.cs:line 82
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at RequestTimingMiddleware.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\RequestTiming.cs:line 23
   at PagueVeloz.Shared.Middlewares.RequestLog.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\RequestLog.cs:line 28
   at ExceptionHandlingMiddleware.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\ExceptionHandling.cs:line 22
2025-12-03 06:11:39.517 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Transaction - 400 null application/json 19436.3589ms
2025-12-03 06:11:51.349 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction - application/json 157
2025-12-03 06:11:51.369 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction'
2025-12-03 06:11:51.372 -03:00 [DBG] Endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)' with route pattern 'api/Transaction' is valid for the request path '/api/Transaction'
2025-12-03 06:11:51.377 -03:00 [DBG] Request matched endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 06:11:51.380 -03:00 [INF] [REQUEST] POST /api/Transaction CorrelationId="46895413-844f-453f-abd0-0e5d043a9bd1"
2025-12-03 06:11:51.384 -03:00 [INF] Request started: POST /api/Transaction TraceId=0HNHI9F1E6KGE:0000000B
2025-12-03 06:11:51.387 -03:00 [INF] Executing endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 06:11:51.391 -03:00 [INF] Route matched with {action = "CreateTransaction", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTransaction(PagueVeloz.API.DTOs.TransactionCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 06:11:51.395 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 06:11:51.398 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 06:11:51.402 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 06:11:51.406 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 06:11:51.410 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 06:11:51.414 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 06:11:51.417 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 06:11:51.421 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 06:11:51.425 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' using the name '' in request data ...
2025-12-03 06:11:51.429 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 06:11:51.433 -03:00 [DBG] Connection id "0HNHI9F1E6KGE", Request id "0HNHI9F1E6KGE:0000000B": started reading request body.
2025-12-03 06:11:51.436 -03:00 [DBG] Connection id "0HNHI9F1E6KGE", Request id "0HNHI9F1E6KGE:0000000B": done reading request body.
2025-12-03 06:11:51.440 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.API.DTOs.TransactionCreateDto'
2025-12-03 06:11:51.443 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 06:11:51.446 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 06:11:51.448 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 06:11:51.452 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 06:11:54.191 -03:00 [INF] Recebida solicitação de movimentação do tipo: {dto.Operation} .
2025-12-03 06:11:56.840 -03:00 [WRN] Idempotency-Key não enviada, gerando uma aleatória.
2025-12-03 06:12:06.527 -03:00 [INF] Iniciando a movimentação de conta.
2025-12-03 06:12:06.565 -03:00 [INF] Idempotência encontrada para a chave test-credit-001
2025-12-03 06:12:06.663 -03:00 [WRN] Tentativa 1 falhou. Esperando "00:00:02" antes de tentar novamente. Erro: Value cannot be null. (Parameter 'json')
2025-12-03 06:12:08.683 -03:00 [INF] Iniciando a movimentação de conta.
2025-12-03 06:12:08.686 -03:00 [INF] Idempotência encontrada para a chave test-credit-001
2025-12-03 06:12:08.757 -03:00 [WRN] Tentativa 2 falhou. Esperando "00:00:04" antes de tentar novamente. Erro: Value cannot be null. (Parameter 'json')
2025-12-03 06:12:12.749 -03:00 [INF] Iniciando a movimentação de conta.
2025-12-03 06:12:12.753 -03:00 [INF] Idempotência encontrada para a chave test-credit-001
2025-12-03 06:12:12.820 -03:00 [WRN] Tentativa 3 falhou. Esperando "00:00:08" antes de tentar novamente. Erro: Value cannot be null. (Parameter 'json')
2025-12-03 06:12:24.639 -03:00 [INF] Iniciando a movimentação de conta.
2025-12-03 06:12:28.033 -03:00 [INF] Idempotência encontrada para a chave test-credit-001
2025-12-03 06:12:31.435 -03:00 [INF] Executed action TransactionController.CreateTransaction (PagueVeloz.Api) in 40117.662ms
2025-12-03 06:12:31.689 -03:00 [INF] Executed endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 06:12:32.563 -03:00 [ERR] Erro capturado globalmente. TraceId: 00-092500ee377a84a833329c2879743526-45da649fdcfb4098-00
System.ArgumentNullException: Value cannot be null. (Parameter 'json')
   at System.Text.Json.ThrowHelper.ThrowArgumentNullException(String parameterName)
   at System.Text.Json.JsonSerializer.Deserialize[TValue](String json, JsonSerializerOptions options)
   at PagueVeloz.Application.Services.TransactionService.<>c__DisplayClass6_0.<<ProcessTransactionAsync>b__0>d.MoveNext() in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Application\Services\TransactionService.cs:line 51
--- End of stack trace from previous location ---
   at Polly.Retry.AsyncRetryEngine.ImplementationAsync[TResult](Func`3 action, Context context, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Func`5 onRetryAsync, CancellationToken cancellationToken, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at PagueVeloz.Application.Services.TransactionService.ProcessTransactionAsync(TransactionModel dto, String idempotencyKey) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Application\Services\TransactionService.cs:line 41
   at TransactionController.CreateTransaction(TransactionCreateDto dto) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api\Controllers\TransactionController.cs:line 82
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at RequestTimingMiddleware.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\RequestTiming.cs:line 23
   at PagueVeloz.Shared.Middlewares.RequestLog.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\RequestLog.cs:line 28
   at ExceptionHandlingMiddleware.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\ExceptionHandling.cs:line 22
2025-12-03 06:12:32.575 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Transaction - 400 null application/json 41325.6796ms
2025-12-03 06:13:32.624 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-12-03 06:13:33.604 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:13:33.610 -03:00 [WRN] No store type was specified for the decimal property 'CreditLimit' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:13:33.612 -03:00 [WRN] No store type was specified for the decimal property 'ReservedBalance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:13:33.615 -03:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:13:33.619 -03:00 [WRN] No store type was specified for the decimal property 'AvailableBalance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:13:33.621 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:13:33.740 -03:00 [DBG] Entity Framework Core 9.0.11 initialized 'PagueVelozDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.11' with options: EngineType=SqlServer 
2025-12-03 06:13:33.761 -03:00 [DBG] Creating DbConnection.
2025-12-03 06:13:33.813 -03:00 [DBG] Created DbConnection. (50ms).
2025-12-03 06:13:33.820 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:13:34.077 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:13:34.088 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-12-03 06:13:34.097 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (9ms).
2025-12-03 06:13:34.103 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (19ms).
2025-12-03 06:13:34.112 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 06:13:34.159 -03:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 06:13:34.167 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:13:34.182 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (9ms).
2025-12-03 06:13:34.188 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-12-03 06:13:34.191 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2025-12-03 06:13:34.194 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (6ms).
2025-12-03 06:13:34.197 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:13:34.202 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:13:34.205 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 06:13:34.257 -03:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 06:13:34.263 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:13:34.267 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (3ms).
2025-12-03 06:13:34.272 -03:00 [DBG] 'PagueVelozDbContext' disposed.
2025-12-03 06:13:34.276 -03:00 [DBG] Disposing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:13:34.279 -03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-12-03 06:13:34.450 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-12-03 06:13:34.533 -03:00 [DBG] Hosting starting
2025-12-03 06:13:34.559 -03:00 [DBG] Middleware loaded
2025-12-03 06:13:34.564 -03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16513 B).
2025-12-03 06:13:34.568 -03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-12-03 06:13:34.666 -03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-12-03 06:13:34.671 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-12-03 06:13:34.689 -03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-12-03 06:13:34.907 -03:00 [INF] Now listening on: https://localhost:7249
2025-12-03 06:13:34.910 -03:00 [INF] Now listening on: http://localhost:5247
2025-12-03 06:13:34.912 -03:00 [DBG] Loaded hosting startup assembly PagueVeloz.Api
2025-12-03 06:13:34.914 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-12-03 06:13:34.916 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-12-03 06:13:34.918 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-12-03 06:13:34.928 -03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 06:13:34.932 -03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 06:13:35.081 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-03 06:13:35.087 -03:00 [INF] Hosting environment: Development
2025-12-03 06:13:35.090 -03:00 [INF] Content root path: E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api
2025-12-03 06:13:35.092 -03:00 [DBG] Hosting started
2025-12-03 06:21:05.669 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-12-03 06:21:06.879 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:21:06.884 -03:00 [WRN] No store type was specified for the decimal property 'CreditLimit' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:21:06.887 -03:00 [WRN] No store type was specified for the decimal property 'ReservedBalance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:21:06.890 -03:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:21:06.893 -03:00 [WRN] No store type was specified for the decimal property 'AvailableBalance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:21:06.896 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:21:07.054 -03:00 [DBG] Entity Framework Core 9.0.11 initialized 'PagueVelozDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.11' with options: EngineType=SqlServer 
2025-12-03 06:21:07.086 -03:00 [DBG] Creating DbConnection.
2025-12-03 06:21:07.156 -03:00 [DBG] Created DbConnection. (67ms).
2025-12-03 06:21:07.166 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:21:07.545 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:21:07.560 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-12-03 06:21:07.574 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (13ms).
2025-12-03 06:21:07.581 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (26ms).
2025-12-03 06:21:07.598 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 06:21:07.659 -03:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 06:21:07.667 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:21:07.688 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (14ms).
2025-12-03 06:21:07.694 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-12-03 06:21:07.698 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2025-12-03 06:21:07.701 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (6ms).
2025-12-03 06:21:07.704 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:21:07.708 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:21:07.712 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 06:21:07.775 -03:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 06:21:07.783 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:21:07.795 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (7ms).
2025-12-03 06:21:07.804 -03:00 [DBG] 'PagueVelozDbContext' disposed.
2025-12-03 06:21:07.813 -03:00 [DBG] Disposing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:21:07.819 -03:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-12-03 06:21:08.080 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-12-03 06:21:08.192 -03:00 [DBG] Hosting starting
2025-12-03 06:21:08.225 -03:00 [DBG] Middleware loaded
2025-12-03 06:21:08.231 -03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16513 B).
2025-12-03 06:21:08.235 -03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-12-03 06:21:08.353 -03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-12-03 06:21:08.358 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-12-03 06:21:08.379 -03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-12-03 06:21:08.606 -03:00 [INF] Now listening on: https://localhost:7249
2025-12-03 06:21:08.613 -03:00 [INF] Now listening on: http://localhost:5247
2025-12-03 06:21:08.615 -03:00 [DBG] Loaded hosting startup assembly PagueVeloz.Api
2025-12-03 06:21:08.616 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-12-03 06:21:08.619 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-12-03 06:21:08.622 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-12-03 06:21:08.641 -03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 06:21:08.646 -03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 06:21:08.865 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-03 06:21:08.870 -03:00 [INF] Hosting environment: Development
2025-12-03 06:21:08.893 -03:00 [INF] Content root path: E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api
2025-12-03 06:21:08.898 -03:00 [DBG] Hosting started
2025-12-03 06:21:15.812 -03:00 [DBG] Connection id "0HNHI9L7LCGBR" accepted.
2025-12-03 06:21:15.838 -03:00 [DBG] Connection id "0HNHI9L7LCGBR" started.
2025-12-03 06:21:15.946 -03:00 [DBG] Connection 0HNHI9L7LCGBR established using the following protocol: "Tls13"
2025-12-03 06:21:16.082 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/swagger/index.html - null null
2025-12-03 06:21:16.336 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-12-03 06:21:16.339 -03:00 [DBG] Request did not match any endpoints
2025-12-03 06:21:16.459 -03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-12-03 06:21:16.463 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-12-03 06:21:16.473 -03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-12-03 06:21:16.475 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-12-03 06:21:16.482 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/swagger/index.html - 200 null text/html;charset=utf-8 412.2434ms
2025-12-03 06:21:16.647 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/_vs/browserLink - null null
2025-12-03 06:21:16.654 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/_framework/aspnetcore-browser-refresh.js - null null
2025-12-03 06:21:16.711 -03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-12-03 06:21:16.739 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 84.5159ms
2025-12-03 06:21:16.837 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/_vs/browserLink - 200 null text/javascript; charset=UTF-8 190.2003ms
2025-12-03 06:21:17.256 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/swagger/v1/swagger.json - null null
2025-12-03 06:21:17.266 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-12-03 06:21:17.268 -03:00 [DBG] Request did not match any endpoints
2025-12-03 06:21:17.312 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 56.0196ms
2025-12-03 06:21:49.300 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction - application/json 154
2025-12-03 06:21:49.316 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction'
2025-12-03 06:21:49.320 -03:00 [DBG] Endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)' with route pattern 'api/Transaction' is valid for the request path '/api/Transaction'
2025-12-03 06:21:49.324 -03:00 [DBG] Request matched endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 06:21:49.340 -03:00 [INF] [REQUEST] POST /api/Transaction CorrelationId="2c44c769-8134-491c-861b-165360cf1a9b"
2025-12-03 06:21:49.347 -03:00 [INF] Request started: POST /api/Transaction TraceId=0HNHI9L7LCGBR:00000009
2025-12-03 06:21:49.352 -03:00 [INF] Executing endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 06:21:49.382 -03:00 [INF] Route matched with {action = "CreateTransaction", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTransaction(PagueVeloz.API.DTOs.TransactionCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 06:21:49.388 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 06:21:49.393 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 06:21:49.397 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 06:21:49.402 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 06:21:49.407 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 06:21:49.413 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 06:21:49.418 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 06:21:49.434 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 06:21:49.441 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' using the name '' in request data ...
2025-12-03 06:21:49.446 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 06:21:49.466 -03:00 [DBG] Connection id "0HNHI9L7LCGBR", Request id "0HNHI9L7LCGBR:00000009": started reading request body.
2025-12-03 06:21:49.470 -03:00 [DBG] Connection id "0HNHI9L7LCGBR", Request id "0HNHI9L7LCGBR:00000009": done reading request body.
2025-12-03 06:21:49.504 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.API.DTOs.TransactionCreateDto'
2025-12-03 06:21:49.508 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 06:21:49.511 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 06:21:49.514 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 06:21:49.606 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 06:21:49.613 -03:00 [DBG] The request has model state errors, returning an error response.
2025-12-03 06:21:49.618 -03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-12-03 06:21:49.624 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-03 06:21:49.632 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-12-03 06:21:49.638 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-12-03 06:21:49.641 -03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-12-03 06:21:49.647 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-12-03 06:21:49.651 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-03 06:21:49.685 -03:00 [INF] Executed action TransactionController.CreateTransaction (PagueVeloz.Api) in 270.2781ms
2025-12-03 06:21:49.688 -03:00 [INF] Executed endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 06:21:49.692 -03:00 [INF] Request finished: POST /api/Transaction StatusCode=400 TraceId=0HNHI9L7LCGBR:00000009 Elapsed=344ms
2025-12-03 06:21:49.698 -03:00 [INF] [RESPONSE] POST /api/Transaction 400 357ms CorrelationId="2c44c769-8134-491c-861b-165360cf1a9b"
2025-12-03 06:21:49.703 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Transaction - 400 null application/problem+json; charset=utf-8 403.6479ms
2025-12-03 06:21:58.726 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction - application/json 156
2025-12-03 06:21:58.733 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction'
2025-12-03 06:21:58.735 -03:00 [DBG] Endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)' with route pattern 'api/Transaction' is valid for the request path '/api/Transaction'
2025-12-03 06:21:58.738 -03:00 [DBG] Request matched endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 06:21:58.741 -03:00 [INF] [REQUEST] POST /api/Transaction CorrelationId="5b03234b-904c-44fa-a3d6-b40bd0ebaf0d"
2025-12-03 06:21:58.744 -03:00 [INF] Request started: POST /api/Transaction TraceId=0HNHI9L7LCGBR:0000000B
2025-12-03 06:21:58.748 -03:00 [INF] Executing endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 06:21:58.750 -03:00 [INF] Route matched with {action = "CreateTransaction", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTransaction(PagueVeloz.API.DTOs.TransactionCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 06:21:58.754 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 06:21:58.757 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 06:21:58.760 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 06:21:58.764 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 06:21:58.766 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 06:21:58.769 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 06:21:58.772 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 06:21:58.775 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 06:21:58.778 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' using the name '' in request data ...
2025-12-03 06:21:58.781 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 06:21:58.783 -03:00 [DBG] Connection id "0HNHI9L7LCGBR", Request id "0HNHI9L7LCGBR:0000000B": started reading request body.
2025-12-03 06:21:58.786 -03:00 [DBG] Connection id "0HNHI9L7LCGBR", Request id "0HNHI9L7LCGBR:0000000B": done reading request body.
2025-12-03 06:21:58.789 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.API.DTOs.TransactionCreateDto'
2025-12-03 06:21:58.791 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 06:21:58.794 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 06:21:58.798 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 06:21:58.802 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 06:22:19.753 -03:00 [INF] Recebida solicitação de movimentação do tipo: {dto.Operation} .
2025-12-03 06:22:23.116 -03:00 [WRN] Idempotency-Key não enviada, gerando uma aleatória.
2025-12-03 06:22:25.206 -03:00 [INF] Iniciando a movimentação de conta.
2025-12-03 06:22:25.440 -03:00 [WRN] Tentativa 1 falhou. Esperando "00:00:02" antes de tentar novamente. Erro: Transação já foi realizada.
2025-12-03 06:22:27.453 -03:00 [INF] Iniciando a movimentação de conta.
2025-12-03 06:22:27.511 -03:00 [WRN] Tentativa 2 falhou. Esperando "00:00:04" antes de tentar novamente. Erro: Transação já foi realizada.
2025-12-03 06:22:31.508 -03:00 [INF] Iniciando a movimentação de conta.
2025-12-03 06:22:31.573 -03:00 [WRN] Tentativa 3 falhou. Esperando "00:00:08" antes de tentar novamente. Erro: Transação já foi realizada.
2025-12-03 06:22:39.589 -03:00 [INF] Iniciando a movimentação de conta.
2025-12-03 06:22:40.500 -03:00 [INF] Executed action TransactionController.CreateTransaction (PagueVeloz.Api) in 41730.4941ms
2025-12-03 06:22:40.747 -03:00 [INF] Executed endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 06:22:41.582 -03:00 [ERR] Erro capturado globalmente. TraceId: 00-e083b2017a7ab100dd43ed035b7626dd-03a153fae0480bde-00
PagueVeloz.Shared.Middlewares.BusinessException: Transação já foi realizada.
   at PagueVeloz.Application.Services.TransactionService.<>c__DisplayClass6_0.<<ProcessTransactionAsync>b__0>d.MoveNext() in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Application\Services\TransactionService.cs:line 59
--- End of stack trace from previous location ---
   at Polly.Retry.AsyncRetryEngine.ImplementationAsync[TResult](Func`3 action, Context context, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Func`5 onRetryAsync, CancellationToken cancellationToken, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at PagueVeloz.Application.Services.TransactionService.ProcessTransactionAsync(TransactionModel dto, String idempotencyKey) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Application\Services\TransactionService.cs:line 41
   at TransactionController.CreateTransaction(TransactionCreateDto dto) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api\Controllers\TransactionController.cs:line 82
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at RequestTimingMiddleware.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\RequestTiming.cs:line 23
   at PagueVeloz.Shared.Middlewares.RequestLog.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\RequestLog.cs:line 28
   at ExceptionHandlingMiddleware.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\ExceptionHandling.cs:line 22
2025-12-03 06:22:41.618 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Transaction - 400 null application/json 42892.6754ms
2025-12-03 06:25:34.606 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-12-03 06:25:35.764 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:25:35.768 -03:00 [WRN] No store type was specified for the decimal property 'CreditLimit' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:25:35.771 -03:00 [WRN] No store type was specified for the decimal property 'ReservedBalance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:25:35.773 -03:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:25:35.776 -03:00 [WRN] No store type was specified for the decimal property 'AvailableBalance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:25:35.778 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:25:35.887 -03:00 [DBG] Entity Framework Core 9.0.11 initialized 'PagueVelozDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.11' with options: EngineType=SqlServer 
2025-12-03 06:25:35.909 -03:00 [DBG] Creating DbConnection.
2025-12-03 06:25:35.961 -03:00 [DBG] Created DbConnection. (49ms).
2025-12-03 06:25:35.968 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:25:36.250 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:25:36.261 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-12-03 06:25:36.271 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (8ms).
2025-12-03 06:25:36.276 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (18ms).
2025-12-03 06:25:36.286 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 06:25:36.339 -03:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 06:25:36.347 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:25:36.361 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (11ms).
2025-12-03 06:25:36.367 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-12-03 06:25:36.369 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2025-12-03 06:25:36.373 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (5ms).
2025-12-03 06:25:36.378 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:25:36.381 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:25:36.385 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 06:25:36.425 -03:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 06:25:36.431 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:25:36.434 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (3ms).
2025-12-03 06:25:36.439 -03:00 [DBG] 'PagueVelozDbContext' disposed.
2025-12-03 06:25:36.444 -03:00 [DBG] Disposing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:25:36.449 -03:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-12-03 06:25:36.631 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-12-03 06:25:36.718 -03:00 [DBG] Hosting starting
2025-12-03 06:25:36.746 -03:00 [DBG] Middleware loaded
2025-12-03 06:25:36.751 -03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16513 B).
2025-12-03 06:25:36.756 -03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-12-03 06:25:36.854 -03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-12-03 06:25:36.858 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-12-03 06:25:36.871 -03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-12-03 06:25:37.035 -03:00 [INF] Now listening on: https://localhost:7249
2025-12-03 06:25:37.038 -03:00 [INF] Now listening on: http://localhost:5247
2025-12-03 06:25:37.040 -03:00 [DBG] Loaded hosting startup assembly PagueVeloz.Api
2025-12-03 06:25:37.043 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-12-03 06:25:37.045 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-12-03 06:25:37.047 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-12-03 06:25:37.061 -03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 06:25:37.065 -03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 06:25:37.218 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-03 06:25:37.220 -03:00 [INF] Hosting environment: Development
2025-12-03 06:25:37.223 -03:00 [INF] Content root path: E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api
2025-12-03 06:25:37.225 -03:00 [DBG] Hosting started
2025-12-03 06:26:00.442 -03:00 [DBG] Connection id "0HNHI9NSFR0DK" accepted.
2025-12-03 06:26:00.488 -03:00 [DBG] Connection id "0HNHI9NSFR0DK" started.
2025-12-03 06:26:00.554 -03:00 [DBG] Connection 0HNHI9NSFR0DK established using the following protocol: "Tls13"
2025-12-03 06:26:00.636 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/swagger/index.html - null null
2025-12-03 06:26:00.802 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-12-03 06:26:00.805 -03:00 [DBG] Request did not match any endpoints
2025-12-03 06:26:00.899 -03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-12-03 06:26:00.903 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-12-03 06:26:00.913 -03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-12-03 06:26:00.917 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-12-03 06:26:00.926 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/swagger/index.html - 200 null text/html;charset=utf-8 297.955ms
2025-12-03 06:26:00.958 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/_vs/browserLink - null null
2025-12-03 06:26:00.958 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/_framework/aspnetcore-browser-refresh.js - null null
2025-12-03 06:26:01.006 -03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-12-03 06:26:01.015 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 56.7067ms
2025-12-03 06:26:01.047 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/_vs/browserLink - 200 null text/javascript; charset=UTF-8 89.0368ms
2025-12-03 06:26:01.319 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/swagger/v1/swagger.json - null null
2025-12-03 06:26:01.326 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-12-03 06:26:01.329 -03:00 [DBG] Request did not match any endpoints
2025-12-03 06:26:01.359 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 40.3947ms
2025-12-03 06:26:16.157 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Account/CriarConta - application/json 159
2025-12-03 06:26:16.167 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Account/CriarConta'
2025-12-03 06:26:16.171 -03:00 [DBG] Endpoint 'PagueVeloz.Api.Controllers.AccountController.CriarConta (PagueVeloz.Api)' with route pattern 'api/Account/CriarConta' is valid for the request path '/api/Account/CriarConta'
2025-12-03 06:26:16.175 -03:00 [DBG] Request matched endpoint 'PagueVeloz.Api.Controllers.AccountController.CriarConta (PagueVeloz.Api)'
2025-12-03 06:26:16.190 -03:00 [INF] [REQUEST] POST /api/Account/CriarConta CorrelationId="736df711-3afe-40ad-9bf6-c47691aeee4b"
2025-12-03 06:26:16.195 -03:00 [INF] Request started: POST /api/Account/CriarConta TraceId=0HNHI9NSFR0DK:00000009
2025-12-03 06:26:16.201 -03:00 [INF] Executing endpoint 'PagueVeloz.Api.Controllers.AccountController.CriarConta (PagueVeloz.Api)'
2025-12-03 06:26:16.227 -03:00 [INF] Route matched with {action = "CriarConta", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CriarConta(PagueVeloz.Api.DTOs.AccountCreateDto) on controller PagueVeloz.Api.Controllers.AccountController (PagueVeloz.Api).
2025-12-03 06:26:16.234 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 06:26:16.237 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 06:26:16.241 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 06:26:16.245 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 06:26:16.248 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 06:26:16.253 -03:00 [DBG] Executing controller factory for controller PagueVeloz.Api.Controllers.AccountController (PagueVeloz.Api)
2025-12-03 06:26:16.257 -03:00 [DBG] Executed controller factory for controller PagueVeloz.Api.Controllers.AccountController (PagueVeloz.Api)
2025-12-03 06:26:16.271 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.Api.DTOs.AccountCreateDto' ...
2025-12-03 06:26:16.277 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.Api.DTOs.AccountCreateDto' using the name '' in request data ...
2025-12-03 06:26:16.281 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 06:26:16.299 -03:00 [DBG] Connection id "0HNHI9NSFR0DK", Request id "0HNHI9NSFR0DK:00000009": started reading request body.
2025-12-03 06:26:16.303 -03:00 [DBG] Connection id "0HNHI9NSFR0DK", Request id "0HNHI9NSFR0DK:00000009": done reading request body.
2025-12-03 06:26:16.322 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.Api.DTOs.AccountCreateDto'
2025-12-03 06:26:16.325 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.Api.DTOs.AccountCreateDto'.
2025-12-03 06:26:16.328 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.Api.DTOs.AccountCreateDto'.
2025-12-03 06:26:16.331 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.Api.DTOs.AccountCreateDto' ...
2025-12-03 06:26:16.394 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.Api.DTOs.AccountCreateDto'.
2025-12-03 06:26:16.399 -03:00 [DBG] The request has model state errors, returning an error response.
2025-12-03 06:26:16.402 -03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-12-03 06:26:16.406 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-03 06:26:16.411 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-12-03 06:26:16.421 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-12-03 06:26:16.425 -03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-12-03 06:26:16.430 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-12-03 06:26:16.433 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-03 06:26:16.466 -03:00 [INF] Executed action PagueVeloz.Api.Controllers.AccountController.CriarConta (PagueVeloz.Api) in 209.8556ms
2025-12-03 06:26:16.470 -03:00 [INF] Executed endpoint 'PagueVeloz.Api.Controllers.AccountController.CriarConta (PagueVeloz.Api)'
2025-12-03 06:26:16.473 -03:00 [INF] Request finished: POST /api/Account/CriarConta StatusCode=400 TraceId=0HNHI9NSFR0DK:00000009 Elapsed=277ms
2025-12-03 06:26:16.478 -03:00 [INF] [RESPONSE] POST /api/Account/CriarConta 400 288ms CorrelationId="736df711-3afe-40ad-9bf6-c47691aeee4b"
2025-12-03 06:26:16.483 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Account/CriarConta - 400 null application/problem+json; charset=utf-8 325.9319ms
2025-12-03 06:26:30.810 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Account/CriarConta - application/json 156
2025-12-03 06:26:30.818 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Account/CriarConta'
2025-12-03 06:26:30.820 -03:00 [DBG] Endpoint 'PagueVeloz.Api.Controllers.AccountController.CriarConta (PagueVeloz.Api)' with route pattern 'api/Account/CriarConta' is valid for the request path '/api/Account/CriarConta'
2025-12-03 06:26:30.823 -03:00 [DBG] Request matched endpoint 'PagueVeloz.Api.Controllers.AccountController.CriarConta (PagueVeloz.Api)'
2025-12-03 06:26:30.825 -03:00 [INF] [REQUEST] POST /api/Account/CriarConta CorrelationId="094c0429-8f14-4e58-b7ca-49ae9c1bb98d"
2025-12-03 06:26:30.828 -03:00 [INF] Request started: POST /api/Account/CriarConta TraceId=0HNHI9NSFR0DK:0000000B
2025-12-03 06:26:30.830 -03:00 [INF] Executing endpoint 'PagueVeloz.Api.Controllers.AccountController.CriarConta (PagueVeloz.Api)'
2025-12-03 06:26:30.832 -03:00 [INF] Route matched with {action = "CriarConta", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CriarConta(PagueVeloz.Api.DTOs.AccountCreateDto) on controller PagueVeloz.Api.Controllers.AccountController (PagueVeloz.Api).
2025-12-03 06:26:30.835 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 06:26:30.838 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 06:26:30.840 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 06:26:30.843 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 06:26:30.846 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 06:26:30.849 -03:00 [DBG] Executing controller factory for controller PagueVeloz.Api.Controllers.AccountController (PagueVeloz.Api)
2025-12-03 06:26:30.851 -03:00 [DBG] Executed controller factory for controller PagueVeloz.Api.Controllers.AccountController (PagueVeloz.Api)
2025-12-03 06:26:30.854 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.Api.DTOs.AccountCreateDto' ...
2025-12-03 06:26:30.856 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.Api.DTOs.AccountCreateDto' using the name '' in request data ...
2025-12-03 06:26:30.859 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 06:26:30.861 -03:00 [DBG] Connection id "0HNHI9NSFR0DK", Request id "0HNHI9NSFR0DK:0000000B": started reading request body.
2025-12-03 06:26:30.864 -03:00 [DBG] Connection id "0HNHI9NSFR0DK", Request id "0HNHI9NSFR0DK:0000000B": done reading request body.
2025-12-03 06:26:30.868 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.Api.DTOs.AccountCreateDto'
2025-12-03 06:26:30.870 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.Api.DTOs.AccountCreateDto'.
2025-12-03 06:26:30.873 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.Api.DTOs.AccountCreateDto'.
2025-12-03 06:26:30.876 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.Api.DTOs.AccountCreateDto' ...
2025-12-03 06:26:30.881 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.Api.DTOs.AccountCreateDto'.
2025-12-03 06:26:30.887 -03:00 [DBG] The request has model state errors, returning an error response.
2025-12-03 06:26:30.889 -03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-12-03 06:26:30.892 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-03 06:26:30.898 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-12-03 06:26:30.904 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-12-03 06:26:30.906 -03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-12-03 06:26:30.910 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-12-03 06:26:30.914 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-03 06:26:30.918 -03:00 [INF] Executed action PagueVeloz.Api.Controllers.AccountController.CriarConta (PagueVeloz.Api) in 68.7156ms
2025-12-03 06:26:30.921 -03:00 [INF] Executed endpoint 'PagueVeloz.Api.Controllers.AccountController.CriarConta (PagueVeloz.Api)'
2025-12-03 06:26:30.924 -03:00 [INF] Request finished: POST /api/Account/CriarConta StatusCode=400 TraceId=0HNHI9NSFR0DK:0000000B Elapsed=96ms
2025-12-03 06:26:30.929 -03:00 [INF] [RESPONSE] POST /api/Account/CriarConta 400 104ms CorrelationId="094c0429-8f14-4e58-b7ca-49ae9c1bb98d"
2025-12-03 06:26:30.933 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Account/CriarConta - 400 null application/problem+json; charset=utf-8 123.2696ms
2025-12-03 06:27:32.013 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Account/CriarConta - application/json 127
2025-12-03 06:27:32.025 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Account/CriarConta'
2025-12-03 06:27:32.029 -03:00 [DBG] Endpoint 'PagueVeloz.Api.Controllers.AccountController.CriarConta (PagueVeloz.Api)' with route pattern 'api/Account/CriarConta' is valid for the request path '/api/Account/CriarConta'
2025-12-03 06:27:32.033 -03:00 [DBG] Request matched endpoint 'PagueVeloz.Api.Controllers.AccountController.CriarConta (PagueVeloz.Api)'
2025-12-03 06:27:32.036 -03:00 [INF] [REQUEST] POST /api/Account/CriarConta CorrelationId="abb55ca1-b335-4943-b1fc-8a00c653875a"
2025-12-03 06:27:32.040 -03:00 [INF] Request started: POST /api/Account/CriarConta TraceId=0HNHI9NSFR0DK:0000000D
2025-12-03 06:27:32.043 -03:00 [INF] Executing endpoint 'PagueVeloz.Api.Controllers.AccountController.CriarConta (PagueVeloz.Api)'
2025-12-03 06:27:32.046 -03:00 [INF] Route matched with {action = "CriarConta", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CriarConta(PagueVeloz.Api.DTOs.AccountCreateDto) on controller PagueVeloz.Api.Controllers.AccountController (PagueVeloz.Api).
2025-12-03 06:27:32.051 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 06:27:32.053 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 06:27:32.056 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 06:27:32.059 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 06:27:32.064 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 06:27:32.067 -03:00 [DBG] Executing controller factory for controller PagueVeloz.Api.Controllers.AccountController (PagueVeloz.Api)
2025-12-03 06:27:32.074 -03:00 [DBG] Executed controller factory for controller PagueVeloz.Api.Controllers.AccountController (PagueVeloz.Api)
2025-12-03 06:27:32.078 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.Api.DTOs.AccountCreateDto' ...
2025-12-03 06:27:32.081 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.Api.DTOs.AccountCreateDto' using the name '' in request data ...
2025-12-03 06:27:32.085 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 06:27:32.087 -03:00 [DBG] Connection id "0HNHI9NSFR0DK", Request id "0HNHI9NSFR0DK:0000000D": started reading request body.
2025-12-03 06:27:32.090 -03:00 [DBG] Connection id "0HNHI9NSFR0DK", Request id "0HNHI9NSFR0DK:0000000D": done reading request body.
2025-12-03 06:27:32.094 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.Api.DTOs.AccountCreateDto'
2025-12-03 06:27:32.097 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.Api.DTOs.AccountCreateDto'.
2025-12-03 06:27:32.100 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.Api.DTOs.AccountCreateDto'.
2025-12-03 06:27:32.102 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.Api.DTOs.AccountCreateDto' ...
2025-12-03 06:27:32.106 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.Api.DTOs.AccountCreateDto'.
2025-12-03 06:27:32.110 -03:00 [DBG] The request has model state errors, returning an error response.
2025-12-03 06:27:32.111 -03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-12-03 06:27:32.114 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-03 06:27:32.119 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-12-03 06:27:32.124 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-12-03 06:27:32.127 -03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-12-03 06:27:32.132 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-12-03 06:27:32.135 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-03 06:27:32.137 -03:00 [INF] Executed action PagueVeloz.Api.Controllers.AccountController.CriarConta (PagueVeloz.Api) in 70.5035ms
2025-12-03 06:27:32.141 -03:00 [INF] Executed endpoint 'PagueVeloz.Api.Controllers.AccountController.CriarConta (PagueVeloz.Api)'
2025-12-03 06:27:32.144 -03:00 [INF] Request finished: POST /api/Account/CriarConta StatusCode=400 TraceId=0HNHI9NSFR0DK:0000000D Elapsed=103ms
2025-12-03 06:27:32.149 -03:00 [INF] [RESPONSE] POST /api/Account/CriarConta 400 112ms CorrelationId="abb55ca1-b335-4943-b1fc-8a00c653875a"
2025-12-03 06:27:32.154 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Account/CriarConta - 400 null application/problem+json; charset=utf-8 141.5971ms
2025-12-03 06:31:24.707 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-12-03 06:31:25.733 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:31:25.738 -03:00 [WRN] No store type was specified for the decimal property 'CreditLimit' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:31:25.741 -03:00 [WRN] No store type was specified for the decimal property 'ReservedBalance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:31:25.745 -03:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:31:25.752 -03:00 [WRN] No store type was specified for the decimal property 'AvailableBalance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:31:25.755 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:31:25.934 -03:00 [DBG] Entity Framework Core 9.0.11 initialized 'PagueVelozDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.11' with options: EngineType=SqlServer 
2025-12-03 06:31:25.956 -03:00 [DBG] Creating DbConnection.
2025-12-03 06:31:26.028 -03:00 [DBG] Created DbConnection. (71ms).
2025-12-03 06:31:26.035 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:31:26.386 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:31:26.403 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-12-03 06:31:26.422 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (16ms).
2025-12-03 06:31:26.428 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (33ms).
2025-12-03 06:31:26.442 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 06:31:26.504 -03:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 06:31:26.512 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:31:26.524 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (9ms).
2025-12-03 06:31:26.530 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-12-03 06:31:26.532 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2025-12-03 06:31:26.534 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (4ms).
2025-12-03 06:31:26.537 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:31:26.540 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:31:26.542 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 06:31:26.576 -03:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 06:31:26.581 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:31:26.584 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (3ms).
2025-12-03 06:31:26.590 -03:00 [DBG] 'PagueVelozDbContext' disposed.
2025-12-03 06:31:26.594 -03:00 [DBG] Disposing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:31:26.600 -03:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-12-03 06:31:26.802 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-12-03 06:31:26.900 -03:00 [DBG] Hosting starting
2025-12-03 06:31:26.926 -03:00 [DBG] Middleware loaded
2025-12-03 06:31:26.932 -03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16513 B).
2025-12-03 06:31:26.935 -03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-12-03 06:31:27.042 -03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-12-03 06:31:27.048 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-12-03 06:31:27.065 -03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-12-03 06:31:27.228 -03:00 [INF] Now listening on: https://localhost:7249
2025-12-03 06:31:27.232 -03:00 [INF] Now listening on: http://localhost:5247
2025-12-03 06:31:27.234 -03:00 [DBG] Loaded hosting startup assembly PagueVeloz.Api
2025-12-03 06:31:27.236 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-12-03 06:31:27.238 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-12-03 06:31:27.239 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-12-03 06:31:27.251 -03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 06:31:27.256 -03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 06:31:27.670 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-03 06:31:27.672 -03:00 [INF] Hosting environment: Development
2025-12-03 06:31:27.675 -03:00 [INF] Content root path: E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api
2025-12-03 06:31:27.677 -03:00 [DBG] Hosting started
2025-12-03 06:31:46.092 -03:00 [DBG] Connection id "0HNHI9R3G6P60" accepted.
2025-12-03 06:31:46.106 -03:00 [DBG] Connection id "0HNHI9R3G6P60" started.
2025-12-03 06:31:46.168 -03:00 [DBG] Connection 0HNHI9R3G6P60 established using the following protocol: "Tls13"
2025-12-03 06:31:46.240 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/swagger/index.html - null null
2025-12-03 06:31:46.414 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-12-03 06:31:46.417 -03:00 [DBG] Request did not match any endpoints
2025-12-03 06:31:46.513 -03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-12-03 06:31:46.518 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-12-03 06:31:46.528 -03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-12-03 06:31:46.532 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-12-03 06:31:46.541 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/swagger/index.html - 200 null text/html;charset=utf-8 305.3794ms
2025-12-03 06:31:46.564 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/_vs/browserLink - null null
2025-12-03 06:31:46.570 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/_framework/aspnetcore-browser-refresh.js - null null
2025-12-03 06:31:46.628 -03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-12-03 06:31:46.632 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 61.4162ms
2025-12-03 06:31:46.666 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/_vs/browserLink - 200 null text/javascript; charset=UTF-8 101.1533ms
2025-12-03 06:31:46.800 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/swagger/v1/swagger.json - null null
2025-12-03 06:31:46.810 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-12-03 06:31:46.814 -03:00 [DBG] Request did not match any endpoints
2025-12-03 06:31:46.850 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 50.2028ms
2025-12-03 06:32:20.424 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Account/CriarConta - application/json 98
2025-12-03 06:32:20.442 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Account/CriarConta'
2025-12-03 06:32:20.445 -03:00 [DBG] Endpoint 'PagueVeloz.Api.Controllers.AccountController.CriarConta (PagueVeloz.Api)' with route pattern 'api/Account/CriarConta' is valid for the request path '/api/Account/CriarConta'
2025-12-03 06:32:20.450 -03:00 [DBG] Request matched endpoint 'PagueVeloz.Api.Controllers.AccountController.CriarConta (PagueVeloz.Api)'
2025-12-03 06:32:20.470 -03:00 [INF] [REQUEST] POST /api/Account/CriarConta CorrelationId="3d3a92ba-dc56-4cb5-b50b-922b1f331d9b"
2025-12-03 06:32:20.476 -03:00 [INF] Request started: POST /api/Account/CriarConta TraceId=0HNHI9R3G6P60:00000009
2025-12-03 06:32:20.482 -03:00 [INF] Executing endpoint 'PagueVeloz.Api.Controllers.AccountController.CriarConta (PagueVeloz.Api)'
2025-12-03 06:32:20.514 -03:00 [INF] Route matched with {action = "CriarConta", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CriarConta(PagueVeloz.Api.DTOs.AccountCreateDto) on controller PagueVeloz.Api.Controllers.AccountController (PagueVeloz.Api).
2025-12-03 06:32:20.521 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 06:32:20.525 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 06:32:20.531 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 06:32:20.535 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 06:32:20.539 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 06:32:20.544 -03:00 [DBG] Executing controller factory for controller PagueVeloz.Api.Controllers.AccountController (PagueVeloz.Api)
2025-12-03 06:32:20.549 -03:00 [DBG] Executed controller factory for controller PagueVeloz.Api.Controllers.AccountController (PagueVeloz.Api)
2025-12-03 06:32:20.565 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.Api.DTOs.AccountCreateDto' ...
2025-12-03 06:32:20.570 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.Api.DTOs.AccountCreateDto' using the name '' in request data ...
2025-12-03 06:32:20.574 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 06:32:20.588 -03:00 [DBG] Connection id "0HNHI9R3G6P60", Request id "0HNHI9R3G6P60:00000009": started reading request body.
2025-12-03 06:32:20.592 -03:00 [DBG] Connection id "0HNHI9R3G6P60", Request id "0HNHI9R3G6P60:00000009": done reading request body.
2025-12-03 06:32:20.623 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.Api.DTOs.AccountCreateDto'
2025-12-03 06:32:20.626 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.Api.DTOs.AccountCreateDto'.
2025-12-03 06:32:20.630 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.Api.DTOs.AccountCreateDto'.
2025-12-03 06:32:20.633 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.Api.DTOs.AccountCreateDto' ...
2025-12-03 06:32:20.694 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.Api.DTOs.AccountCreateDto'.
2025-12-03 06:32:20.701 -03:00 [INF] Recebida solicitação de criação de conta.
2025-12-03 06:32:20.704 -03:00 [WRN] Idempotency-Key não enviada, gerando uma aleatória.
2025-12-03 06:32:20.708 -03:00 [INF] Iniciando abertura de conta.
2025-12-03 06:32:20.863 -03:00 [INF] [AUDIT] Conta criada com sucesso:
2025-12-03 06:32:20.871 -03:00 [DBG] Iniciando INSERT de conta {"AccountId":"00000000-0000-0000-0000-000000000000","AccountNumber":"CC-0003","Balance":1000,"ReservedBalance":0,"CreditLimit":1000,"Status":"Active","CreatedAt":"2025-12-03T09:32:20.8622903Z","UpdatedAt":"2025-12-03T09:32:20.8623955Z","RowVersion":null,"$type":"AccountModel"}
2025-12-03 06:32:20.918 -03:00 [INF] Conta CC-0003 criada com sucesso.
2025-12-03 06:32:20.967 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-03 06:32:20.975 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-12-03 06:32:20.979 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-12-03 06:32:20.982 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-12-03 06:32:20.984 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-12-03 06:32:20.987 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-12-03 06:32:20.990 -03:00 [INF] Executing OkObjectResult, writing value of type 'AccountResponseDto'.
2025-12-03 06:32:21.003 -03:00 [INF] Executed action PagueVeloz.Api.Controllers.AccountController.CriarConta (PagueVeloz.Api) in 457.0307ms
2025-12-03 06:32:21.007 -03:00 [INF] Executed endpoint 'PagueVeloz.Api.Controllers.AccountController.CriarConta (PagueVeloz.Api)'
2025-12-03 06:32:21.011 -03:00 [INF] Request finished: POST /api/Account/CriarConta StatusCode=200 TraceId=0HNHI9R3G6P60:00000009 Elapsed=534ms
2025-12-03 06:32:21.017 -03:00 [INF] [RESPONSE] POST /api/Account/CriarConta 200 547ms CorrelationId="3d3a92ba-dc56-4cb5-b50b-922b1f331d9b"
2025-12-03 06:32:21.022 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Account/CriarConta - 200 null application/json; charset=utf-8 598.0744ms
2025-12-03 06:36:10.526 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-12-03 06:36:11.479 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:36:11.484 -03:00 [WRN] No store type was specified for the decimal property 'CreditLimit' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:36:11.487 -03:00 [WRN] No store type was specified for the decimal property 'ReservedBalance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:36:11.490 -03:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:36:11.494 -03:00 [WRN] No store type was specified for the decimal property 'AvailableBalance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:36:11.498 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:36:11.610 -03:00 [DBG] Entity Framework Core 9.0.11 initialized 'PagueVelozDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.11' with options: EngineType=SqlServer 
2025-12-03 06:36:11.628 -03:00 [DBG] Creating DbConnection.
2025-12-03 06:36:11.685 -03:00 [DBG] Created DbConnection. (53ms).
2025-12-03 06:36:11.692 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:36:11.989 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:36:12.000 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-12-03 06:36:12.010 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (10ms).
2025-12-03 06:36:12.015 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (19ms).
2025-12-03 06:36:12.026 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 06:36:12.077 -03:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 06:36:12.085 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:36:12.102 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (11ms).
2025-12-03 06:36:12.109 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-12-03 06:36:12.111 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2025-12-03 06:36:12.114 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (5ms).
2025-12-03 06:36:12.117 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:36:12.121 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:36:12.124 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 06:36:12.163 -03:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 06:36:12.169 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:36:12.172 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (3ms).
2025-12-03 06:36:12.177 -03:00 [DBG] 'PagueVelozDbContext' disposed.
2025-12-03 06:36:12.182 -03:00 [DBG] Disposing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:36:12.186 -03:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-12-03 06:36:12.363 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-12-03 06:36:12.448 -03:00 [DBG] Hosting starting
2025-12-03 06:36:12.473 -03:00 [DBG] Middleware loaded
2025-12-03 06:36:12.477 -03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16513 B).
2025-12-03 06:36:12.482 -03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-12-03 06:36:12.582 -03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-12-03 06:36:12.586 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-12-03 06:36:12.601 -03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-12-03 06:36:12.788 -03:00 [INF] Now listening on: https://localhost:7249
2025-12-03 06:36:12.791 -03:00 [INF] Now listening on: http://localhost:5247
2025-12-03 06:36:12.792 -03:00 [DBG] Loaded hosting startup assembly PagueVeloz.Api
2025-12-03 06:36:12.794 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-12-03 06:36:12.796 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-12-03 06:36:12.798 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-12-03 06:36:12.808 -03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 06:36:12.813 -03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 06:36:12.976 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-03 06:36:12.978 -03:00 [INF] Hosting environment: Development
2025-12-03 06:36:12.981 -03:00 [INF] Content root path: E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api
2025-12-03 06:36:12.983 -03:00 [DBG] Hosting started
2025-12-03 06:36:36.421 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-12-03 06:36:37.462 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:36:37.468 -03:00 [WRN] No store type was specified for the decimal property 'CreditLimit' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:36:37.472 -03:00 [WRN] No store type was specified for the decimal property 'ReservedBalance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:36:37.476 -03:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:36:37.479 -03:00 [WRN] No store type was specified for the decimal property 'AvailableBalance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:36:37.482 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:36:37.620 -03:00 [DBG] Entity Framework Core 9.0.11 initialized 'PagueVelozDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.11' with options: EngineType=SqlServer 
2025-12-03 06:36:37.641 -03:00 [DBG] Creating DbConnection.
2025-12-03 06:36:37.701 -03:00 [DBG] Created DbConnection. (58ms).
2025-12-03 06:36:37.708 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:36:38.003 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:36:38.017 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-12-03 06:36:38.025 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (11ms).
2025-12-03 06:36:38.030 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (18ms).
2025-12-03 06:36:38.043 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 06:36:38.095 -03:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 06:36:38.104 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:36:38.119 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (9ms).
2025-12-03 06:36:38.126 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-12-03 06:36:38.129 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2025-12-03 06:36:38.133 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (6ms).
2025-12-03 06:36:38.136 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:36:38.140 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:36:38.144 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 06:36:38.176 -03:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 06:36:38.181 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:36:38.185 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (3ms).
2025-12-03 06:36:38.190 -03:00 [DBG] 'PagueVelozDbContext' disposed.
2025-12-03 06:36:38.194 -03:00 [DBG] Disposing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:36:38.198 -03:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-12-03 06:36:38.404 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-12-03 06:36:38.494 -03:00 [DBG] Hosting starting
2025-12-03 06:36:38.525 -03:00 [DBG] Middleware loaded
2025-12-03 06:36:38.532 -03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16513 B).
2025-12-03 06:36:38.537 -03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-12-03 06:36:38.703 -03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-12-03 06:36:38.708 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-12-03 06:36:38.725 -03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-12-03 06:36:39.002 -03:00 [INF] Now listening on: https://localhost:7249
2025-12-03 06:36:39.005 -03:00 [INF] Now listening on: http://localhost:5247
2025-12-03 06:36:39.008 -03:00 [DBG] Loaded hosting startup assembly PagueVeloz.Api
2025-12-03 06:36:39.010 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-12-03 06:36:39.011 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-12-03 06:36:39.013 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-12-03 06:36:39.027 -03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 06:36:39.031 -03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 06:36:39.194 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-03 06:36:39.196 -03:00 [INF] Hosting environment: Development
2025-12-03 06:36:39.198 -03:00 [INF] Content root path: E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api
2025-12-03 06:36:39.201 -03:00 [DBG] Hosting started
2025-12-03 06:37:09.456 -03:00 [DBG] Connection id "0HNHI9U3S1KBP" accepted.
2025-12-03 06:37:09.484 -03:00 [DBG] Connection id "0HNHI9U3S1KBP" started.
2025-12-03 06:37:09.588 -03:00 [DBG] Connection 0HNHI9U3S1KBP established using the following protocol: "Tls13"
2025-12-03 06:37:09.704 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/swagger/index.html - null null
2025-12-03 06:37:09.944 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-12-03 06:37:09.948 -03:00 [DBG] Request did not match any endpoints
2025-12-03 06:37:10.075 -03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-12-03 06:37:10.080 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-12-03 06:37:10.094 -03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-12-03 06:37:10.103 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-12-03 06:37:10.114 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/swagger/index.html - 200 null text/html;charset=utf-8 420.1152ms
2025-12-03 06:37:10.150 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/_vs/browserLink - null null
2025-12-03 06:37:10.151 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/_framework/aspnetcore-browser-refresh.js - null null
2025-12-03 06:37:10.223 -03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-12-03 06:37:10.226 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 75.5533ms
2025-12-03 06:37:10.274 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/_vs/browserLink - 200 null text/javascript; charset=UTF-8 123.1178ms
2025-12-03 06:37:10.727 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/swagger/v1/swagger.json - null null
2025-12-03 06:37:10.736 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-12-03 06:37:10.739 -03:00 [DBG] Request did not match any endpoints
2025-12-03 06:37:10.870 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 142.599ms
2025-12-03 06:37:47.084 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/swagger/index.html - null null
2025-12-03 06:37:47.100 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-12-03 06:37:47.104 -03:00 [DBG] Request did not match any endpoints
2025-12-03 06:37:47.109 -03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-12-03 06:37:47.111 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-12-03 06:37:47.113 -03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-12-03 06:37:47.116 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-12-03 06:37:47.118 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/swagger/index.html - 200 null text/html;charset=utf-8 34.0679ms
2025-12-03 06:37:47.196 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/_vs/browserLink - null null
2025-12-03 06:37:47.205 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/_framework/aspnetcore-browser-refresh.js - null null
2025-12-03 06:37:47.212 -03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-12-03 06:37:47.215 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 10.9282ms
2025-12-03 06:37:47.238 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/_vs/browserLink - 200 null text/javascript; charset=UTF-8 42.587ms
2025-12-03 06:37:47.836 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/swagger/v1/swagger.json - null null
2025-12-03 06:37:47.848 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-12-03 06:37:47.853 -03:00 [DBG] Request did not match any endpoints
2025-12-03 06:37:47.856 -03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 06:37:47.861 -03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 06:37:47.886 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 49.7395ms
2025-12-03 06:39:34.714 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction/transferencia - application/json 194
2025-12-03 06:39:34.729 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction/transferencia'
2025-12-03 06:39:34.733 -03:00 [DBG] Endpoint 'TransactionController.Transfer (PagueVeloz.Api)' with route pattern 'api/Transaction/transferencia' is valid for the request path '/api/Transaction/transferencia'
2025-12-03 06:39:34.736 -03:00 [DBG] Request matched endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 06:39:34.754 -03:00 [INF] [REQUEST] POST /api/Transaction/transferencia CorrelationId="0424546b-ae53-4ae0-a869-b8fc57baa5b4"
2025-12-03 06:39:34.761 -03:00 [INF] Request started: POST /api/Transaction/transferencia TraceId=0HNHI9U3S1KBP:00000011
2025-12-03 06:39:34.766 -03:00 [INF] Executing endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 06:39:34.797 -03:00 [INF] Route matched with {action = "Transfer", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Transfer(PagueVeloz.API.DTOs.TransferCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 06:39:34.803 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 06:39:34.806 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 06:39:34.809 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 06:39:34.813 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 06:39:34.815 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 06:39:34.819 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 06:39:34.824 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 06:39:34.830 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' ...
2025-12-03 06:39:34.835 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' using the name '' in request data ...
2025-12-03 06:39:34.838 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 06:39:34.858 -03:00 [DBG] Connection id "0HNHI9U3S1KBP", Request id "0HNHI9U3S1KBP:00000011": started reading request body.
2025-12-03 06:39:34.862 -03:00 [DBG] Connection id "0HNHI9U3S1KBP", Request id "0HNHI9U3S1KBP:00000011": done reading request body.
2025-12-03 06:39:34.884 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.API.DTOs.TransferCreateDto'
2025-12-03 06:39:34.888 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 06:39:34.892 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 06:39:34.896 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' ...
2025-12-03 06:39:34.964 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 06:39:34.971 -03:00 [INF] Recebida solicitação de movimentação do tipo: {dto.Operation} .
2025-12-03 06:39:34.975 -03:00 [WRN] Idempotency-Key não enviada, gerando uma aleatória.
2025-12-03 06:39:34.999 -03:00 [INF] Iniciando a movimentação de conta.
2025-12-03 06:39:35.704 -03:00 [WRN] Tentativa 1 falhou. Esperando "00:00:02" antes de tentar novamente. Erro: BeginExecuteReader requer que o comando tenha uma transação quando a conexão atribuída ao comando estiver em uma transação local pendente. A propriedade Transaction do comando não foi inicializada.
2025-12-03 06:39:37.723 -03:00 [INF] Iniciando a movimentação de conta.
2025-12-03 06:39:38.175 -03:00 [WRN] Tentativa 2 falhou. Esperando "00:00:04" antes de tentar novamente. Erro: BeginExecuteReader requer que o comando tenha uma transação quando a conexão atribuída ao comando estiver em uma transação local pendente. A propriedade Transaction do comando não foi inicializada.
2025-12-03 06:39:42.189 -03:00 [INF] Iniciando a movimentação de conta.
2025-12-03 06:39:42.663 -03:00 [WRN] Tentativa 3 falhou. Esperando "00:00:08" antes de tentar novamente. Erro: BeginExecuteReader requer que o comando tenha uma transação quando a conexão atribuída ao comando estiver em uma transação local pendente. A propriedade Transaction do comando não foi inicializada.
2025-12-03 06:39:50.670 -03:00 [INF] Iniciando a movimentação de conta.
2025-12-03 06:39:52.698 -03:00 [INF] Executed action TransactionController.Transfer (PagueVeloz.Api) in 17877.4665ms
2025-12-03 06:39:53.153 -03:00 [INF] Executed endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 06:39:54.363 -03:00 [ERR] Erro capturado globalmente. TraceId: 00-df20c664e0f679752c780f9bd736004c-9e7d42378f9a5336-00
System.InvalidOperationException: BeginExecuteReader requer que o comando tenha uma transação quando a conexão atribuída ao comando estiver em uma transação local pendente. A propriedade Transaction do comando não foi inicializada.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at PagueVeloz.Infrastructure.Repositories.Account.AccountRepository.GetAccountByIdAsync(Guid AccountId) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Infrastructure\Repositories\Accounts\AccountRepository.cs:line 55
   at PagueVeloz.Application.Services.TransactionService.TransferAsync(AccountModel source, Guid destinationId, Decimal amount, IDbTransaction dbTransaction) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Application\Services\TransactionService.cs:line 180
   at PagueVeloz.Application.Services.TransactionService.<>c__DisplayClass6_0.<<ProcessTransactionAsync>b__0>d.MoveNext() in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Application\Services\TransactionService.cs:line 83
--- End of stack trace from previous location ---
   at Polly.Retry.AsyncRetryEngine.ImplementationAsync[TResult](Func`3 action, Context context, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Func`5 onRetryAsync, CancellationToken cancellationToken, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at PagueVeloz.Application.Services.TransactionService.ProcessTransactionAsync(TransactionModel dto, String idempotencyKey) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Application\Services\TransactionService.cs:line 41
   at TransactionController.Transfer(TransferCreateDto dto)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at RequestTimingMiddleware.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\RequestTiming.cs:line 23
   at PagueVeloz.Shared.Middlewares.RequestLog.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\RequestLog.cs:line 28
   at ExceptionHandlingMiddleware.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\ExceptionHandling.cs:line 22
2025-12-03 06:39:54.429 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Transaction/transferencia - 500 null application/json 19715.4413ms
2025-12-03 06:40:57.324 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction/transferencia - application/json 194
2025-12-03 06:40:57.340 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction/transferencia'
2025-12-03 06:40:57.343 -03:00 [DBG] Endpoint 'TransactionController.Transfer (PagueVeloz.Api)' with route pattern 'api/Transaction/transferencia' is valid for the request path '/api/Transaction/transferencia'
2025-12-03 06:40:57.347 -03:00 [DBG] Request matched endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 06:40:57.350 -03:00 [INF] [REQUEST] POST /api/Transaction/transferencia CorrelationId="ac6d3f47-7f07-4bf4-9d61-00fd1c87ccde"
2025-12-03 06:40:57.354 -03:00 [INF] Request started: POST /api/Transaction/transferencia TraceId=0HNHI9U3S1KBP:00000013
2025-12-03 06:40:57.361 -03:00 [INF] Executing endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 06:40:57.363 -03:00 [INF] Route matched with {action = "Transfer", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Transfer(PagueVeloz.API.DTOs.TransferCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 06:40:57.369 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 06:40:57.373 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 06:40:57.377 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 06:40:57.380 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 06:40:57.384 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 06:40:57.388 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 06:40:57.391 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 06:40:57.394 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' ...
2025-12-03 06:40:57.396 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' using the name '' in request data ...
2025-12-03 06:40:57.399 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 06:40:57.403 -03:00 [DBG] Connection id "0HNHI9U3S1KBP", Request id "0HNHI9U3S1KBP:00000013": started reading request body.
2025-12-03 06:40:57.406 -03:00 [DBG] Connection id "0HNHI9U3S1KBP", Request id "0HNHI9U3S1KBP:00000013": done reading request body.
2025-12-03 06:40:57.409 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.API.DTOs.TransferCreateDto'
2025-12-03 06:40:57.411 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 06:40:57.413 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 06:40:57.415 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' ...
2025-12-03 06:40:57.426 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 06:40:57.429 -03:00 [INF] Recebida solicitação de movimentação do tipo: {dto.Operation} .
2025-12-03 06:40:57.431 -03:00 [WRN] Idempotency-Key não enviada, gerando uma aleatória.
2025-12-03 06:40:57.433 -03:00 [INF] Iniciando a movimentação de conta.
2025-12-03 06:40:58.052 -03:00 [WRN] Tentativa 1 falhou. Esperando "00:00:02" antes de tentar novamente. Erro: BeginExecuteReader requer que o comando tenha uma transação quando a conexão atribuída ao comando estiver em uma transação local pendente. A propriedade Transaction do comando não foi inicializada.
2025-12-03 06:41:00.070 -03:00 [INF] Iniciando a movimentação de conta.
2025-12-03 06:41:44.948 -03:00 [WRN] Tentativa 2 falhou. Esperando "00:00:04" antes de tentar novamente. Erro: BeginExecuteReader requer que o comando tenha uma transação quando a conexão atribuída ao comando estiver em uma transação local pendente. A propriedade Transaction do comando não foi inicializada.
2025-12-03 06:42:18.648 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-12-03 06:42:19.635 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:42:19.641 -03:00 [WRN] No store type was specified for the decimal property 'CreditLimit' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:42:19.644 -03:00 [WRN] No store type was specified for the decimal property 'ReservedBalance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:42:19.647 -03:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:42:19.650 -03:00 [WRN] No store type was specified for the decimal property 'AvailableBalance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:42:19.653 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:42:19.794 -03:00 [DBG] Entity Framework Core 9.0.11 initialized 'PagueVelozDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.11' with options: EngineType=SqlServer 
2025-12-03 06:42:19.816 -03:00 [DBG] Creating DbConnection.
2025-12-03 06:42:19.875 -03:00 [DBG] Created DbConnection. (56ms).
2025-12-03 06:42:19.885 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:42:20.167 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:42:20.177 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-12-03 06:42:20.187 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (8ms).
2025-12-03 06:42:20.192 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (18ms).
2025-12-03 06:42:20.204 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 06:42:20.257 -03:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 06:42:20.264 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:42:20.279 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (10ms).
2025-12-03 06:42:20.286 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-12-03 06:42:20.288 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2025-12-03 06:42:20.291 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (4ms).
2025-12-03 06:42:20.293 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:42:20.296 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:42:20.300 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 06:42:20.339 -03:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 06:42:20.344 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:42:20.348 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (3ms).
2025-12-03 06:42:20.354 -03:00 [DBG] 'PagueVelozDbContext' disposed.
2025-12-03 06:42:20.358 -03:00 [DBG] Disposing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:42:20.364 -03:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-12-03 06:42:20.550 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-12-03 06:42:20.638 -03:00 [DBG] Hosting starting
2025-12-03 06:42:20.661 -03:00 [DBG] Middleware loaded
2025-12-03 06:42:20.666 -03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16513 B).
2025-12-03 06:42:20.671 -03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-12-03 06:42:20.767 -03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-12-03 06:42:20.771 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-12-03 06:42:20.785 -03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-12-03 06:42:20.998 -03:00 [INF] Now listening on: https://localhost:7249
2025-12-03 06:42:21.000 -03:00 [INF] Now listening on: http://localhost:5247
2025-12-03 06:42:21.003 -03:00 [DBG] Loaded hosting startup assembly PagueVeloz.Api
2025-12-03 06:42:21.006 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-12-03 06:42:21.008 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-12-03 06:42:21.011 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-12-03 06:42:21.032 -03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 06:42:21.036 -03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 06:42:21.286 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-03 06:42:21.289 -03:00 [INF] Hosting environment: Development
2025-12-03 06:42:21.292 -03:00 [INF] Content root path: E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api
2025-12-03 06:42:21.296 -03:00 [DBG] Hosting started
2025-12-03 06:43:03.303 -03:00 [DBG] Connection id "0HNHIA1DAJB6H" accepted.
2025-12-03 06:43:03.327 -03:00 [DBG] Connection id "0HNHIA1DAJB6H" started.
2025-12-03 06:43:03.397 -03:00 [DBG] Connection 0HNHIA1DAJB6H established using the following protocol: "Tls13"
2025-12-03 06:43:03.477 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction/transferencia - application/json 194
2025-12-03 06:43:03.535 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction/transferencia'
2025-12-03 06:43:03.540 -03:00 [DBG] Endpoint 'TransactionController.Transfer (PagueVeloz.Api)' with route pattern 'api/Transaction/transferencia' is valid for the request path '/api/Transaction/transferencia'
2025-12-03 06:43:03.546 -03:00 [DBG] Request matched endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 06:43:03.579 -03:00 [INF] [REQUEST] POST /api/Transaction/transferencia CorrelationId="7daf315c-ccbc-4700-bbf8-1e487a729768"
2025-12-03 06:43:03.588 -03:00 [INF] Request started: POST /api/Transaction/transferencia TraceId=0HNHIA1DAJB6H:00000001
2025-12-03 06:43:03.595 -03:00 [INF] Executing endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 06:43:03.637 -03:00 [INF] Route matched with {action = "Transfer", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Transfer(PagueVeloz.API.DTOs.TransferCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 06:43:03.643 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 06:43:03.647 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 06:43:03.651 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 06:43:03.655 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 06:43:03.659 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 06:43:03.665 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 06:43:03.670 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 06:43:03.690 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' ...
2025-12-03 06:43:03.696 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' using the name '' in request data ...
2025-12-03 06:43:03.700 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 06:43:03.723 -03:00 [DBG] Connection id "0HNHIA1DAJB6H", Request id "0HNHIA1DAJB6H:00000001": started reading request body.
2025-12-03 06:43:03.727 -03:00 [DBG] Connection id "0HNHIA1DAJB6H", Request id "0HNHIA1DAJB6H:00000001": done reading request body.
2025-12-03 06:43:03.765 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.API.DTOs.TransferCreateDto'
2025-12-03 06:43:03.777 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 06:43:03.782 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 06:43:03.785 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' ...
2025-12-03 06:43:03.890 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 06:43:06.801 -03:00 [INF] Recebida solicitação de movimentação do tipo: {dto.Operation} .
2025-12-03 06:43:10.207 -03:00 [WRN] Idempotency-Key não enviada, gerando uma aleatória.
2025-12-03 06:43:13.090 -03:00 [INF] Iniciando a movimentação de conta.
2025-12-03 06:43:52.197 -03:00 [WRN] Tentativa 1 falhou. Esperando "00:00:02" antes de tentar novamente. Erro: BeginExecuteReader requer que o comando tenha uma transação quando a conexão atribuída ao comando estiver em uma transação local pendente. A propriedade Transaction do comando não foi inicializada.
2025-12-03 06:43:54.563 -03:00 [INF] Iniciando a movimentação de conta.
2025-12-03 06:45:01.892 -03:00 [WRN] Tentativa 2 falhou. Esperando "00:00:04" antes de tentar novamente. Erro: BeginExecuteReader requer que o comando tenha uma transação quando a conexão atribuída ao comando estiver em uma transação local pendente. A propriedade Transaction do comando não foi inicializada.
2025-12-03 06:45:13.274 -03:00 [INF] Iniciando a movimentação de conta.
2025-12-03 06:45:22.374 -03:00 [WRN] Tentativa 3 falhou. Esperando "00:00:08" antes de tentar novamente. Erro: BeginExecuteReader requer que o comando tenha uma transação quando a conexão atribuída ao comando estiver em uma transação local pendente. A propriedade Transaction do comando não foi inicializada.
2025-12-03 06:45:30.390 -03:00 [INF] Iniciando a movimentação de conta.
2025-12-03 06:45:36.610 -03:00 [INF] Executed action TransactionController.Transfer (PagueVeloz.Api) in 152943.2223ms
2025-12-03 06:45:37.089 -03:00 [INF] Executed endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 06:45:38.536 -03:00 [ERR] Erro capturado globalmente. TraceId: 00-19de602e2c66d14831b53a8294a5251c-8afe77cb5f293ff4-00
System.InvalidOperationException: BeginExecuteReader requer que o comando tenha uma transação quando a conexão atribuída ao comando estiver em uma transação local pendente. A propriedade Transaction do comando não foi inicializada.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at PagueVeloz.Infrastructure.Repositories.Account.AccountRepository.GetAccountByIdAsync(Guid AccountId) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Infrastructure\Repositories\Accounts\AccountRepository.cs:line 55
   at PagueVeloz.Application.Services.TransactionService.TransferAsync(AccountModel source, Guid destinationId, Decimal amount, IDbTransaction dbTransaction) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Application\Services\TransactionService.cs:line 182
   at PagueVeloz.Application.Services.TransactionService.<>c__DisplayClass6_0.<<ProcessTransactionAsync>b__0>d.MoveNext() in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Application\Services\TransactionService.cs:line 83
--- End of stack trace from previous location ---
   at Polly.Retry.AsyncRetryEngine.ImplementationAsync[TResult](Func`3 action, Context context, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Func`5 onRetryAsync, CancellationToken cancellationToken, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at PagueVeloz.Application.Services.TransactionService.ProcessTransactionAsync(TransactionModel dto, String idempotencyKey) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Application\Services\TransactionService.cs:line 41
   at TransactionController.Transfer(TransferCreateDto dto) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api\Controllers\TransactionController.cs:line 132
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at RequestTimingMiddleware.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\RequestTiming.cs:line 23
   at PagueVeloz.Shared.Middlewares.RequestLog.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\RequestLog.cs:line 28
   at ExceptionHandlingMiddleware.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\ExceptionHandling.cs:line 22
2025-12-03 06:45:38.594 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Transaction/transferencia - 500 null application/json 155125.1147ms
2025-12-03 06:47:37.273 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-12-03 06:47:38.316 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:47:38.323 -03:00 [WRN] No store type was specified for the decimal property 'CreditLimit' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:47:38.326 -03:00 [WRN] No store type was specified for the decimal property 'ReservedBalance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:47:38.330 -03:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:47:38.334 -03:00 [WRN] No store type was specified for the decimal property 'AvailableBalance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:47:38.337 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:47:38.479 -03:00 [DBG] Entity Framework Core 9.0.11 initialized 'PagueVelozDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.11' with options: EngineType=SqlServer 
2025-12-03 06:47:38.499 -03:00 [DBG] Creating DbConnection.
2025-12-03 06:47:38.559 -03:00 [DBG] Created DbConnection. (57ms).
2025-12-03 06:47:38.569 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:47:38.862 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:47:38.874 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-12-03 06:47:38.885 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (9ms).
2025-12-03 06:47:38.891 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (20ms).
2025-12-03 06:47:38.902 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 06:47:38.949 -03:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 06:47:38.957 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:47:38.972 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (9ms).
2025-12-03 06:47:38.979 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-12-03 06:47:38.982 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2025-12-03 06:47:38.986 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (6ms).
2025-12-03 06:47:38.989 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:47:38.994 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:47:38.998 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 06:47:39.040 -03:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 06:47:39.046 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:47:39.051 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (4ms).
2025-12-03 06:47:39.056 -03:00 [DBG] 'PagueVelozDbContext' disposed.
2025-12-03 06:47:39.061 -03:00 [DBG] Disposing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:47:39.067 -03:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-12-03 06:47:39.270 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-12-03 06:47:39.360 -03:00 [DBG] Hosting starting
2025-12-03 06:47:39.420 -03:00 [DBG] Middleware loaded
2025-12-03 06:47:39.427 -03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16513 B).
2025-12-03 06:47:39.433 -03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-12-03 06:47:39.558 -03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-12-03 06:47:39.561 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-12-03 06:47:39.578 -03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-12-03 06:47:39.751 -03:00 [INF] Now listening on: https://localhost:7249
2025-12-03 06:47:39.753 -03:00 [INF] Now listening on: http://localhost:5247
2025-12-03 06:47:39.756 -03:00 [DBG] Loaded hosting startup assembly PagueVeloz.Api
2025-12-03 06:47:39.758 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-12-03 06:47:39.760 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-12-03 06:47:39.762 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-12-03 06:47:39.773 -03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 06:47:39.777 -03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 06:47:39.945 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-03 06:47:39.947 -03:00 [INF] Hosting environment: Development
2025-12-03 06:47:39.949 -03:00 [INF] Content root path: E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api
2025-12-03 06:47:39.952 -03:00 [DBG] Hosting started
2025-12-03 06:48:32.286 -03:00 [DBG] Connection id "0HNHIA4FC0U5H" accepted.
2025-12-03 06:48:32.367 -03:00 [DBG] Connection id "0HNHIA4FC0U5H" started.
2025-12-03 06:48:32.440 -03:00 [DBG] Connection 0HNHIA4FC0U5H established using the following protocol: "Tls13"
2025-12-03 06:48:32.519 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/swagger/index.html - null null
2025-12-03 06:48:32.694 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-12-03 06:48:32.697 -03:00 [DBG] Request did not match any endpoints
2025-12-03 06:48:32.791 -03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-12-03 06:48:32.795 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-12-03 06:48:32.806 -03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-12-03 06:48:32.809 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-12-03 06:48:32.817 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/swagger/index.html - 200 null text/html;charset=utf-8 304.9458ms
2025-12-03 06:48:32.846 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/_framework/aspnetcore-browser-refresh.js - null null
2025-12-03 06:48:32.847 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/_vs/browserLink - null null
2025-12-03 06:48:32.954 -03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-12-03 06:48:32.962 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 115.7775ms
2025-12-03 06:48:33.002 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/_vs/browserLink - 200 null text/javascript; charset=UTF-8 155.7108ms
2025-12-03 06:48:33.103 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/swagger/v1/swagger.json - null null
2025-12-03 06:48:33.117 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-12-03 06:48:33.122 -03:00 [DBG] Request did not match any endpoints
2025-12-03 06:48:33.161 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 59.1735ms
2025-12-03 06:48:41.900 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction/transferencia - application/json 194
2025-12-03 06:48:41.911 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction/transferencia'
2025-12-03 06:48:41.915 -03:00 [DBG] Endpoint 'TransactionController.Transfer (PagueVeloz.Api)' with route pattern 'api/Transaction/transferencia' is valid for the request path '/api/Transaction/transferencia'
2025-12-03 06:48:41.920 -03:00 [DBG] Request matched endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 06:48:41.938 -03:00 [INF] [REQUEST] POST /api/Transaction/transferencia CorrelationId="d7813fa1-7c75-46ef-bb43-ed2e1ce46d34"
2025-12-03 06:48:41.945 -03:00 [INF] Request started: POST /api/Transaction/transferencia TraceId=0HNHIA4FC0U5H:00000009
2025-12-03 06:48:41.952 -03:00 [INF] Executing endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 06:48:41.986 -03:00 [INF] Route matched with {action = "Transfer", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Transfer(PagueVeloz.API.DTOs.TransferCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 06:48:41.992 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 06:48:41.996 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 06:48:42.000 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 06:48:42.005 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 06:48:42.009 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 06:48:42.014 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 06:48:42.021 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 06:48:42.042 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' ...
2025-12-03 06:48:42.048 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' using the name '' in request data ...
2025-12-03 06:48:42.054 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 06:48:42.074 -03:00 [DBG] Connection id "0HNHIA4FC0U5H", Request id "0HNHIA4FC0U5H:00000009": started reading request body.
2025-12-03 06:48:42.078 -03:00 [DBG] Connection id "0HNHIA4FC0U5H", Request id "0HNHIA4FC0U5H:00000009": done reading request body.
2025-12-03 06:48:42.103 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.API.DTOs.TransferCreateDto'
2025-12-03 06:48:42.106 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 06:48:42.109 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 06:48:42.112 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' ...
2025-12-03 06:48:42.205 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 06:48:42.213 -03:00 [INF] Recebida solicitação de movimentação do tipo: {dto.Operation} .
2025-12-03 06:48:42.216 -03:00 [WRN] Idempotency-Key não enviada, gerando uma aleatória.
2025-12-03 06:48:42.247 -03:00 [INF] Iniciando a movimentação de conta.
2025-12-03 06:56:30.954 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-12-03 06:56:31.975 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:56:31.980 -03:00 [WRN] No store type was specified for the decimal property 'CreditLimit' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:56:31.983 -03:00 [WRN] No store type was specified for the decimal property 'ReservedBalance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:56:31.987 -03:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:56:31.990 -03:00 [WRN] No store type was specified for the decimal property 'AvailableBalance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:56:31.994 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 06:56:32.118 -03:00 [DBG] Entity Framework Core 9.0.11 initialized 'PagueVelozDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.11' with options: EngineType=SqlServer 
2025-12-03 06:56:32.142 -03:00 [DBG] Creating DbConnection.
2025-12-03 06:56:32.197 -03:00 [DBG] Created DbConnection. (53ms).
2025-12-03 06:56:32.205 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:56:32.481 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:56:32.494 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-12-03 06:56:32.505 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (11ms).
2025-12-03 06:56:32.510 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (20ms).
2025-12-03 06:56:32.522 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 06:56:32.575 -03:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 06:56:32.584 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:56:32.600 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (10ms).
2025-12-03 06:56:32.606 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-12-03 06:56:32.610 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2025-12-03 06:56:32.613 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (6ms).
2025-12-03 06:56:32.617 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:56:32.621 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:56:32.626 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 06:56:32.678 -03:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 06:56:32.684 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:56:32.687 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (3ms).
2025-12-03 06:56:32.694 -03:00 [DBG] 'PagueVelozDbContext' disposed.
2025-12-03 06:56:32.700 -03:00 [DBG] Disposing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 06:56:32.704 -03:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-12-03 06:56:32.890 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-12-03 06:56:32.984 -03:00 [DBG] Hosting starting
2025-12-03 06:56:33.017 -03:00 [DBG] Middleware loaded
2025-12-03 06:56:33.022 -03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16513 B).
2025-12-03 06:56:33.026 -03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-12-03 06:56:33.126 -03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-12-03 06:56:33.130 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-12-03 06:56:33.145 -03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-12-03 06:56:33.349 -03:00 [INF] Now listening on: https://localhost:7249
2025-12-03 06:56:33.352 -03:00 [INF] Now listening on: http://localhost:5247
2025-12-03 06:56:33.354 -03:00 [DBG] Loaded hosting startup assembly PagueVeloz.Api
2025-12-03 06:56:33.356 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-12-03 06:56:33.359 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-12-03 06:56:33.362 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-12-03 06:56:33.377 -03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 06:56:33.381 -03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 06:56:33.970 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-03 06:56:33.972 -03:00 [INF] Hosting environment: Development
2025-12-03 06:56:33.974 -03:00 [INF] Content root path: E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api
2025-12-03 06:56:33.977 -03:00 [DBG] Hosting started
2025-12-03 07:03:24.454 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-12-03 07:03:25.500 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:03:25.506 -03:00 [WRN] No store type was specified for the decimal property 'CreditLimit' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:03:25.509 -03:00 [WRN] No store type was specified for the decimal property 'ReservedBalance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:03:25.512 -03:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:03:25.516 -03:00 [WRN] No store type was specified for the decimal property 'AvailableBalance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:03:25.519 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:03:25.642 -03:00 [DBG] Entity Framework Core 9.0.11 initialized 'PagueVelozDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.11' with options: EngineType=SqlServer 
2025-12-03 07:03:25.664 -03:00 [DBG] Creating DbConnection.
2025-12-03 07:03:25.716 -03:00 [DBG] Created DbConnection. (50ms).
2025-12-03 07:03:25.725 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:03:26.000 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:03:26.011 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-12-03 07:03:26.022 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (10ms).
2025-12-03 07:03:26.027 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (19ms).
2025-12-03 07:03:26.037 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 07:03:26.091 -03:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 07:03:26.098 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:03:26.112 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (8ms).
2025-12-03 07:03:26.118 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-12-03 07:03:26.121 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2025-12-03 07:03:26.123 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (4ms).
2025-12-03 07:03:26.126 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:03:26.130 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:03:26.133 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 07:03:26.173 -03:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 07:03:26.179 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:03:26.182 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (3ms).
2025-12-03 07:03:26.187 -03:00 [DBG] 'PagueVelozDbContext' disposed.
2025-12-03 07:03:26.192 -03:00 [DBG] Disposing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:03:26.196 -03:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-12-03 07:03:26.379 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-12-03 07:03:26.463 -03:00 [DBG] Hosting starting
2025-12-03 07:03:26.488 -03:00 [DBG] Middleware loaded
2025-12-03 07:03:26.493 -03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16513 B).
2025-12-03 07:03:26.496 -03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-12-03 07:03:26.590 -03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-12-03 07:03:26.594 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-12-03 07:03:26.608 -03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-12-03 07:03:26.770 -03:00 [INF] Now listening on: https://localhost:7249
2025-12-03 07:03:26.774 -03:00 [INF] Now listening on: http://localhost:5247
2025-12-03 07:03:26.777 -03:00 [DBG] Loaded hosting startup assembly PagueVeloz.Api
2025-12-03 07:03:26.779 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-12-03 07:03:26.781 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-12-03 07:03:26.784 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-12-03 07:03:26.798 -03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 07:03:26.803 -03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 07:03:27.023 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-03 07:03:27.026 -03:00 [INF] Hosting environment: Development
2025-12-03 07:03:27.029 -03:00 [INF] Content root path: E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api
2025-12-03 07:03:27.031 -03:00 [DBG] Hosting started
2025-12-03 07:04:18.280 -03:00 [DBG] Connection id "0HNHIAD99NFR1" accepted.
2025-12-03 07:04:18.340 -03:00 [DBG] Connection id "0HNHIAD99NFR1" started.
2025-12-03 07:04:18.420 -03:00 [DBG] Connection 0HNHIAD99NFR1 established using the following protocol: "Tls13"
2025-12-03 07:04:18.508 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/swagger/index.html - null null
2025-12-03 07:04:18.679 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-12-03 07:04:18.683 -03:00 [DBG] Request did not match any endpoints
2025-12-03 07:04:18.795 -03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-12-03 07:04:18.799 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-12-03 07:04:18.812 -03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-12-03 07:04:18.815 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-12-03 07:04:18.827 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/swagger/index.html - 200 null text/html;charset=utf-8 327.8571ms
2025-12-03 07:04:18.858 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/_vs/browserLink - null null
2025-12-03 07:04:18.858 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/_framework/aspnetcore-browser-refresh.js - null null
2025-12-03 07:04:18.955 -03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-12-03 07:04:18.959 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 100.0514ms
2025-12-03 07:04:18.997 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/_vs/browserLink - 200 null text/javascript; charset=UTF-8 139.1524ms
2025-12-03 07:04:19.336 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/swagger/v1/swagger.json - null null
2025-12-03 07:04:19.344 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-12-03 07:04:19.347 -03:00 [DBG] Request did not match any endpoints
2025-12-03 07:04:19.383 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 46.7294ms
2025-12-03 07:05:12.760 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction - application/json 154
2025-12-03 07:05:12.780 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction'
2025-12-03 07:05:12.785 -03:00 [DBG] Endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)' with route pattern 'api/Transaction' is valid for the request path '/api/Transaction'
2025-12-03 07:05:12.789 -03:00 [DBG] Request matched endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:05:12.811 -03:00 [INF] [REQUEST] POST /api/Transaction CorrelationId="75ce9c34-9e21-47b6-9f2c-190fa969fd75"
2025-12-03 07:05:12.819 -03:00 [INF] Request started: POST /api/Transaction TraceId=0HNHIAD99NFR1:00000009
2025-12-03 07:05:12.827 -03:00 [INF] Executing endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:05:12.856 -03:00 [INF] Route matched with {action = "CreateTransaction", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTransaction(PagueVeloz.API.DTOs.TransactionCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 07:05:12.864 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 07:05:12.868 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 07:05:12.873 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 07:05:12.878 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 07:05:12.881 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 07:05:12.886 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 07:05:12.891 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 07:05:12.911 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 07:05:12.917 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' using the name '' in request data ...
2025-12-03 07:05:12.923 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 07:05:12.947 -03:00 [DBG] Connection id "0HNHIAD99NFR1", Request id "0HNHIAD99NFR1:00000009": started reading request body.
2025-12-03 07:05:12.951 -03:00 [DBG] Connection id "0HNHIAD99NFR1", Request id "0HNHIAD99NFR1:00000009": done reading request body.
2025-12-03 07:05:13.236 -03:00 [DBG] JSON input formatter threw an exception: '0x0A' is invalid within a JSON string. The string should be correctly escaped. Path: $.accountId | LineNumber: 2 | BytePositionInLine: 53.
2025-12-03 07:05:13.239 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:05:13.242 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:05:13.245 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 07:05:13.262 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:05:13.268 -03:00 [DBG] The request has model state errors, returning an error response.
2025-12-03 07:05:13.272 -03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-12-03 07:05:13.278 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-03 07:05:13.285 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-12-03 07:05:13.291 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-12-03 07:05:13.294 -03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-12-03 07:05:13.300 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-12-03 07:05:13.304 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-03 07:05:13.339 -03:00 [INF] Executed action TransactionController.CreateTransaction (PagueVeloz.Api) in 451.0161ms
2025-12-03 07:05:13.342 -03:00 [INF] Executed endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:05:13.344 -03:00 [INF] Request finished: POST /api/Transaction StatusCode=400 TraceId=0HNHIAD99NFR1:00000009 Elapsed=525ms
2025-12-03 07:05:13.350 -03:00 [INF] [RESPONSE] POST /api/Transaction 400 539ms CorrelationId="75ce9c34-9e21-47b6-9f2c-190fa969fd75"
2025-12-03 07:05:13.354 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Transaction - 400 null application/problem+json; charset=utf-8 593.5762ms
2025-12-03 07:05:35.927 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction - application/json 156
2025-12-03 07:05:35.942 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction'
2025-12-03 07:05:35.946 -03:00 [DBG] Endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)' with route pattern 'api/Transaction' is valid for the request path '/api/Transaction'
2025-12-03 07:05:35.949 -03:00 [DBG] Request matched endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:05:35.952 -03:00 [INF] [REQUEST] POST /api/Transaction CorrelationId="036ae554-9f50-4950-b967-71e41b3ca2df"
2025-12-03 07:05:35.957 -03:00 [INF] Request started: POST /api/Transaction TraceId=0HNHIAD99NFR1:0000000B
2025-12-03 07:05:35.960 -03:00 [INF] Executing endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:05:35.963 -03:00 [INF] Route matched with {action = "CreateTransaction", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTransaction(PagueVeloz.API.DTOs.TransactionCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 07:05:35.968 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 07:05:35.973 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 07:05:35.977 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 07:05:35.981 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 07:05:35.985 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 07:05:35.990 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 07:05:35.993 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 07:05:35.996 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 07:05:36.000 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' using the name '' in request data ...
2025-12-03 07:05:36.004 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 07:05:36.007 -03:00 [DBG] Connection id "0HNHIAD99NFR1", Request id "0HNHIAD99NFR1:0000000B": started reading request body.
2025-12-03 07:05:36.011 -03:00 [DBG] Connection id "0HNHIAD99NFR1", Request id "0HNHIAD99NFR1:0000000B": done reading request body.
2025-12-03 07:05:36.202 -03:00 [DBG] JSON input formatter threw an exception: '0x0A' is invalid within a JSON string. The string should be correctly escaped. Path: $.accountId | LineNumber: 2 | BytePositionInLine: 53.
2025-12-03 07:05:36.204 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:05:36.207 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:05:36.210 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 07:05:36.213 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:05:36.224 -03:00 [DBG] The request has model state errors, returning an error response.
2025-12-03 07:05:36.226 -03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-12-03 07:05:36.229 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-03 07:05:36.236 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-12-03 07:05:36.242 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-12-03 07:05:36.246 -03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-12-03 07:05:36.252 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-12-03 07:05:36.255 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-03 07:05:36.259 -03:00 [INF] Executed action TransactionController.CreateTransaction (PagueVeloz.Api) in 268.4702ms
2025-12-03 07:05:36.265 -03:00 [INF] Executed endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:05:36.270 -03:00 [INF] Request finished: POST /api/Transaction StatusCode=400 TraceId=0HNHIAD99NFR1:0000000B Elapsed=313ms
2025-12-03 07:05:36.276 -03:00 [INF] [RESPONSE] POST /api/Transaction 400 323ms CorrelationId="036ae554-9f50-4950-b967-71e41b3ca2df"
2025-12-03 07:05:36.282 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Transaction - 400 null application/problem+json; charset=utf-8 354.1226ms
2025-12-03 07:05:37.025 -03:00 [DBG] Connection id "0HNHIAD99NFR1" received FIN.
2025-12-03 07:05:37.041 -03:00 [DBG] Connection id "0HNHIAD99NFR1" is closed. The last processed stream ID was 11.
2025-12-03 07:05:37.042 -03:00 [DBG] The connection queue processing loop for 0HNHIAD99NFR1 completed.
2025-12-03 07:05:37.045 -03:00 [DBG] Connection id "0HNHIAD99NFR1" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-12-03 07:05:37.065 -03:00 [DBG] Connection id "0HNHIAD99NFR1" stopped.
2025-12-03 07:05:53.329 -03:00 [DBG] Connection id "0HNHIAD99NFR2" accepted.
2025-12-03 07:05:53.331 -03:00 [DBG] Connection id "0HNHIAD99NFR2" started.
2025-12-03 07:05:53.344 -03:00 [DBG] Connection 0HNHIAD99NFR2 established using the following protocol: "Tls13"
2025-12-03 07:05:53.349 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction - application/json 156
2025-12-03 07:05:53.355 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction'
2025-12-03 07:05:53.358 -03:00 [DBG] Endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)' with route pattern 'api/Transaction' is valid for the request path '/api/Transaction'
2025-12-03 07:05:53.363 -03:00 [DBG] Request matched endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:05:53.365 -03:00 [INF] [REQUEST] POST /api/Transaction CorrelationId="fc539ef6-53c7-427d-9483-6f3884409efd"
2025-12-03 07:05:53.369 -03:00 [INF] Request started: POST /api/Transaction TraceId=0HNHIAD99NFR2:00000001
2025-12-03 07:05:53.373 -03:00 [INF] Executing endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:05:53.376 -03:00 [INF] Route matched with {action = "CreateTransaction", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTransaction(PagueVeloz.API.DTOs.TransactionCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 07:05:53.381 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 07:05:53.386 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 07:05:53.390 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 07:05:53.393 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 07:05:53.398 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 07:05:53.402 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 07:05:53.409 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 07:05:53.413 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 07:05:53.417 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' using the name '' in request data ...
2025-12-03 07:05:53.420 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 07:05:53.423 -03:00 [DBG] Connection id "0HNHIAD99NFR2", Request id "0HNHIAD99NFR2:00000001": started reading request body.
2025-12-03 07:05:53.426 -03:00 [DBG] Connection id "0HNHIAD99NFR2", Request id "0HNHIAD99NFR2:00000001": done reading request body.
2025-12-03 07:05:53.589 -03:00 [DBG] JSON input formatter threw an exception: '0x0A' is invalid within a JSON string. The string should be correctly escaped. Path: $.accountId | LineNumber: 2 | BytePositionInLine: 53.
2025-12-03 07:05:53.591 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:05:53.594 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:05:53.597 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 07:05:53.601 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:05:53.604 -03:00 [DBG] The request has model state errors, returning an error response.
2025-12-03 07:05:53.605 -03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-12-03 07:05:53.608 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-03 07:05:53.613 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-12-03 07:05:53.620 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-12-03 07:05:53.624 -03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-12-03 07:05:53.631 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-12-03 07:05:53.635 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-03 07:05:53.638 -03:00 [INF] Executed action TransactionController.CreateTransaction (PagueVeloz.Api) in 236.4713ms
2025-12-03 07:05:53.641 -03:00 [INF] Executed endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:05:53.644 -03:00 [INF] Request finished: POST /api/Transaction StatusCode=400 TraceId=0HNHIAD99NFR2:00000001 Elapsed=274ms
2025-12-03 07:05:53.649 -03:00 [INF] [RESPONSE] POST /api/Transaction 400 283ms CorrelationId="fc539ef6-53c7-427d-9483-6f3884409efd"
2025-12-03 07:05:53.654 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Transaction - 400 null application/problem+json; charset=utf-8 305.4374ms
2025-12-03 07:05:55.484 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction - application/json 156
2025-12-03 07:05:55.489 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction'
2025-12-03 07:05:55.491 -03:00 [DBG] Endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)' with route pattern 'api/Transaction' is valid for the request path '/api/Transaction'
2025-12-03 07:05:55.494 -03:00 [DBG] Request matched endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:05:55.497 -03:00 [INF] [REQUEST] POST /api/Transaction CorrelationId="3d7f27ef-369e-49f4-8c24-2dc137edd429"
2025-12-03 07:05:55.500 -03:00 [INF] Request started: POST /api/Transaction TraceId=0HNHIAD99NFR2:00000003
2025-12-03 07:05:55.502 -03:00 [INF] Executing endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:05:55.505 -03:00 [INF] Route matched with {action = "CreateTransaction", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTransaction(PagueVeloz.API.DTOs.TransactionCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 07:05:55.508 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 07:05:55.511 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 07:05:55.515 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 07:05:55.520 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 07:05:55.522 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 07:05:55.525 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 07:05:55.528 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 07:05:55.531 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 07:05:55.534 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' using the name '' in request data ...
2025-12-03 07:05:55.536 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 07:05:55.539 -03:00 [DBG] Connection id "0HNHIAD99NFR2", Request id "0HNHIAD99NFR2:00000003": started reading request body.
2025-12-03 07:05:55.541 -03:00 [DBG] Connection id "0HNHIAD99NFR2", Request id "0HNHIAD99NFR2:00000003": done reading request body.
2025-12-03 07:05:55.698 -03:00 [DBG] JSON input formatter threw an exception: '0x0A' is invalid within a JSON string. The string should be correctly escaped. Path: $.accountId | LineNumber: 2 | BytePositionInLine: 53.
2025-12-03 07:05:55.700 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:05:55.703 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:05:55.706 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 07:05:55.709 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:05:55.713 -03:00 [DBG] The request has model state errors, returning an error response.
2025-12-03 07:05:55.715 -03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-12-03 07:05:55.717 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-03 07:05:55.722 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-12-03 07:05:55.728 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-12-03 07:05:55.733 -03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-12-03 07:05:55.737 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-12-03 07:05:55.740 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-03 07:05:55.742 -03:00 [INF] Executed action TransactionController.CreateTransaction (PagueVeloz.Api) in 216.9233ms
2025-12-03 07:05:55.746 -03:00 [INF] Executed endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:05:55.749 -03:00 [INF] Request finished: POST /api/Transaction StatusCode=400 TraceId=0HNHIAD99NFR2:00000003 Elapsed=248ms
2025-12-03 07:05:55.754 -03:00 [INF] [RESPONSE] POST /api/Transaction 400 257ms CorrelationId="3d7f27ef-369e-49f4-8c24-2dc137edd429"
2025-12-03 07:05:55.760 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Transaction - 400 null application/problem+json; charset=utf-8 276.7822ms
2025-12-03 07:06:33.126 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-12-03 07:06:34.138 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:06:34.144 -03:00 [WRN] No store type was specified for the decimal property 'CreditLimit' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:06:34.148 -03:00 [WRN] No store type was specified for the decimal property 'ReservedBalance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:06:34.151 -03:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:06:34.153 -03:00 [WRN] No store type was specified for the decimal property 'AvailableBalance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:06:34.156 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:06:34.292 -03:00 [DBG] Entity Framework Core 9.0.11 initialized 'PagueVelozDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.11' with options: EngineType=SqlServer 
2025-12-03 07:06:34.314 -03:00 [DBG] Creating DbConnection.
2025-12-03 07:06:34.371 -03:00 [DBG] Created DbConnection. (54ms).
2025-12-03 07:06:34.381 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:06:34.683 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:06:34.695 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-12-03 07:06:34.706 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (11ms).
2025-12-03 07:06:34.712 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (20ms).
2025-12-03 07:06:34.722 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 07:06:34.780 -03:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 07:06:34.787 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:06:34.804 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (11ms).
2025-12-03 07:06:34.811 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-12-03 07:06:34.813 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2025-12-03 07:06:34.816 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (5ms).
2025-12-03 07:06:34.819 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:06:34.822 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:06:34.827 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 07:06:34.878 -03:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 07:06:34.883 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:06:34.887 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (3ms).
2025-12-03 07:06:34.893 -03:00 [DBG] 'PagueVelozDbContext' disposed.
2025-12-03 07:06:34.898 -03:00 [DBG] Disposing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:06:34.903 -03:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-12-03 07:06:35.101 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-12-03 07:06:35.197 -03:00 [DBG] Hosting starting
2025-12-03 07:06:35.222 -03:00 [DBG] Middleware loaded
2025-12-03 07:06:35.226 -03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16513 B).
2025-12-03 07:06:35.231 -03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-12-03 07:06:35.326 -03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-12-03 07:06:35.330 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-12-03 07:06:35.344 -03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-12-03 07:06:35.505 -03:00 [INF] Now listening on: https://localhost:7249
2025-12-03 07:06:35.507 -03:00 [INF] Now listening on: http://localhost:5247
2025-12-03 07:06:35.510 -03:00 [DBG] Loaded hosting startup assembly PagueVeloz.Api
2025-12-03 07:06:35.512 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-12-03 07:06:35.514 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-12-03 07:06:35.517 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-12-03 07:06:35.530 -03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 07:06:35.542 -03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 07:06:36.094 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-03 07:06:36.095 -03:00 [INF] Hosting environment: Development
2025-12-03 07:06:36.097 -03:00 [INF] Content root path: E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api
2025-12-03 07:06:36.099 -03:00 [DBG] Hosting started
2025-12-03 07:07:23.476 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-12-03 07:07:25.259 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:07:25.266 -03:00 [WRN] No store type was specified for the decimal property 'CreditLimit' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:07:25.274 -03:00 [WRN] No store type was specified for the decimal property 'ReservedBalance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:07:25.277 -03:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:07:25.281 -03:00 [WRN] No store type was specified for the decimal property 'AvailableBalance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:07:25.284 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:07:25.457 -03:00 [DBG] Entity Framework Core 9.0.11 initialized 'PagueVelozDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.11' with options: EngineType=SqlServer 
2025-12-03 07:07:25.490 -03:00 [DBG] Creating DbConnection.
2025-12-03 07:07:25.564 -03:00 [DBG] Created DbConnection. (71ms).
2025-12-03 07:07:25.571 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:07:25.900 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:07:25.915 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-12-03 07:07:25.926 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (12ms).
2025-12-03 07:07:25.932 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (22ms).
2025-12-03 07:07:25.945 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 07:07:25.998 -03:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 07:07:26.006 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:07:26.019 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (8ms).
2025-12-03 07:07:26.026 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-12-03 07:07:26.029 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2025-12-03 07:07:26.032 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (6ms).
2025-12-03 07:07:26.035 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:07:26.041 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:07:26.045 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 07:07:26.089 -03:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 07:07:26.095 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:07:26.100 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (4ms).
2025-12-03 07:07:26.106 -03:00 [DBG] 'PagueVelozDbContext' disposed.
2025-12-03 07:07:26.112 -03:00 [DBG] Disposing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:07:26.116 -03:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-12-03 07:07:26.307 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-12-03 07:07:26.410 -03:00 [DBG] Hosting starting
2025-12-03 07:07:26.442 -03:00 [DBG] Middleware loaded
2025-12-03 07:07:26.447 -03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16513 B).
2025-12-03 07:07:26.451 -03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-12-03 07:07:26.557 -03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-12-03 07:07:26.561 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-12-03 07:07:26.577 -03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-12-03 07:07:26.757 -03:00 [INF] Now listening on: https://localhost:7249
2025-12-03 07:07:26.759 -03:00 [INF] Now listening on: http://localhost:5247
2025-12-03 07:07:26.761 -03:00 [DBG] Loaded hosting startup assembly PagueVeloz.Api
2025-12-03 07:07:26.763 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-12-03 07:07:26.765 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-12-03 07:07:26.767 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-12-03 07:07:26.779 -03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 07:07:26.784 -03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 07:07:26.966 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-03 07:07:26.968 -03:00 [INF] Hosting environment: Development
2025-12-03 07:07:26.971 -03:00 [INF] Content root path: E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api
2025-12-03 07:07:26.973 -03:00 [DBG] Hosting started
2025-12-03 07:07:28.028 -03:00 [DBG] Connection id "0HNHIAF1R9VIB" accepted.
2025-12-03 07:07:28.048 -03:00 [DBG] Connection id "0HNHIAF1R9VIB" started.
2025-12-03 07:07:28.130 -03:00 [DBG] Connection 0HNHIAF1R9VIB established using the following protocol: "Tls13"
2025-12-03 07:07:28.226 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/swagger/index.html - null null
2025-12-03 07:07:28.451 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-12-03 07:07:28.454 -03:00 [DBG] Request did not match any endpoints
2025-12-03 07:07:28.582 -03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-12-03 07:07:28.587 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-12-03 07:07:28.600 -03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-12-03 07:07:28.604 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-12-03 07:07:28.623 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/swagger/index.html - 200 null text/html;charset=utf-8 405.0813ms
2025-12-03 07:07:28.652 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/_framework/aspnetcore-browser-refresh.js - null null
2025-12-03 07:07:28.652 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/_vs/browserLink - null null
2025-12-03 07:07:28.736 -03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-12-03 07:07:28.749 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 93.7533ms
2025-12-03 07:07:28.797 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/_vs/browserLink - 200 null text/javascript; charset=UTF-8 145.68ms
2025-12-03 07:07:29.121 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/swagger/v1/swagger.json - null null
2025-12-03 07:07:29.130 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-12-03 07:07:29.132 -03:00 [DBG] Request did not match any endpoints
2025-12-03 07:07:29.172 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 51.139ms
2025-12-03 07:07:35.160 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction - application/json 156
2025-12-03 07:07:35.175 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction'
2025-12-03 07:07:35.179 -03:00 [DBG] Endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)' with route pattern 'api/Transaction' is valid for the request path '/api/Transaction'
2025-12-03 07:07:35.184 -03:00 [DBG] Request matched endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:07:35.208 -03:00 [INF] [REQUEST] POST /api/Transaction CorrelationId="b0494a68-943d-49f3-8d02-3b97f21ef416"
2025-12-03 07:07:35.216 -03:00 [INF] Request started: POST /api/Transaction TraceId=0HNHIAF1R9VIB:00000009
2025-12-03 07:07:35.223 -03:00 [INF] Executing endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:07:35.269 -03:00 [INF] Route matched with {action = "CreateTransaction", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTransaction(PagueVeloz.API.DTOs.TransactionCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 07:07:35.277 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 07:07:35.281 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 07:07:35.286 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 07:07:35.291 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 07:07:35.296 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 07:07:35.303 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 07:07:35.310 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 07:07:35.339 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 07:07:35.348 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' using the name '' in request data ...
2025-12-03 07:07:35.354 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 07:07:35.391 -03:00 [DBG] Connection id "0HNHIAF1R9VIB", Request id "0HNHIAF1R9VIB:00000009": started reading request body.
2025-12-03 07:07:35.395 -03:00 [DBG] Connection id "0HNHIAF1R9VIB", Request id "0HNHIAF1R9VIB:00000009": done reading request body.
2025-12-03 07:07:35.682 -03:00 [DBG] JSON input formatter threw an exception: '0x0A' is invalid within a JSON string. The string should be correctly escaped. Path: $.accountId | LineNumber: 2 | BytePositionInLine: 53.
2025-12-03 07:07:35.685 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:07:35.688 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:07:35.692 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 07:07:35.710 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:07:35.716 -03:00 [DBG] The request has model state errors, returning an error response.
2025-12-03 07:07:35.719 -03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-12-03 07:07:35.726 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-03 07:07:35.734 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-12-03 07:07:35.742 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-12-03 07:07:35.745 -03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-12-03 07:07:35.752 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-12-03 07:07:35.756 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-03 07:07:35.792 -03:00 [INF] Executed action TransactionController.CreateTransaction (PagueVeloz.Api) in 486.7384ms
2025-12-03 07:07:35.796 -03:00 [INF] Executed endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:07:35.799 -03:00 [INF] Request finished: POST /api/Transaction StatusCode=400 TraceId=0HNHIAF1R9VIB:00000009 Elapsed=583ms
2025-12-03 07:07:35.805 -03:00 [INF] [RESPONSE] POST /api/Transaction 400 597ms CorrelationId="b0494a68-943d-49f3-8d02-3b97f21ef416"
2025-12-03 07:07:35.811 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Transaction - 400 null application/problem+json; charset=utf-8 650.6503ms
2025-12-03 07:07:52.469 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction - application/json 156
2025-12-03 07:07:52.482 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction'
2025-12-03 07:07:52.486 -03:00 [DBG] Endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)' with route pattern 'api/Transaction' is valid for the request path '/api/Transaction'
2025-12-03 07:07:52.492 -03:00 [DBG] Request matched endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:07:52.494 -03:00 [INF] [REQUEST] POST /api/Transaction CorrelationId="96ac390f-571c-42e9-a8d1-485d63178333"
2025-12-03 07:07:52.497 -03:00 [INF] Request started: POST /api/Transaction TraceId=0HNHIAF1R9VIB:0000000B
2025-12-03 07:07:52.500 -03:00 [INF] Executing endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:07:52.503 -03:00 [INF] Route matched with {action = "CreateTransaction", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTransaction(PagueVeloz.API.DTOs.TransactionCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 07:07:52.508 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 07:07:52.512 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 07:07:52.516 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 07:07:52.521 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 07:07:52.527 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 07:07:52.531 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 07:07:52.534 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 07:07:52.536 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 07:07:52.539 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' using the name '' in request data ...
2025-12-03 07:07:52.544 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 07:07:52.548 -03:00 [DBG] Connection id "0HNHIAF1R9VIB", Request id "0HNHIAF1R9VIB:0000000B": started reading request body.
2025-12-03 07:07:52.551 -03:00 [DBG] Connection id "0HNHIAF1R9VIB", Request id "0HNHIAF1R9VIB:0000000B": done reading request body.
2025-12-03 07:07:52.710 -03:00 [DBG] JSON input formatter threw an exception: '0x0A' is invalid within a JSON string. The string should be correctly escaped. Path: $.accountId | LineNumber: 2 | BytePositionInLine: 53.
2025-12-03 07:07:52.712 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:07:52.715 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:07:52.718 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 07:07:52.721 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:07:52.724 -03:00 [DBG] The request has model state errors, returning an error response.
2025-12-03 07:07:52.726 -03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-12-03 07:07:52.734 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-03 07:07:52.740 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-12-03 07:07:52.747 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-12-03 07:07:52.751 -03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-12-03 07:07:52.757 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-12-03 07:07:52.760 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-03 07:07:52.763 -03:00 [INF] Executed action TransactionController.CreateTransaction (PagueVeloz.Api) in 232.6369ms
2025-12-03 07:07:52.766 -03:00 [INF] Executed endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:07:52.768 -03:00 [INF] Request finished: POST /api/Transaction StatusCode=400 TraceId=0HNHIAF1R9VIB:0000000B Elapsed=270ms
2025-12-03 07:07:52.773 -03:00 [INF] [RESPONSE] POST /api/Transaction 400 278ms CorrelationId="96ac390f-571c-42e9-a8d1-485d63178333"
2025-12-03 07:07:52.779 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Transaction - 400 null application/problem+json; charset=utf-8 309.3759ms
2025-12-03 07:07:54.140 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction - application/json 156
2025-12-03 07:07:54.146 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction'
2025-12-03 07:07:54.148 -03:00 [DBG] Endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)' with route pattern 'api/Transaction' is valid for the request path '/api/Transaction'
2025-12-03 07:07:54.152 -03:00 [DBG] Request matched endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:07:54.154 -03:00 [INF] [REQUEST] POST /api/Transaction CorrelationId="2e228c97-31cd-49b2-8799-a5b3155b05ca"
2025-12-03 07:07:54.157 -03:00 [INF] Request started: POST /api/Transaction TraceId=0HNHIAF1R9VIB:0000000D
2025-12-03 07:07:54.160 -03:00 [INF] Executing endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:07:54.162 -03:00 [INF] Route matched with {action = "CreateTransaction", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTransaction(PagueVeloz.API.DTOs.TransactionCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 07:07:54.165 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 07:07:54.168 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 07:07:54.171 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 07:07:54.176 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 07:07:54.179 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 07:07:54.182 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 07:07:54.190 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 07:07:54.193 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 07:07:54.195 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' using the name '' in request data ...
2025-12-03 07:07:54.198 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 07:07:54.200 -03:00 [DBG] Connection id "0HNHIAF1R9VIB", Request id "0HNHIAF1R9VIB:0000000D": started reading request body.
2025-12-03 07:07:54.203 -03:00 [DBG] Connection id "0HNHIAF1R9VIB", Request id "0HNHIAF1R9VIB:0000000D": done reading request body.
2025-12-03 07:07:54.374 -03:00 [DBG] JSON input formatter threw an exception: '0x0A' is invalid within a JSON string. The string should be correctly escaped. Path: $.accountId | LineNumber: 2 | BytePositionInLine: 53.
2025-12-03 07:07:54.376 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:07:54.380 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:07:54.383 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 07:07:54.386 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:07:54.390 -03:00 [DBG] The request has model state errors, returning an error response.
2025-12-03 07:07:54.392 -03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-12-03 07:07:54.395 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-03 07:07:54.400 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-12-03 07:07:54.406 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-12-03 07:07:54.409 -03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-12-03 07:07:54.416 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-12-03 07:07:54.420 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-03 07:07:54.423 -03:00 [INF] Executed action TransactionController.CreateTransaction (PagueVeloz.Api) in 241.1885ms
2025-12-03 07:07:54.427 -03:00 [INF] Executed endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:07:54.429 -03:00 [INF] Request finished: POST /api/Transaction StatusCode=400 TraceId=0HNHIAF1R9VIB:0000000D Elapsed=272ms
2025-12-03 07:07:54.434 -03:00 [INF] [RESPONSE] POST /api/Transaction 400 280ms CorrelationId="2e228c97-31cd-49b2-8799-a5b3155b05ca"
2025-12-03 07:07:54.439 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Transaction - 400 null application/problem+json; charset=utf-8 298.9768ms
2025-12-03 07:09:14.950 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-12-03 07:09:15.908 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:09:15.915 -03:00 [WRN] No store type was specified for the decimal property 'CreditLimit' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:09:15.919 -03:00 [WRN] No store type was specified for the decimal property 'ReservedBalance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:09:15.924 -03:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:09:15.929 -03:00 [WRN] No store type was specified for the decimal property 'AvailableBalance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:09:15.932 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:09:16.106 -03:00 [DBG] Entity Framework Core 9.0.11 initialized 'PagueVelozDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.11' with options: EngineType=SqlServer 
2025-12-03 07:09:16.131 -03:00 [DBG] Creating DbConnection.
2025-12-03 07:09:16.229 -03:00 [DBG] Created DbConnection. (88ms).
2025-12-03 07:09:16.300 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:09:16.932 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:09:16.947 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-12-03 07:09:16.961 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (12ms).
2025-12-03 07:09:16.973 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (30ms).
2025-12-03 07:09:16.991 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 07:09:17.069 -03:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 07:09:17.079 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:09:17.099 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (12ms).
2025-12-03 07:09:17.108 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-12-03 07:09:17.112 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2025-12-03 07:09:17.115 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (6ms).
2025-12-03 07:09:17.118 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:09:17.123 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:09:17.127 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 07:09:17.188 -03:00 [INF] Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 07:09:17.194 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:09:17.198 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (4ms).
2025-12-03 07:09:17.205 -03:00 [DBG] 'PagueVelozDbContext' disposed.
2025-12-03 07:09:17.212 -03:00 [DBG] Disposing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:09:17.217 -03:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-12-03 07:09:17.448 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-12-03 07:09:17.540 -03:00 [DBG] Hosting starting
2025-12-03 07:09:17.574 -03:00 [DBG] Middleware loaded
2025-12-03 07:09:17.579 -03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16513 B).
2025-12-03 07:09:17.582 -03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-12-03 07:09:17.666 -03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-12-03 07:09:17.671 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-12-03 07:09:17.685 -03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-12-03 07:09:17.908 -03:00 [INF] Now listening on: https://localhost:7249
2025-12-03 07:09:17.911 -03:00 [INF] Now listening on: http://localhost:5247
2025-12-03 07:09:17.913 -03:00 [DBG] Loaded hosting startup assembly PagueVeloz.Api
2025-12-03 07:09:17.915 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-12-03 07:09:17.918 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-12-03 07:09:17.919 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-12-03 07:09:17.930 -03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 07:09:17.933 -03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 07:09:18.359 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-03 07:09:18.361 -03:00 [INF] Hosting environment: Development
2025-12-03 07:09:18.363 -03:00 [INF] Content root path: E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api
2025-12-03 07:09:18.365 -03:00 [DBG] Hosting started
2025-12-03 07:09:40.396 -03:00 [DBG] Connection id "0HNHIAG99LBUS" accepted.
2025-12-03 07:09:40.441 -03:00 [DBG] Connection id "0HNHIAG99LBUS" started.
2025-12-03 07:09:40.516 -03:00 [DBG] Connection 0HNHIAG99LBUS established using the following protocol: "Tls13"
2025-12-03 07:09:40.599 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/swagger/index.html - null null
2025-12-03 07:09:40.800 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-12-03 07:09:40.805 -03:00 [DBG] Request did not match any endpoints
2025-12-03 07:09:40.917 -03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-12-03 07:09:40.921 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-12-03 07:09:40.932 -03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-12-03 07:09:40.935 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-12-03 07:09:40.942 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/swagger/index.html - 200 null text/html;charset=utf-8 351.1187ms
2025-12-03 07:09:40.961 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/_vs/browserLink - null null
2025-12-03 07:09:40.965 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/_framework/aspnetcore-browser-refresh.js - null null
2025-12-03 07:09:41.001 -03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-12-03 07:09:41.005 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 41.0979ms
2025-12-03 07:09:41.078 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/_vs/browserLink - 200 null text/javascript; charset=UTF-8 117.162ms
2025-12-03 07:09:41.112 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/swagger/v1/swagger.json - null null
2025-12-03 07:09:41.123 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-12-03 07:09:41.126 -03:00 [DBG] Request did not match any endpoints
2025-12-03 07:09:41.159 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 46.321ms
2025-12-03 07:09:47.769 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction - application/json 156
2025-12-03 07:09:47.789 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction'
2025-12-03 07:09:47.794 -03:00 [DBG] Endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)' with route pattern 'api/Transaction' is valid for the request path '/api/Transaction'
2025-12-03 07:09:47.800 -03:00 [DBG] Request matched endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:09:47.824 -03:00 [INF] [REQUEST] POST /api/Transaction CorrelationId="1d7e2e0d-2586-4c2c-af0a-6a17dbbab2b0"
2025-12-03 07:09:47.833 -03:00 [INF] Request started: POST /api/Transaction TraceId=0HNHIAG99LBUS:00000009
2025-12-03 07:09:47.840 -03:00 [INF] Executing endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:09:47.886 -03:00 [INF] Route matched with {action = "CreateTransaction", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTransaction(PagueVeloz.API.DTOs.TransactionCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 07:09:47.891 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 07:09:47.895 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 07:09:47.900 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 07:09:47.904 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 07:09:47.907 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 07:09:47.913 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 07:09:47.919 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 07:09:47.937 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 07:09:47.943 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' using the name '' in request data ...
2025-12-03 07:09:47.947 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 07:09:47.972 -03:00 [DBG] Connection id "0HNHIAG99LBUS", Request id "0HNHIAG99LBUS:00000009": started reading request body.
2025-12-03 07:09:47.975 -03:00 [DBG] Connection id "0HNHIAG99LBUS", Request id "0HNHIAG99LBUS:00000009": done reading request body.
2025-12-03 07:09:48.255 -03:00 [DBG] JSON input formatter threw an exception: '0x0A' is invalid within a JSON string. The string should be correctly escaped. Path: $.accountId | LineNumber: 2 | BytePositionInLine: 53.
2025-12-03 07:09:48.258 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:09:48.261 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:09:48.265 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 07:09:48.294 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:09:48.301 -03:00 [DBG] The request has model state errors, returning an error response.
2025-12-03 07:09:48.304 -03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-12-03 07:09:48.311 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-03 07:09:48.320 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-12-03 07:09:48.327 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-12-03 07:09:48.331 -03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-12-03 07:09:48.337 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-12-03 07:09:48.341 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-03 07:09:48.380 -03:00 [INF] Executed action TransactionController.CreateTransaction (PagueVeloz.Api) in 465.2029ms
2025-12-03 07:09:48.383 -03:00 [INF] Executed endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:09:48.386 -03:00 [INF] Request finished: POST /api/Transaction StatusCode=400 TraceId=0HNHIAG99LBUS:00000009 Elapsed=553ms
2025-12-03 07:09:48.391 -03:00 [INF] [RESPONSE] POST /api/Transaction 400 567ms CorrelationId="1d7e2e0d-2586-4c2c-af0a-6a17dbbab2b0"
2025-12-03 07:09:48.396 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Transaction - 400 null application/problem+json; charset=utf-8 627.6639ms
2025-12-03 07:10:43.491 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction - application/json 157
2025-12-03 07:10:43.506 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction'
2025-12-03 07:10:43.508 -03:00 [DBG] Endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)' with route pattern 'api/Transaction' is valid for the request path '/api/Transaction'
2025-12-03 07:10:43.510 -03:00 [DBG] Request matched endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:10:43.513 -03:00 [INF] [REQUEST] POST /api/Transaction CorrelationId="2b421029-7875-4c81-8fbf-cf81603fc0a8"
2025-12-03 07:10:43.516 -03:00 [INF] Request started: POST /api/Transaction TraceId=0HNHIAG99LBUS:0000000B
2025-12-03 07:10:43.518 -03:00 [INF] Executing endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:10:43.521 -03:00 [INF] Route matched with {action = "CreateTransaction", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTransaction(PagueVeloz.API.DTOs.TransactionCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 07:10:43.524 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 07:10:43.526 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 07:10:43.529 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 07:10:43.533 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 07:10:43.535 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 07:10:43.538 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 07:10:43.540 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 07:10:43.543 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 07:10:43.545 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' using the name '' in request data ...
2025-12-03 07:10:43.548 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 07:10:43.550 -03:00 [DBG] Connection id "0HNHIAG99LBUS", Request id "0HNHIAG99LBUS:0000000B": started reading request body.
2025-12-03 07:10:43.552 -03:00 [DBG] Connection id "0HNHIAG99LBUS", Request id "0HNHIAG99LBUS:0000000B": done reading request body.
2025-12-03 07:10:43.562 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.API.DTOs.TransactionCreateDto'
2025-12-03 07:10:43.565 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:10:43.567 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:10:43.570 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 07:10:43.655 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:10:55.528 -03:00 [INF] Recebida solicitação de movimentação do tipo: {dto.Operation} .
2025-12-03 07:10:55.530 -03:00 [WRN] Idempotency-Key não enviada, gerando uma aleatória.
2025-12-03 07:11:05.447 -03:00 [INF] Iniciando a movimentação de conta. IdempotencyKey: 140c6ef7-788d-41b1-8cc1-6161de63f3e1
2025-12-03 07:11:06.048 -03:00 [WRN] Tentativa 1 falhou. Esperando "00:00:02" antes de tentar novamente. Erro: BeginExecuteReader requer que o comando tenha uma transação quando a conexão atribuída ao comando estiver em uma transação local pendente. A propriedade Transaction do comando não foi inicializada.
2025-12-03 07:11:08.061 -03:00 [INF] Iniciando a movimentação de conta. IdempotencyKey: 140c6ef7-788d-41b1-8cc1-6161de63f3e1
2025-12-03 07:11:08.555 -03:00 [WRN] Tentativa 2 falhou. Esperando "00:00:04" antes de tentar novamente. Erro: BeginExecuteReader requer que o comando tenha uma transação quando a conexão atribuída ao comando estiver em uma transação local pendente. A propriedade Transaction do comando não foi inicializada.
2025-12-03 07:11:12.561 -03:00 [INF] Iniciando a movimentação de conta. IdempotencyKey: 140c6ef7-788d-41b1-8cc1-6161de63f3e1
2025-12-03 07:11:12.912 -03:00 [WRN] Tentativa 3 falhou. Esperando "00:00:08" antes de tentar novamente. Erro: BeginExecuteReader requer que o comando tenha uma transação quando a conexão atribuída ao comando estiver em uma transação local pendente. A propriedade Transaction do comando não foi inicializada.
2025-12-03 07:11:20.924 -03:00 [INF] Iniciando a movimentação de conta. IdempotencyKey: 140c6ef7-788d-41b1-8cc1-6161de63f3e1
2025-12-03 07:11:22.492 -03:00 [INF] Executed action TransactionController.CreateTransaction (PagueVeloz.Api) in 38954.1444ms
2025-12-03 07:11:22.860 -03:00 [INF] Executed endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:11:23.999 -03:00 [ERR] Erro capturado globalmente. TraceId: 00-20159fff2de6461d3af25f0a209c006a-0e8336df37470a3e-00
System.InvalidOperationException: BeginExecuteReader requer que o comando tenha uma transação quando a conexão atribuída ao comando estiver em uma transação local pendente. A propriedade Transaction do comando não foi inicializada.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at PagueVeloz.Infrastructure.Repositories.Account.AccountRepository.GetAccountByIdAsync(Guid AccountId, IDbTransaction dbTransaction) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Infrastructure\Repositories\Accounts\AccountRepository.cs:line 55
   at PagueVeloz.Application.Services.TransactionService.<>c__DisplayClass6_0.<<ProcessTransactionAsync>b__0>d.MoveNext() in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Application\Services\TransactionService.cs:line 66
--- End of stack trace from previous location ---
   at Polly.Retry.AsyncRetryEngine.ImplementationAsync[TResult](Func`3 action, Context context, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Func`5 onRetryAsync, CancellationToken cancellationToken, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at PagueVeloz.Application.Services.TransactionService.ProcessTransactionAsync(TransactionModel dto, String idempotencyKey) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Application\Services\TransactionService.cs:line 41
   at TransactionController.CreateTransaction(TransactionCreateDto dto) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api\Controllers\TransactionController.cs:line 82
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at RequestTimingMiddleware.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\RequestTiming.cs:line 23
   at PagueVeloz.Shared.Middlewares.RequestLog.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\RequestLog.cs:line 28
   at ExceptionHandlingMiddleware.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\ExceptionHandling.cs:line 22
2025-12-03 07:11:24.040 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Transaction - 500 null application/json 40549.3219ms
2025-12-03 07:11:32.042 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction - application/json 157
2025-12-03 07:11:32.048 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction'
2025-12-03 07:11:32.050 -03:00 [DBG] Endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)' with route pattern 'api/Transaction' is valid for the request path '/api/Transaction'
2025-12-03 07:11:32.054 -03:00 [DBG] Request matched endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:11:32.056 -03:00 [INF] [REQUEST] POST /api/Transaction CorrelationId="5bbf6336-39dd-4f4b-8e59-8c605ff820f6"
2025-12-03 07:11:32.059 -03:00 [INF] Request started: POST /api/Transaction TraceId=0HNHIAG99LBUS:0000000D
2025-12-03 07:11:32.063 -03:00 [INF] Executing endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:11:32.065 -03:00 [INF] Route matched with {action = "CreateTransaction", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTransaction(PagueVeloz.API.DTOs.TransactionCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 07:11:32.069 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 07:11:32.072 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 07:11:32.075 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 07:11:32.079 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 07:11:32.082 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 07:11:32.086 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 07:11:32.092 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 07:11:32.095 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 07:11:32.098 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' using the name '' in request data ...
2025-12-03 07:11:32.101 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 07:11:32.104 -03:00 [DBG] Connection id "0HNHIAG99LBUS", Request id "0HNHIAG99LBUS:0000000D": started reading request body.
2025-12-03 07:11:32.106 -03:00 [DBG] Connection id "0HNHIAG99LBUS", Request id "0HNHIAG99LBUS:0000000D": done reading request body.
2025-12-03 07:11:32.109 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.API.DTOs.TransactionCreateDto'
2025-12-03 07:11:32.111 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:11:32.114 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:11:32.116 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 07:11:32.120 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:11:36.919 -03:00 [INF] Recebida solicitação de movimentação do tipo: {dto.Operation} .
2025-12-03 07:11:36.922 -03:00 [WRN] Idempotency-Key não enviada, gerando uma aleatória.
2025-12-03 07:11:36.925 -03:00 [INF] Iniciando a movimentação de conta. IdempotencyKey: 0b2315a4-7f35-4113-b609-20cb4dfe5356
2025-12-03 07:11:37.274 -03:00 [WRN] Tentativa 1 falhou. Esperando "00:00:02" antes de tentar novamente. Erro: BeginExecuteReader requer que o comando tenha uma transação quando a conexão atribuída ao comando estiver em uma transação local pendente. A propriedade Transaction do comando não foi inicializada.
2025-12-03 07:11:39.292 -03:00 [INF] Iniciando a movimentação de conta. IdempotencyKey: 0b2315a4-7f35-4113-b609-20cb4dfe5356
2025-12-03 07:11:39.700 -03:00 [WRN] Tentativa 2 falhou. Esperando "00:00:04" antes de tentar novamente. Erro: BeginExecuteReader requer que o comando tenha uma transação quando a conexão atribuída ao comando estiver em uma transação local pendente. A propriedade Transaction do comando não foi inicializada.
2025-12-03 07:11:43.709 -03:00 [INF] Iniciando a movimentação de conta. IdempotencyKey: 0b2315a4-7f35-4113-b609-20cb4dfe5356
2025-12-03 07:11:44.026 -03:00 [WRN] Tentativa 3 falhou. Esperando "00:00:08" antes de tentar novamente. Erro: BeginExecuteReader requer que o comando tenha uma transação quando a conexão atribuída ao comando estiver em uma transação local pendente. A propriedade Transaction do comando não foi inicializada.
2025-12-03 07:11:52.039 -03:00 [INF] Iniciando a movimentação de conta. IdempotencyKey: 0b2315a4-7f35-4113-b609-20cb4dfe5356
2025-12-03 07:12:41.131 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-12-03 07:12:42.287 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:12:42.293 -03:00 [WRN] No store type was specified for the decimal property 'CreditLimit' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:12:42.297 -03:00 [WRN] No store type was specified for the decimal property 'ReservedBalance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:12:42.300 -03:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:12:42.304 -03:00 [WRN] No store type was specified for the decimal property 'AvailableBalance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:12:42.308 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:12:42.441 -03:00 [DBG] Entity Framework Core 9.0.11 initialized 'PagueVelozDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.11' with options: EngineType=SqlServer 
2025-12-03 07:12:42.460 -03:00 [DBG] Creating DbConnection.
2025-12-03 07:12:42.518 -03:00 [DBG] Created DbConnection. (54ms).
2025-12-03 07:12:42.528 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:12:42.876 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:12:42.889 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-12-03 07:12:42.900 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (11ms).
2025-12-03 07:12:42.907 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (21ms).
2025-12-03 07:12:42.919 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 07:12:42.981 -03:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 07:12:42.989 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:12:43.004 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (9ms).
2025-12-03 07:12:43.011 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-12-03 07:12:43.013 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2025-12-03 07:12:43.017 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (6ms).
2025-12-03 07:12:43.020 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:12:43.025 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:12:43.028 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 07:12:43.070 -03:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 07:12:43.074 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:12:43.078 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (3ms).
2025-12-03 07:12:43.083 -03:00 [DBG] 'PagueVelozDbContext' disposed.
2025-12-03 07:12:43.087 -03:00 [DBG] Disposing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:12:43.091 -03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-12-03 07:12:43.315 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-12-03 07:12:43.416 -03:00 [DBG] Hosting starting
2025-12-03 07:12:43.452 -03:00 [DBG] Middleware loaded
2025-12-03 07:12:43.457 -03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16513 B).
2025-12-03 07:12:43.461 -03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-12-03 07:12:43.587 -03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-12-03 07:12:43.590 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-12-03 07:12:43.606 -03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-12-03 07:12:43.799 -03:00 [INF] Now listening on: https://localhost:7249
2025-12-03 07:12:43.801 -03:00 [INF] Now listening on: http://localhost:5247
2025-12-03 07:12:43.804 -03:00 [DBG] Loaded hosting startup assembly PagueVeloz.Api
2025-12-03 07:12:43.806 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-12-03 07:12:43.808 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-12-03 07:12:43.811 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-12-03 07:12:43.827 -03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 07:12:43.833 -03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 07:12:44.051 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-03 07:12:44.060 -03:00 [INF] Hosting environment: Development
2025-12-03 07:12:44.065 -03:00 [INF] Content root path: E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api
2025-12-03 07:12:44.085 -03:00 [DBG] Hosting started
2025-12-03 07:12:57.316 -03:00 [DBG] Connection id "0HNHIAI3VKFSH" accepted.
2025-12-03 07:12:57.331 -03:00 [DBG] Connection id "0HNHIAI3VKFSH" started.
2025-12-03 07:12:57.404 -03:00 [DBG] Connection 0HNHIAI3VKFSH established using the following protocol: "Tls13"
2025-12-03 07:12:57.487 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/swagger/index.html - null null
2025-12-03 07:12:57.665 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-12-03 07:12:57.668 -03:00 [DBG] Request did not match any endpoints
2025-12-03 07:12:57.770 -03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-12-03 07:12:57.774 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-12-03 07:12:57.785 -03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-12-03 07:12:57.790 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-12-03 07:12:57.801 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/swagger/index.html - 200 null text/html;charset=utf-8 320.4276ms
2025-12-03 07:12:57.825 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/_vs/browserLink - null null
2025-12-03 07:12:57.833 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/_framework/aspnetcore-browser-refresh.js - null null
2025-12-03 07:12:57.900 -03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-12-03 07:12:57.904 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 70.7395ms
2025-12-03 07:12:57.940 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/_vs/browserLink - 200 null text/javascript; charset=UTF-8 115.2971ms
2025-12-03 07:12:58.075 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/swagger/v1/swagger.json - null null
2025-12-03 07:12:58.083 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-12-03 07:12:58.085 -03:00 [DBG] Request did not match any endpoints
2025-12-03 07:12:58.116 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 41.4534ms
2025-12-03 07:13:05.238 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction - application/json 157
2025-12-03 07:13:05.251 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction'
2025-12-03 07:13:05.256 -03:00 [DBG] Endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)' with route pattern 'api/Transaction' is valid for the request path '/api/Transaction'
2025-12-03 07:13:05.261 -03:00 [DBG] Request matched endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:13:05.281 -03:00 [INF] [REQUEST] POST /api/Transaction CorrelationId="840bc0f3-73be-4f0d-8c3f-f2daca219eba"
2025-12-03 07:13:05.288 -03:00 [INF] Request started: POST /api/Transaction TraceId=0HNHIAI3VKFSH:00000009
2025-12-03 07:13:05.294 -03:00 [INF] Executing endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:13:05.328 -03:00 [INF] Route matched with {action = "CreateTransaction", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTransaction(PagueVeloz.API.DTOs.TransactionCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 07:13:05.334 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 07:13:05.338 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 07:13:05.342 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 07:13:05.347 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 07:13:05.350 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 07:13:05.356 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 07:13:05.362 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 07:13:05.381 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 07:13:05.387 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' using the name '' in request data ...
2025-12-03 07:13:05.393 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 07:13:05.418 -03:00 [DBG] Connection id "0HNHIAI3VKFSH", Request id "0HNHIAI3VKFSH:00000009": started reading request body.
2025-12-03 07:13:05.422 -03:00 [DBG] Connection id "0HNHIAI3VKFSH", Request id "0HNHIAI3VKFSH:00000009": done reading request body.
2025-12-03 07:13:05.454 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.API.DTOs.TransactionCreateDto'
2025-12-03 07:13:05.457 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:13:05.461 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:13:05.464 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 07:13:05.579 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:13:05.588 -03:00 [INF] Recebida solicitação de movimentação do tipo: {dto.Operation} .
2025-12-03 07:13:05.591 -03:00 [WRN] Idempotency-Key não enviada, gerando uma aleatória.
2025-12-03 07:13:06.042 -03:00 [INF] Executed action TransactionController.CreateTransaction (PagueVeloz.Api) in 685.2848ms
2025-12-03 07:13:06.113 -03:00 [INF] Executed endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:13:06.284 -03:00 [ERR] Erro capturado globalmente. TraceId: 00-788369f06c947a8048d5573d28892c5c-b294ee5652780564-00
System.InvalidOperationException: Operação inválida. A conexão está fechada.
   at Microsoft.Data.SqlClient.SqlConnection.GetOpenTdsConnection()
   at Microsoft.Data.SqlClient.SqlConnection.BeginTransaction(IsolationLevel iso, String transactionName)
   at Microsoft.Data.SqlClient.SqlConnection.BeginTransaction(IsolationLevel iso)
   at Microsoft.Data.SqlClient.SqlConnection.BeginDbTransaction(IsolationLevel isolationLevel)
   at PagueVeloz.Application.Services.TransactionService.ProcessTransactionAsync(TransactionModel dto, String idempotencyKey) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Application\Services\TransactionService.cs:line 39
   at TransactionController.CreateTransaction(TransactionCreateDto dto) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api\Controllers\TransactionController.cs:line 82
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at RequestTimingMiddleware.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\RequestTiming.cs:line 23
   at PagueVeloz.Shared.Middlewares.RequestLog.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\RequestLog.cs:line 28
   at ExceptionHandlingMiddleware.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\ExceptionHandling.cs:line 22
2025-12-03 07:13:06.328 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Transaction - 500 null application/json 1090.711ms
2025-12-03 07:13:37.287 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/swagger/index.html - null null
2025-12-03 07:13:37.300 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-12-03 07:13:37.304 -03:00 [DBG] Request did not match any endpoints
2025-12-03 07:13:37.307 -03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-12-03 07:13:37.309 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-12-03 07:13:37.311 -03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-12-03 07:13:37.314 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-12-03 07:13:37.316 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/swagger/index.html - 200 null text/html;charset=utf-8 29.5049ms
2025-12-03 07:13:37.366 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/_vs/browserLink - null null
2025-12-03 07:13:37.369 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/_framework/aspnetcore-browser-refresh.js - null null
2025-12-03 07:13:37.400 -03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-12-03 07:13:37.403 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 34.3097ms
2025-12-03 07:13:37.491 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/_vs/browserLink - 200 null text/javascript; charset=UTF-8 124.6042ms
2025-12-03 07:13:37.560 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/swagger/v1/swagger.json - null null
2025-12-03 07:13:37.575 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-12-03 07:13:37.578 -03:00 [DBG] Request did not match any endpoints
2025-12-03 07:13:37.580 -03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 07:13:37.583 -03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 07:13:37.603 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 43.184ms
2025-12-03 07:14:25.333 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction - application/json 152
2025-12-03 07:14:25.379 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction'
2025-12-03 07:14:25.382 -03:00 [DBG] Endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)' with route pattern 'api/Transaction' is valid for the request path '/api/Transaction'
2025-12-03 07:14:25.387 -03:00 [DBG] Request matched endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:14:25.389 -03:00 [INF] [REQUEST] POST /api/Transaction CorrelationId="10af476d-298c-4a06-b4e2-2e04f9e87c4e"
2025-12-03 07:14:25.394 -03:00 [INF] Request started: POST /api/Transaction TraceId=0HNHIAI3VKFSH:00000013
2025-12-03 07:14:25.398 -03:00 [INF] Executing endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:14:25.408 -03:00 [INF] Route matched with {action = "CreateTransaction", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTransaction(PagueVeloz.API.DTOs.TransactionCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 07:14:25.413 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 07:14:25.417 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 07:14:25.421 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 07:14:25.426 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 07:14:25.428 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 07:14:25.431 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 07:14:25.433 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 07:14:25.437 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 07:14:25.441 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' using the name '' in request data ...
2025-12-03 07:14:25.444 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 07:14:25.448 -03:00 [DBG] Connection id "0HNHIAI3VKFSH", Request id "0HNHIAI3VKFSH:00000013": started reading request body.
2025-12-03 07:14:25.451 -03:00 [DBG] Connection id "0HNHIAI3VKFSH", Request id "0HNHIAI3VKFSH:00000013": done reading request body.
2025-12-03 07:14:25.456 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.API.DTOs.TransactionCreateDto'
2025-12-03 07:14:25.459 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:14:25.462 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:14:25.465 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 07:14:25.472 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:14:25.475 -03:00 [INF] Recebida solicitação de movimentação do tipo: {dto.Operation} .
2025-12-03 07:14:25.476 -03:00 [WRN] Idempotency-Key não enviada, gerando uma aleatória.
2025-12-03 07:14:25.618 -03:00 [WRN] Tentativa 1 falhou. Esperando "00:00:02" antes de tentar novamente. Erro: Operação inválida. A conexão está fechada.
2025-12-03 07:14:27.692 -03:00 [WRN] Tentativa 2 falhou. Esperando "00:00:04" antes de tentar novamente. Erro: Operação inválida. A conexão está fechada.
2025-12-03 07:14:31.739 -03:00 [WRN] Tentativa 3 falhou. Esperando "00:00:08" antes de tentar novamente. Erro: Operação inválida. A conexão está fechada.
2025-12-03 07:14:40.598 -03:00 [INF] Executed action TransactionController.CreateTransaction (PagueVeloz.Api) in 15167.2321ms
2025-12-03 07:14:40.843 -03:00 [INF] Executed endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:14:41.823 -03:00 [ERR] Erro capturado globalmente. TraceId: 00-a02714b01df1076b8be25d78cddd969a-de659367f1b4c0a7-00
System.InvalidOperationException: Operação inválida. A conexão está fechada.
   at Microsoft.Data.SqlClient.SqlConnection.GetOpenTdsConnection()
   at Microsoft.Data.SqlClient.SqlConnection.BeginTransaction(IsolationLevel iso, String transactionName)
   at Microsoft.Data.SqlClient.SqlConnection.BeginTransaction(IsolationLevel iso)
   at Microsoft.Data.SqlClient.SqlConnection.BeginDbTransaction(IsolationLevel isolationLevel)
   at PagueVeloz.Application.Services.TransactionService.<>c__DisplayClass6_0.<<ProcessTransactionAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Retry.AsyncRetryEngine.ImplementationAsync[TResult](Func`3 action, Context context, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Func`5 onRetryAsync, CancellationToken cancellationToken, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at PagueVeloz.Application.Services.TransactionService.ProcessTransactionAsync(TransactionModel dto, String idempotencyKey)
   at TransactionController.CreateTransaction(TransactionCreateDto dto) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api\Controllers\TransactionController.cs:line 82
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at RequestTimingMiddleware.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\RequestTiming.cs:line 23
   at PagueVeloz.Shared.Middlewares.RequestLog.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\RequestLog.cs:line 28
   at ExceptionHandlingMiddleware.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\ExceptionHandling.cs:line 22
2025-12-03 07:14:41.836 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Transaction - 500 null application/json 16502.9325ms
2025-12-03 07:14:47.462 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction - application/json 152
2025-12-03 07:14:47.476 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction'
2025-12-03 07:14:47.478 -03:00 [DBG] Endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)' with route pattern 'api/Transaction' is valid for the request path '/api/Transaction'
2025-12-03 07:14:47.484 -03:00 [DBG] Request matched endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:14:47.488 -03:00 [INF] [REQUEST] POST /api/Transaction CorrelationId="d1222f0b-c106-433b-9818-04dad47f6bd8"
2025-12-03 07:14:47.492 -03:00 [INF] Request started: POST /api/Transaction TraceId=0HNHIAI3VKFSH:00000015
2025-12-03 07:14:47.495 -03:00 [INF] Executing endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:14:47.497 -03:00 [INF] Route matched with {action = "CreateTransaction", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTransaction(PagueVeloz.API.DTOs.TransactionCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 07:14:47.503 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 07:14:47.507 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 07:14:47.510 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 07:14:47.513 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 07:14:47.516 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 07:14:47.521 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 07:14:47.529 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 07:14:47.532 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 07:14:47.535 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' using the name '' in request data ...
2025-12-03 07:14:47.539 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 07:14:47.542 -03:00 [DBG] Connection id "0HNHIAI3VKFSH", Request id "0HNHIAI3VKFSH:00000015": started reading request body.
2025-12-03 07:14:47.544 -03:00 [DBG] Connection id "0HNHIAI3VKFSH", Request id "0HNHIAI3VKFSH:00000015": done reading request body.
2025-12-03 07:14:47.548 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.API.DTOs.TransactionCreateDto'
2025-12-03 07:14:47.551 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:14:47.554 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:14:47.557 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 07:14:47.561 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:14:47.565 -03:00 [INF] Recebida solicitação de movimentação do tipo: {dto.Operation} .
2025-12-03 07:14:47.567 -03:00 [WRN] Idempotency-Key não enviada, gerando uma aleatória.
2025-12-03 07:14:47.684 -03:00 [WRN] Tentativa 1 falhou. Esperando "00:00:02" antes de tentar novamente. Erro: Operação inválida. A conexão está fechada.
2025-12-03 07:14:49.753 -03:00 [WRN] Tentativa 2 falhou. Esperando "00:00:04" antes de tentar novamente. Erro: Operação inválida. A conexão está fechada.
2025-12-03 07:14:53.809 -03:00 [WRN] Tentativa 3 falhou. Esperando "00:00:08" antes de tentar novamente. Erro: Operação inválida. A conexão está fechada.
2025-12-03 07:15:02.634 -03:00 [INF] Executed action TransactionController.CreateTransaction (PagueVeloz.Api) in 15112.7567ms
2025-12-03 07:15:02.887 -03:00 [INF] Executed endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:15:03.912 -03:00 [ERR] Erro capturado globalmente. TraceId: 00-aea9a4678ede17df48d7b474211ba48c-acc38b8fcd7a7587-00
System.InvalidOperationException: Operação inválida. A conexão está fechada.
   at Microsoft.Data.SqlClient.SqlConnection.GetOpenTdsConnection()
   at Microsoft.Data.SqlClient.SqlConnection.BeginTransaction(IsolationLevel iso, String transactionName)
   at Microsoft.Data.SqlClient.SqlConnection.BeginTransaction(IsolationLevel iso)
   at Microsoft.Data.SqlClient.SqlConnection.BeginDbTransaction(IsolationLevel isolationLevel)
   at PagueVeloz.Application.Services.TransactionService.<>c__DisplayClass6_0.<<ProcessTransactionAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Retry.AsyncRetryEngine.ImplementationAsync[TResult](Func`3 action, Context context, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Func`5 onRetryAsync, CancellationToken cancellationToken, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at PagueVeloz.Application.Services.TransactionService.ProcessTransactionAsync(TransactionModel dto, String idempotencyKey)
   at TransactionController.CreateTransaction(TransactionCreateDto dto) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api\Controllers\TransactionController.cs:line 82
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at RequestTimingMiddleware.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\RequestTiming.cs:line 23
   at PagueVeloz.Shared.Middlewares.RequestLog.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\RequestLog.cs:line 28
   at ExceptionHandlingMiddleware.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\ExceptionHandling.cs:line 22
2025-12-03 07:15:03.923 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Transaction - 500 null application/json 16461.2871ms
2025-12-03 07:15:42.069 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction - application/json 152
2025-12-03 07:15:42.090 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction'
2025-12-03 07:15:42.093 -03:00 [DBG] Endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)' with route pattern 'api/Transaction' is valid for the request path '/api/Transaction'
2025-12-03 07:15:42.097 -03:00 [DBG] Request matched endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:15:42.100 -03:00 [INF] [REQUEST] POST /api/Transaction CorrelationId="4d3c4d76-b68a-4627-9f62-4d8297665820"
2025-12-03 07:15:42.103 -03:00 [INF] Request started: POST /api/Transaction TraceId=0HNHIAI3VKFSH:00000017
2025-12-03 07:15:42.107 -03:00 [INF] Executing endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:15:42.110 -03:00 [INF] Route matched with {action = "CreateTransaction", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTransaction(PagueVeloz.API.DTOs.TransactionCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 07:15:42.115 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 07:15:42.118 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 07:15:42.121 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 07:15:42.126 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 07:15:42.130 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 07:15:42.134 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 07:15:42.137 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 07:15:42.140 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 07:15:42.143 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' using the name '' in request data ...
2025-12-03 07:15:42.148 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 07:15:42.151 -03:00 [DBG] Connection id "0HNHIAI3VKFSH", Request id "0HNHIAI3VKFSH:00000017": started reading request body.
2025-12-03 07:15:42.155 -03:00 [DBG] Connection id "0HNHIAI3VKFSH", Request id "0HNHIAI3VKFSH:00000017": done reading request body.
2025-12-03 07:15:42.159 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.API.DTOs.TransactionCreateDto'
2025-12-03 07:15:42.163 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:15:42.167 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:15:42.170 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 07:15:42.174 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:15:42.177 -03:00 [INF] Recebida solicitação de movimentação do tipo: {dto.Operation} .
2025-12-03 07:15:42.180 -03:00 [WRN] Idempotency-Key não enviada, gerando uma aleatória.
2025-12-03 07:15:50.287 -03:00 [WRN] Tentativa 1 falhou. Esperando "00:00:02" antes de tentar novamente. Erro: Operação inválida. A conexão está fechada.
2025-12-03 07:15:52.344 -03:00 [WRN] Tentativa 2 falhou. Esperando "00:00:04" antes de tentar novamente. Erro: Operação inválida. A conexão está fechada.
2025-12-03 07:15:56.412 -03:00 [WRN] Tentativa 3 falhou. Esperando "00:00:08" antes de tentar novamente. Erro: Operação inválida. A conexão está fechada.
2025-12-03 07:16:05.300 -03:00 [INF] Executed action TransactionController.CreateTransaction (PagueVeloz.Api) in 23165.6792ms
2025-12-03 07:16:05.568 -03:00 [INF] Executed endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:16:06.535 -03:00 [ERR] Erro capturado globalmente. TraceId: 00-654eb38b2b42547cfdab5bc97e7008d7-b766a020d2d1bd52-00
System.InvalidOperationException: Operação inválida. A conexão está fechada.
   at Microsoft.Data.SqlClient.SqlConnection.GetOpenTdsConnection()
   at Microsoft.Data.SqlClient.SqlConnection.BeginTransaction(IsolationLevel iso, String transactionName)
   at Microsoft.Data.SqlClient.SqlConnection.BeginTransaction(IsolationLevel iso)
   at Microsoft.Data.SqlClient.SqlConnection.BeginDbTransaction(IsolationLevel isolationLevel)
   at PagueVeloz.Application.Services.TransactionService.<>c__DisplayClass6_0.<<ProcessTransactionAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Polly.Retry.AsyncRetryEngine.ImplementationAsync[TResult](Func`3 action, Context context, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Func`5 onRetryAsync, CancellationToken cancellationToken, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at PagueVeloz.Application.Services.TransactionService.ProcessTransactionAsync(TransactionModel dto, String idempotencyKey)
   at TransactionController.CreateTransaction(TransactionCreateDto dto) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api\Controllers\TransactionController.cs:line 82
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at RequestTimingMiddleware.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\RequestTiming.cs:line 23
   at PagueVeloz.Shared.Middlewares.RequestLog.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\RequestLog.cs:line 28
   at ExceptionHandlingMiddleware.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\ExceptionHandling.cs:line 22
2025-12-03 07:16:06.546 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Transaction - 500 null application/json 24476.6089ms
2025-12-03 07:19:52.226 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-12-03 07:19:53.220 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:19:53.225 -03:00 [WRN] No store type was specified for the decimal property 'CreditLimit' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:19:53.229 -03:00 [WRN] No store type was specified for the decimal property 'ReservedBalance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:19:53.231 -03:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:19:53.234 -03:00 [WRN] No store type was specified for the decimal property 'AvailableBalance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:19:53.237 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:19:53.364 -03:00 [DBG] Entity Framework Core 9.0.11 initialized 'PagueVelozDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.11' with options: EngineType=SqlServer 
2025-12-03 07:19:53.381 -03:00 [DBG] Creating DbConnection.
2025-12-03 07:19:53.528 -03:00 [DBG] Created DbConnection. (143ms).
2025-12-03 07:19:53.537 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:19:53.823 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:19:53.834 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-12-03 07:19:53.843 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (9ms).
2025-12-03 07:19:53.848 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (17ms).
2025-12-03 07:19:53.857 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 07:19:53.903 -03:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 07:19:53.909 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:19:53.923 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (7ms).
2025-12-03 07:19:53.929 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-12-03 07:19:53.931 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2025-12-03 07:19:53.934 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (4ms).
2025-12-03 07:19:53.938 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:19:53.943 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:19:53.946 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 07:19:53.990 -03:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 07:19:53.996 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:19:54.000 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (4ms).
2025-12-03 07:19:54.006 -03:00 [DBG] 'PagueVelozDbContext' disposed.
2025-12-03 07:19:54.010 -03:00 [DBG] Disposing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:19:54.013 -03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-12-03 07:19:54.186 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-12-03 07:19:54.283 -03:00 [DBG] Hosting starting
2025-12-03 07:19:54.312 -03:00 [DBG] Middleware loaded
2025-12-03 07:19:54.316 -03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16513 B).
2025-12-03 07:19:54.320 -03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-12-03 07:19:54.414 -03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-12-03 07:19:54.419 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-12-03 07:19:54.432 -03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-12-03 07:19:54.654 -03:00 [INF] Now listening on: https://localhost:7249
2025-12-03 07:19:54.656 -03:00 [INF] Now listening on: http://localhost:5247
2025-12-03 07:19:54.658 -03:00 [DBG] Loaded hosting startup assembly PagueVeloz.Api
2025-12-03 07:19:54.660 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-12-03 07:19:54.661 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-12-03 07:19:54.663 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-12-03 07:19:54.676 -03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 07:19:54.681 -03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 07:19:54.838 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-03 07:19:54.840 -03:00 [INF] Hosting environment: Development
2025-12-03 07:19:54.843 -03:00 [INF] Content root path: E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api
2025-12-03 07:19:54.846 -03:00 [DBG] Hosting started
2025-12-03 07:20:09.495 -03:00 [DBG] Connection id "0HNHIAM4P74BD" accepted.
2025-12-03 07:20:09.510 -03:00 [DBG] Connection id "0HNHIAM4P74BD" started.
2025-12-03 07:20:09.567 -03:00 [DBG] Connection 0HNHIAM4P74BD established using the following protocol: "Tls13"
2025-12-03 07:20:09.637 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/swagger/index.html - null null
2025-12-03 07:20:09.820 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-12-03 07:20:09.824 -03:00 [DBG] Request did not match any endpoints
2025-12-03 07:20:09.923 -03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-12-03 07:20:09.927 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-12-03 07:20:09.941 -03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-12-03 07:20:09.944 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-12-03 07:20:09.952 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/swagger/index.html - 200 null text/html;charset=utf-8 320.602ms
2025-12-03 07:20:09.986 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/_vs/browserLink - null null
2025-12-03 07:20:09.986 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/_framework/aspnetcore-browser-refresh.js - null null
2025-12-03 07:20:10.033 -03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-12-03 07:20:10.037 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 49.949ms
2025-12-03 07:20:10.074 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/_vs/browserLink - 200 null text/javascript; charset=UTF-8 88.1974ms
2025-12-03 07:20:10.223 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/swagger/v1/swagger.json - null null
2025-12-03 07:20:10.231 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-12-03 07:20:10.234 -03:00 [DBG] Request did not match any endpoints
2025-12-03 07:20:10.271 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 48.1748ms
2025-12-03 07:20:17.641 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction - application/json 152
2025-12-03 07:20:17.651 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction'
2025-12-03 07:20:17.655 -03:00 [DBG] Endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)' with route pattern 'api/Transaction' is valid for the request path '/api/Transaction'
2025-12-03 07:20:17.659 -03:00 [DBG] Request matched endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:20:17.675 -03:00 [INF] [REQUEST] POST /api/Transaction CorrelationId="d58db853-b58f-49dd-a665-f32ee9be35c7"
2025-12-03 07:20:17.683 -03:00 [INF] Request started: POST /api/Transaction TraceId=0HNHIAM4P74BD:00000009
2025-12-03 07:20:17.689 -03:00 [INF] Executing endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:20:17.723 -03:00 [INF] Route matched with {action = "CreateTransaction", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTransaction(PagueVeloz.API.DTOs.TransactionCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 07:20:17.729 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 07:20:17.734 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 07:20:17.739 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 07:20:17.743 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 07:20:17.746 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 07:20:17.752 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 07:20:17.758 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 07:20:17.777 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 07:20:17.786 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' using the name '' in request data ...
2025-12-03 07:20:17.791 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 07:20:17.810 -03:00 [DBG] Connection id "0HNHIAM4P74BD", Request id "0HNHIAM4P74BD:00000009": started reading request body.
2025-12-03 07:20:17.813 -03:00 [DBG] Connection id "0HNHIAM4P74BD", Request id "0HNHIAM4P74BD:00000009": done reading request body.
2025-12-03 07:20:17.838 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.API.DTOs.TransactionCreateDto'
2025-12-03 07:20:17.841 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:20:17.844 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:20:17.847 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 07:20:17.930 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:20:17.936 -03:00 [INF] Recebida solicitação de movimentação do tipo: {dto.Operation} .
2025-12-03 07:20:17.940 -03:00 [WRN] Idempotency-Key não enviada, gerando uma aleatória.
2025-12-03 07:20:22.142 -03:00 [WRN] Tentativa 1 falhou. Esperando "00:00:02" antes de tentar novamente. Erro: Operação inválida. A conexão está fechada.
2025-12-03 07:20:24.211 -03:00 [WRN] Tentativa 2 falhou. Esperando "00:00:04" antes de tentar novamente. Erro: Operação inválida. A conexão está fechada.
2025-12-03 07:20:28.259 -03:00 [WRN] Tentativa 3 falhou. Esperando "00:00:08" antes de tentar novamente. Erro: Operação inválida. A conexão está fechada.
2025-12-03 07:20:37.175 -03:00 [INF] Executed action TransactionController.CreateTransaction (PagueVeloz.Api) in 19421.2216ms
2025-12-03 07:20:37.458 -03:00 [INF] Executed endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:20:38.385 -03:00 [ERR] Erro capturado globalmente. TraceId: 00-d2db453fed828270d9b398e43e77acbb-694905a67b29063f-00
System.InvalidOperationException: Operação inválida. A conexão está fechada.
   at Microsoft.Data.SqlClient.SqlConnection.GetOpenTdsConnection()
   at Microsoft.Data.SqlClient.SqlConnection.BeginTransaction(IsolationLevel iso, String transactionName)
   at Microsoft.Data.SqlClient.SqlConnection.BeginTransaction(IsolationLevel iso)
   at Microsoft.Data.SqlClient.SqlConnection.BeginDbTransaction(IsolationLevel isolationLevel)
   at PagueVeloz.Application.Services.TransactionService.<>c__DisplayClass5_0.<<ProcessTransactionAsync>b__0>d.MoveNext() in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Application\Services\TransactionService.cs:line 41
--- End of stack trace from previous location ---
   at Polly.Retry.AsyncRetryEngine.ImplementationAsync[TResult](Func`3 action, Context context, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Func`5 onRetryAsync, CancellationToken cancellationToken, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at PagueVeloz.Application.Services.TransactionService.ProcessTransactionAsync(TransactionModel dto, String idempotencyKey) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Application\Services\TransactionService.cs:line 39
   at TransactionController.CreateTransaction(TransactionCreateDto dto) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api\Controllers\TransactionController.cs:line 83
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at RequestTimingMiddleware.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\RequestTiming.cs:line 23
   at PagueVeloz.Shared.Middlewares.RequestLog.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\RequestLog.cs:line 28
   at ExceptionHandlingMiddleware.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\ExceptionHandling.cs:line 22
2025-12-03 07:20:38.426 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Transaction - 500 null application/json 20785.0505ms
2025-12-03 07:21:46.828 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-12-03 07:21:48.062 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:21:48.069 -03:00 [WRN] No store type was specified for the decimal property 'CreditLimit' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:21:48.072 -03:00 [WRN] No store type was specified for the decimal property 'ReservedBalance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:21:48.075 -03:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:21:48.077 -03:00 [WRN] No store type was specified for the decimal property 'AvailableBalance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:21:48.081 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:21:48.218 -03:00 [DBG] Entity Framework Core 9.0.11 initialized 'PagueVelozDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.11' with options: EngineType=SqlServer 
2025-12-03 07:21:48.235 -03:00 [DBG] Creating DbConnection.
2025-12-03 07:21:48.298 -03:00 [DBG] Created DbConnection. (57ms).
2025-12-03 07:21:48.307 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:21:48.598 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:21:48.613 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-12-03 07:21:48.622 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (11ms).
2025-12-03 07:21:48.628 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (20ms).
2025-12-03 07:21:48.640 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 07:21:48.690 -03:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 07:21:48.697 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:21:48.711 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (7ms).
2025-12-03 07:21:48.717 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-12-03 07:21:48.719 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2025-12-03 07:21:48.722 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (5ms).
2025-12-03 07:21:48.725 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:21:48.730 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:21:48.733 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 07:21:48.784 -03:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 07:21:48.789 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:21:48.793 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (3ms).
2025-12-03 07:21:48.799 -03:00 [DBG] 'PagueVelozDbContext' disposed.
2025-12-03 07:21:48.803 -03:00 [DBG] Disposing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:21:48.808 -03:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-12-03 07:21:49.086 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-12-03 07:21:49.190 -03:00 [DBG] Hosting starting
2025-12-03 07:21:49.224 -03:00 [DBG] Middleware loaded
2025-12-03 07:21:49.230 -03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16513 B).
2025-12-03 07:21:49.233 -03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-12-03 07:21:49.343 -03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-12-03 07:21:49.348 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-12-03 07:21:49.365 -03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-12-03 07:21:49.583 -03:00 [INF] Now listening on: https://localhost:7249
2025-12-03 07:21:49.585 -03:00 [INF] Now listening on: http://localhost:5247
2025-12-03 07:21:49.587 -03:00 [DBG] Loaded hosting startup assembly PagueVeloz.Api
2025-12-03 07:21:49.589 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-12-03 07:21:49.593 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-12-03 07:21:49.595 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-12-03 07:21:49.610 -03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 07:21:49.614 -03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 07:21:50.116 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-03 07:21:50.118 -03:00 [INF] Hosting environment: Development
2025-12-03 07:21:50.119 -03:00 [INF] Content root path: E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api
2025-12-03 07:21:50.121 -03:00 [DBG] Hosting started
2025-12-03 07:22:35.680 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-12-03 07:22:36.827 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:22:36.833 -03:00 [WRN] No store type was specified for the decimal property 'CreditLimit' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:22:36.836 -03:00 [WRN] No store type was specified for the decimal property 'ReservedBalance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:22:36.839 -03:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:22:36.841 -03:00 [WRN] No store type was specified for the decimal property 'AvailableBalance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:22:36.845 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:22:36.999 -03:00 [DBG] Entity Framework Core 9.0.11 initialized 'PagueVelozDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.11' with options: EngineType=SqlServer 
2025-12-03 07:22:37.021 -03:00 [DBG] Creating DbConnection.
2025-12-03 07:22:37.084 -03:00 [DBG] Created DbConnection. (59ms).
2025-12-03 07:22:37.093 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:22:37.409 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:22:37.424 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-12-03 07:22:37.434 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (11ms).
2025-12-03 07:22:37.440 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (22ms).
2025-12-03 07:22:37.451 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 07:22:37.502 -03:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 07:22:37.509 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:22:37.523 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (8ms).
2025-12-03 07:22:37.530 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-12-03 07:22:37.533 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2025-12-03 07:22:37.535 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (5ms).
2025-12-03 07:22:37.538 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:22:37.542 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:22:37.546 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 07:22:37.586 -03:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 07:22:37.592 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:22:37.595 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (3ms).
2025-12-03 07:22:37.602 -03:00 [DBG] 'PagueVelozDbContext' disposed.
2025-12-03 07:22:37.609 -03:00 [DBG] Disposing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:22:37.614 -03:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-12-03 07:22:37.922 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-12-03 07:22:38.023 -03:00 [DBG] Hosting starting
2025-12-03 07:22:38.050 -03:00 [DBG] Middleware loaded
2025-12-03 07:22:38.056 -03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16513 B).
2025-12-03 07:22:38.060 -03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-12-03 07:22:38.162 -03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-12-03 07:22:38.166 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-12-03 07:22:38.180 -03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-12-03 07:22:38.385 -03:00 [INF] Now listening on: https://localhost:7249
2025-12-03 07:22:38.388 -03:00 [INF] Now listening on: http://localhost:5247
2025-12-03 07:22:38.390 -03:00 [DBG] Loaded hosting startup assembly PagueVeloz.Api
2025-12-03 07:22:38.392 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-12-03 07:22:38.394 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-12-03 07:22:38.396 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-12-03 07:22:38.409 -03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 07:22:38.414 -03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 07:22:38.588 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-03 07:22:38.590 -03:00 [INF] Hosting environment: Development
2025-12-03 07:22:38.593 -03:00 [INF] Content root path: E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api
2025-12-03 07:22:38.596 -03:00 [DBG] Hosting started
2025-12-03 07:23:30.499 -03:00 [DBG] Connection id "0HNHIAO0M4QQQ" accepted.
2025-12-03 07:23:30.545 -03:00 [DBG] Connection id "0HNHIAO0M4QQQ" started.
2025-12-03 07:23:30.626 -03:00 [DBG] Connection 0HNHIAO0M4QQQ established using the following protocol: "Tls13"
2025-12-03 07:23:30.719 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/swagger/index.html - null null
2025-12-03 07:23:30.911 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-12-03 07:23:30.914 -03:00 [DBG] Request did not match any endpoints
2025-12-03 07:23:31.011 -03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-12-03 07:23:31.014 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-12-03 07:23:31.022 -03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-12-03 07:23:31.025 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-12-03 07:23:31.033 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/swagger/index.html - 200 null text/html;charset=utf-8 322.0716ms
2025-12-03 07:23:31.072 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/_vs/browserLink - null null
2025-12-03 07:23:31.072 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/_framework/aspnetcore-browser-refresh.js - null null
2025-12-03 07:23:31.123 -03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-12-03 07:23:31.128 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 56.0229ms
2025-12-03 07:23:31.163 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/_vs/browserLink - 200 null text/javascript; charset=UTF-8 91.2703ms
2025-12-03 07:23:31.238 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/swagger/v1/swagger.json - null null
2025-12-03 07:23:31.254 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-12-03 07:23:31.256 -03:00 [DBG] Request did not match any endpoints
2025-12-03 07:23:31.289 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 50.5316ms
2025-12-03 07:23:45.483 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction - application/json 152
2025-12-03 07:23:45.495 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction'
2025-12-03 07:23:45.499 -03:00 [DBG] Endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)' with route pattern 'api/Transaction' is valid for the request path '/api/Transaction'
2025-12-03 07:23:45.503 -03:00 [DBG] Request matched endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:23:45.525 -03:00 [INF] [REQUEST] POST /api/Transaction CorrelationId="01e1660f-fb98-4cfe-b9a0-98d5b5a3d629"
2025-12-03 07:23:45.533 -03:00 [INF] Request started: POST /api/Transaction TraceId=0HNHIAO0M4QQQ:00000009
2025-12-03 07:23:45.539 -03:00 [INF] Executing endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:23:45.573 -03:00 [INF] Route matched with {action = "CreateTransaction", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTransaction(PagueVeloz.API.DTOs.TransactionCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 07:23:45.579 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 07:23:45.583 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 07:23:45.587 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 07:23:45.592 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 07:23:45.595 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 07:23:45.601 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 07:23:45.607 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 07:23:45.625 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 07:23:45.630 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' using the name '' in request data ...
2025-12-03 07:23:45.635 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 07:23:45.658 -03:00 [DBG] Connection id "0HNHIAO0M4QQQ", Request id "0HNHIAO0M4QQQ:00000009": started reading request body.
2025-12-03 07:23:45.661 -03:00 [DBG] Connection id "0HNHIAO0M4QQQ", Request id "0HNHIAO0M4QQQ:00000009": done reading request body.
2025-12-03 07:23:45.695 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.API.DTOs.TransactionCreateDto'
2025-12-03 07:23:45.698 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:23:45.701 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:23:45.704 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 07:23:45.811 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:23:45.818 -03:00 [INF] Recebida solicitação de movimentação do tipo: {dto.Operation} .
2025-12-03 07:23:45.821 -03:00 [WRN] Idempotency-Key não enviada, gerando uma aleatória.
2025-12-03 07:23:55.946 -03:00 [WRN] Tentativa 1 falhou. Esperando "00:00:02" antes de tentar novamente. Erro: Operação inválida. A conexão está fechada.
2025-12-03 07:23:58.030 -03:00 [WRN] Tentativa 2 falhou. Esperando "00:00:04" antes de tentar novamente. Erro: Operação inválida. A conexão está fechada.
2025-12-03 07:24:02.086 -03:00 [WRN] Tentativa 3 falhou. Esperando "00:00:08" antes de tentar novamente. Erro: Operação inválida. A conexão está fechada.
2025-12-03 07:24:11.144 -03:00 [INF] Executed action TransactionController.CreateTransaction (PagueVeloz.Api) in 25540.281ms
2025-12-03 07:24:11.471 -03:00 [INF] Executed endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:24:12.529 -03:00 [ERR] Erro capturado globalmente. TraceId: 00-0087f4610707b17bf6ac31ed822fcb5f-f91bf875d70a5d28-00
System.InvalidOperationException: Operação inválida. A conexão está fechada.
   at Microsoft.Data.SqlClient.SqlConnection.GetOpenTdsConnection()
   at Microsoft.Data.SqlClient.SqlConnection.BeginTransaction(IsolationLevel iso, String transactionName)
   at Microsoft.Data.SqlClient.SqlConnection.BeginTransaction(IsolationLevel iso)
   at Microsoft.Data.SqlClient.SqlConnection.BeginDbTransaction(IsolationLevel isolationLevel)
   at PagueVeloz.Application.Services.TransactionService.<>c__DisplayClass5_0.<<ProcessTransactionAsync>b__0>d.MoveNext() in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Application\Services\TransactionService.cs:line 41
--- End of stack trace from previous location ---
   at Polly.Retry.AsyncRetryEngine.ImplementationAsync[TResult](Func`3 action, Context context, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Func`5 onRetryAsync, CancellationToken cancellationToken, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at PagueVeloz.Application.Services.TransactionService.ProcessTransactionAsync(TransactionModel dto, String idempotencyKey) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Application\Services\TransactionService.cs:line 39
   at TransactionController.CreateTransaction(TransactionCreateDto dto) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api\Controllers\TransactionController.cs:line 83
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at RequestTimingMiddleware.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\RequestTiming.cs:line 23
   at PagueVeloz.Shared.Middlewares.RequestLog.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\RequestLog.cs:line 28
   at ExceptionHandlingMiddleware.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\ExceptionHandling.cs:line 22
2025-12-03 07:24:12.573 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Transaction - 500 null application/json 27089.6527ms
2025-12-03 07:27:14.507 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-12-03 07:27:15.541 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:27:15.546 -03:00 [WRN] No store type was specified for the decimal property 'CreditLimit' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:27:15.549 -03:00 [WRN] No store type was specified for the decimal property 'ReservedBalance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:27:15.552 -03:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:27:15.555 -03:00 [WRN] No store type was specified for the decimal property 'AvailableBalance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:27:15.558 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:27:15.689 -03:00 [DBG] Entity Framework Core 9.0.11 initialized 'PagueVelozDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.11' with options: EngineType=SqlServer 
2025-12-03 07:27:15.709 -03:00 [DBG] Creating DbConnection.
2025-12-03 07:27:15.768 -03:00 [DBG] Created DbConnection. (55ms).
2025-12-03 07:27:15.774 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:27:16.089 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:27:16.103 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-12-03 07:27:16.112 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (11ms).
2025-12-03 07:27:16.118 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (20ms).
2025-12-03 07:27:16.129 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 07:27:16.181 -03:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 07:27:16.188 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:27:16.201 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (8ms).
2025-12-03 07:27:16.207 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-12-03 07:27:16.210 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2025-12-03 07:27:16.213 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (5ms).
2025-12-03 07:27:16.216 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:27:16.220 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:27:16.225 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 07:27:16.274 -03:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 07:27:16.279 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:27:16.283 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (3ms).
2025-12-03 07:27:16.289 -03:00 [DBG] 'PagueVelozDbContext' disposed.
2025-12-03 07:27:16.294 -03:00 [DBG] Disposing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:27:16.297 -03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-12-03 07:27:16.547 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-12-03 07:27:16.663 -03:00 [DBG] Hosting starting
2025-12-03 07:27:16.701 -03:00 [DBG] Middleware loaded
2025-12-03 07:27:16.706 -03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16513 B).
2025-12-03 07:27:16.710 -03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-12-03 07:27:16.820 -03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-12-03 07:27:16.825 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-12-03 07:27:16.840 -03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-12-03 07:27:17.026 -03:00 [INF] Now listening on: https://localhost:7249
2025-12-03 07:27:17.028 -03:00 [INF] Now listening on: http://localhost:5247
2025-12-03 07:27:17.031 -03:00 [DBG] Loaded hosting startup assembly PagueVeloz.Api
2025-12-03 07:27:17.033 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-12-03 07:27:17.035 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-12-03 07:27:17.037 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-12-03 07:27:17.051 -03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 07:27:17.056 -03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 07:27:17.527 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-03 07:27:17.530 -03:00 [INF] Hosting environment: Development
2025-12-03 07:27:17.532 -03:00 [INF] Content root path: E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api
2025-12-03 07:27:17.535 -03:00 [DBG] Hosting started
2025-12-03 07:28:39.274 -03:00 [DBG] Connection id "0HNHIAQSMRD95" accepted.
2025-12-03 07:28:39.347 -03:00 [DBG] Connection id "0HNHIAQSMRD95" started.
2025-12-03 07:28:39.426 -03:00 [DBG] Connection 0HNHIAQSMRD95 established using the following protocol: "Tls13"
2025-12-03 07:28:39.513 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/swagger/index.html - null null
2025-12-03 07:28:39.701 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-12-03 07:28:39.704 -03:00 [DBG] Request did not match any endpoints
2025-12-03 07:28:39.808 -03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-12-03 07:28:39.813 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-12-03 07:28:39.827 -03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-12-03 07:28:39.832 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-12-03 07:28:39.841 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/swagger/index.html - 200 null text/html;charset=utf-8 335.6704ms
2025-12-03 07:28:39.886 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/_vs/browserLink - null null
2025-12-03 07:28:39.895 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/_framework/aspnetcore-browser-refresh.js - null null
2025-12-03 07:28:39.944 -03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-12-03 07:28:39.948 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 54.0417ms
2025-12-03 07:28:39.982 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/_vs/browserLink - 200 null text/javascript; charset=UTF-8 96.0091ms
2025-12-03 07:28:40.310 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/swagger/v1/swagger.json - null null
2025-12-03 07:28:40.318 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-12-03 07:28:40.321 -03:00 [DBG] Request did not match any endpoints
2025-12-03 07:28:40.371 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 61.2676ms
2025-12-03 07:28:47.751 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction - application/json 152
2025-12-03 07:28:47.763 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction'
2025-12-03 07:28:47.767 -03:00 [DBG] Endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)' with route pattern 'api/Transaction' is valid for the request path '/api/Transaction'
2025-12-03 07:28:47.772 -03:00 [DBG] Request matched endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:28:47.790 -03:00 [INF] [REQUEST] POST /api/Transaction CorrelationId="396d11d0-faf6-45c9-a217-39fb7150c510"
2025-12-03 07:28:47.798 -03:00 [INF] Request started: POST /api/Transaction TraceId=0HNHIAQSMRD95:00000009
2025-12-03 07:28:47.804 -03:00 [INF] Executing endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:28:47.840 -03:00 [INF] Route matched with {action = "CreateTransaction", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTransaction(PagueVeloz.API.DTOs.TransactionCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 07:28:47.846 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 07:28:47.851 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 07:28:47.855 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 07:28:47.859 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 07:28:47.863 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 07:28:47.869 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 07:28:47.877 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 07:28:47.898 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 07:28:47.903 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' using the name '' in request data ...
2025-12-03 07:28:47.909 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 07:28:47.933 -03:00 [DBG] Connection id "0HNHIAQSMRD95", Request id "0HNHIAQSMRD95:00000009": started reading request body.
2025-12-03 07:28:47.937 -03:00 [DBG] Connection id "0HNHIAQSMRD95", Request id "0HNHIAQSMRD95:00000009": done reading request body.
2025-12-03 07:28:47.971 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.API.DTOs.TransactionCreateDto'
2025-12-03 07:28:47.975 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:28:47.979 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:28:47.983 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 07:28:48.091 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:28:48.100 -03:00 [INF] Recebida solicitação de movimentação do tipo: {dto.Operation} .
2025-12-03 07:28:48.103 -03:00 [WRN] Idempotency-Key não enviada, gerando uma aleatória.
2025-12-03 07:28:51.794 -03:00 [INF] Iniciando a movimentação de conta. IdempotencyKey: 85c02827-806c-4797-9444-316983d73951
2025-12-03 07:32:17.001 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-12-03 07:32:18.414 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:32:18.419 -03:00 [WRN] No store type was specified for the decimal property 'CreditLimit' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:32:18.423 -03:00 [WRN] No store type was specified for the decimal property 'ReservedBalance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:32:18.427 -03:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:32:18.430 -03:00 [WRN] No store type was specified for the decimal property 'AvailableBalance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:32:18.433 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:32:18.550 -03:00 [DBG] Entity Framework Core 9.0.11 initialized 'PagueVelozDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.11' with options: EngineType=SqlServer 
2025-12-03 07:32:18.567 -03:00 [DBG] Creating DbConnection.
2025-12-03 07:32:18.619 -03:00 [DBG] Created DbConnection. (47ms).
2025-12-03 07:32:18.627 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:32:18.902 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:32:18.913 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-12-03 07:32:18.924 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (10ms).
2025-12-03 07:32:18.930 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (21ms).
2025-12-03 07:32:18.941 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 07:32:18.991 -03:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 07:32:18.998 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:32:19.011 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (8ms).
2025-12-03 07:32:19.019 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-12-03 07:32:19.022 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2025-12-03 07:32:19.024 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (5ms).
2025-12-03 07:32:19.027 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:32:19.031 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:32:19.035 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 07:32:19.074 -03:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 07:32:19.080 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:32:19.083 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (3ms).
2025-12-03 07:32:19.088 -03:00 [DBG] 'PagueVelozDbContext' disposed.
2025-12-03 07:32:19.092 -03:00 [DBG] Disposing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:32:19.096 -03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-12-03 07:32:19.286 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-12-03 07:32:19.414 -03:00 [DBG] Hosting starting
2025-12-03 07:32:19.452 -03:00 [DBG] Middleware loaded
2025-12-03 07:32:19.457 -03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16513 B).
2025-12-03 07:32:19.462 -03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-12-03 07:32:19.560 -03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-12-03 07:32:19.565 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-12-03 07:32:19.580 -03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-12-03 07:32:19.780 -03:00 [INF] Now listening on: https://localhost:7249
2025-12-03 07:32:19.782 -03:00 [INF] Now listening on: http://localhost:5247
2025-12-03 07:32:19.785 -03:00 [DBG] Loaded hosting startup assembly PagueVeloz.Api
2025-12-03 07:32:19.787 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-12-03 07:32:19.790 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-12-03 07:32:19.792 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-12-03 07:32:19.803 -03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 07:32:19.808 -03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 07:32:19.966 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-03 07:32:19.969 -03:00 [INF] Hosting environment: Development
2025-12-03 07:32:19.971 -03:00 [INF] Content root path: E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api
2025-12-03 07:32:19.974 -03:00 [DBG] Hosting started
2025-12-03 07:36:33.073 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-12-03 07:36:34.149 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:36:34.155 -03:00 [WRN] No store type was specified for the decimal property 'CreditLimit' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:36:34.158 -03:00 [WRN] No store type was specified for the decimal property 'ReservedBalance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:36:34.162 -03:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:36:34.165 -03:00 [WRN] No store type was specified for the decimal property 'AvailableBalance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:36:34.167 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:36:34.305 -03:00 [DBG] Entity Framework Core 9.0.11 initialized 'PagueVelozDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.11' with options: EngineType=SqlServer 
2025-12-03 07:36:34.328 -03:00 [DBG] Creating DbConnection.
2025-12-03 07:36:34.391 -03:00 [DBG] Created DbConnection. (60ms).
2025-12-03 07:36:34.402 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:36:34.818 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:36:34.832 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-12-03 07:36:34.845 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (12ms).
2025-12-03 07:36:34.851 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (23ms).
2025-12-03 07:36:34.863 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 07:36:34.926 -03:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 07:36:34.935 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:36:34.957 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (15ms).
2025-12-03 07:36:34.964 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-12-03 07:36:34.966 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2025-12-03 07:36:34.972 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (8ms).
2025-12-03 07:36:34.976 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:36:34.979 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:36:34.983 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 07:36:35.037 -03:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 07:36:35.042 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:36:35.045 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (3ms).
2025-12-03 07:36:35.050 -03:00 [DBG] 'PagueVelozDbContext' disposed.
2025-12-03 07:36:35.056 -03:00 [DBG] Disposing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:36:35.060 -03:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-12-03 07:36:35.277 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-12-03 07:36:35.374 -03:00 [DBG] Hosting starting
2025-12-03 07:36:35.405 -03:00 [DBG] Middleware loaded
2025-12-03 07:36:35.410 -03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16513 B).
2025-12-03 07:36:35.413 -03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-12-03 07:36:35.519 -03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-12-03 07:36:35.524 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-12-03 07:36:35.540 -03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-12-03 07:36:35.728 -03:00 [INF] Now listening on: https://localhost:7249
2025-12-03 07:36:35.730 -03:00 [INF] Now listening on: http://localhost:5247
2025-12-03 07:36:35.732 -03:00 [DBG] Loaded hosting startup assembly PagueVeloz.Api
2025-12-03 07:36:35.734 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-12-03 07:36:35.736 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-12-03 07:36:35.738 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-12-03 07:36:35.752 -03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 07:36:35.757 -03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 07:36:35.871 -03:00 [DBG] Connection id "0HNHIAVAO14OM" accepted.
2025-12-03 07:36:35.890 -03:00 [DBG] Connection id "0HNHIAVAO14OM" started.
2025-12-03 07:36:35.903 -03:00 [DBG] Connection id "0HNHIAVAO14ON" accepted.
2025-12-03 07:36:35.905 -03:00 [DBG] Connection id "0HNHIAVAO14ON" started.
2025-12-03 07:36:35.992 -03:00 [DBG] Connection id "0HNHIAVAO14OM" received FIN.
2025-12-03 07:36:36.045 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-03 07:36:36.047 -03:00 [INF] Hosting environment: Development
2025-12-03 07:36:36.050 -03:00 [INF] Content root path: E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api
2025-12-03 07:36:36.053 -03:00 [DBG] Hosting started
2025-12-03 07:36:36.079 -03:00 [DBG] Connection 0HNHIAVAO14OM established using the following protocol: "Tls13"
2025-12-03 07:36:36.079 -03:00 [DBG] Connection 0HNHIAVAO14ON established using the following protocol: "Tls13"
2025-12-03 07:36:36.115 -03:00 [DBG] Connection id "0HNHIAVAO14OM" is closed. The last processed stream ID was 0.
2025-12-03 07:36:36.120 -03:00 [DBG] Connection id "0HNHIAVAO14OM" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-12-03 07:36:36.129 -03:00 [DBG] The connection queue processing loop for 0HNHIAVAO14OM completed.
2025-12-03 07:36:36.138 -03:00 [DBG] Connection id "0HNHIAVAO14OM" stopped.
2025-12-03 07:36:36.224 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/swagger/index.html - null null
2025-12-03 07:36:36.466 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-12-03 07:36:36.470 -03:00 [DBG] Request did not match any endpoints
2025-12-03 07:36:36.578 -03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-12-03 07:36:36.582 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-12-03 07:36:36.594 -03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-12-03 07:36:36.598 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-12-03 07:36:36.608 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/swagger/index.html - 200 null text/html;charset=utf-8 393.4739ms
2025-12-03 07:36:36.641 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/_vs/browserLink - null null
2025-12-03 07:36:36.641 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/_framework/aspnetcore-browser-refresh.js - null null
2025-12-03 07:36:36.674 -03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-12-03 07:36:36.678 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 36.3426ms
2025-12-03 07:36:36.716 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/_vs/browserLink - 200 null text/javascript; charset=UTF-8 75.2058ms
2025-12-03 07:36:37.082 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/swagger/v1/swagger.json - null null
2025-12-03 07:36:37.090 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-12-03 07:36:37.093 -03:00 [DBG] Request did not match any endpoints
2025-12-03 07:36:37.129 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 46.5025ms
2025-12-03 07:36:45.195 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction - application/json 152
2025-12-03 07:36:45.208 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction'
2025-12-03 07:36:45.213 -03:00 [DBG] Endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)' with route pattern 'api/Transaction' is valid for the request path '/api/Transaction'
2025-12-03 07:36:45.221 -03:00 [DBG] Request matched endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:36:45.247 -03:00 [INF] [REQUEST] POST /api/Transaction CorrelationId="321a595a-cecb-49a8-b2e6-d4e5b133bba1"
2025-12-03 07:36:45.255 -03:00 [INF] Request started: POST /api/Transaction TraceId=0HNHIAVAO14ON:00000009
2025-12-03 07:36:45.261 -03:00 [INF] Executing endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:36:45.300 -03:00 [INF] Route matched with {action = "CreateTransaction", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTransaction(PagueVeloz.API.DTOs.TransactionCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 07:36:45.307 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 07:36:45.311 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 07:36:45.315 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 07:36:45.320 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 07:36:45.324 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 07:36:45.330 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 07:36:45.338 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 07:36:45.359 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 07:36:45.365 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' using the name '' in request data ...
2025-12-03 07:36:45.371 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 07:36:45.397 -03:00 [DBG] Connection id "0HNHIAVAO14ON", Request id "0HNHIAVAO14ON:00000009": started reading request body.
2025-12-03 07:36:45.400 -03:00 [DBG] Connection id "0HNHIAVAO14ON", Request id "0HNHIAVAO14ON:00000009": done reading request body.
2025-12-03 07:36:45.435 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.API.DTOs.TransactionCreateDto'
2025-12-03 07:36:45.439 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:36:45.442 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:36:45.445 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 07:36:45.599 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:36:45.607 -03:00 [INF] Recebida solicitação de movimentação do tipo: {dto.Operation} .
2025-12-03 07:36:45.610 -03:00 [WRN] Idempotency-Key não enviada, gerando uma aleatória.
2025-12-03 07:36:45.650 -03:00 [INF] Iniciando a movimentação de conta. IdempotencyKey: 242047e2-d04c-466d-a242-3e0df2b55a45
2025-12-03 07:36:46.593 -03:00 [WRN] Tentativa 1 falhou. Esperando "00:00:02" antes de tentar novamente. Erro: BeginExecuteReader requer que o comando tenha uma transação quando a conexão atribuída ao comando estiver em uma transação local pendente. A propriedade Transaction do comando não foi inicializada.
2025-12-03 07:36:48.602 -03:00 [INF] Iniciando a movimentação de conta. IdempotencyKey: 242047e2-d04c-466d-a242-3e0df2b55a45
2025-12-03 07:36:49.188 -03:00 [WRN] Tentativa 2 falhou. Esperando "00:00:04" antes de tentar novamente. Erro: BeginExecuteReader requer que o comando tenha uma transação quando a conexão atribuída ao comando estiver em uma transação local pendente. A propriedade Transaction do comando não foi inicializada.
2025-12-03 07:36:53.186 -03:00 [INF] Iniciando a movimentação de conta. IdempotencyKey: 242047e2-d04c-466d-a242-3e0df2b55a45
2025-12-03 07:36:53.642 -03:00 [WRN] Tentativa 3 falhou. Esperando "00:00:08" antes de tentar novamente. Erro: BeginExecuteReader requer que o comando tenha uma transação quando a conexão atribuída ao comando estiver em uma transação local pendente. A propriedade Transaction do comando não foi inicializada.
2025-12-03 07:37:01.650 -03:00 [INF] Iniciando a movimentação de conta. IdempotencyKey: 242047e2-d04c-466d-a242-3e0df2b55a45
2025-12-03 07:37:03.452 -03:00 [INF] Executed action TransactionController.CreateTransaction (PagueVeloz.Api) in 18121.0436ms
2025-12-03 07:37:03.858 -03:00 [INF] Executed endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:37:05.043 -03:00 [ERR] Erro capturado globalmente. TraceId: 00-2293aac3fbe482c233238a327cc7c573-08bef8594a13744d-00
System.InvalidOperationException: BeginExecuteReader requer que o comando tenha uma transação quando a conexão atribuída ao comando estiver em uma transação local pendente. A propriedade Transaction do comando não foi inicializada.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at PagueVeloz.Infrastructure.Repositories.Idempotency.IdempotencyRepository.GetByKeyAsync(String key) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Infrastructure\Repositories\Idempotency\IdempotencyRepository.cs:line 21
   at PagueVeloz.Application.Services.IdempotencyService.GetSavedResponseAsync(String key) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Application\Services\IdempotencyService.cs:line 19
   at PagueVeloz.Application.Services.TransactionService.<>c__DisplayClass5_0.<<ProcessTransactionAsync>b__0>d.MoveNext() in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Application\Services\TransactionService.cs:line 49
--- End of stack trace from previous location ---
   at Polly.Retry.AsyncRetryEngine.ImplementationAsync[TResult](Func`3 action, Context context, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Func`5 onRetryAsync, CancellationToken cancellationToken, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at PagueVeloz.Application.Services.TransactionService.ProcessTransactionAsync(TransactionModel dto, String idempotencyKey) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Application\Services\TransactionService.cs:line 39
   at TransactionController.CreateTransaction(TransactionCreateDto dto) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api\Controllers\TransactionController.cs:line 83
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at RequestTimingMiddleware.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\RequestTiming.cs:line 23
   at PagueVeloz.Shared.Middlewares.RequestLog.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\RequestLog.cs:line 28
   at ExceptionHandlingMiddleware.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\ExceptionHandling.cs:line 22
2025-12-03 07:37:05.089 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Transaction - 500 null application/json 19893.3153ms
2025-12-03 07:37:24.994 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction - application/json 152
2025-12-03 07:37:25.002 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction'
2025-12-03 07:37:25.005 -03:00 [DBG] Endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)' with route pattern 'api/Transaction' is valid for the request path '/api/Transaction'
2025-12-03 07:37:25.009 -03:00 [DBG] Request matched endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:37:25.012 -03:00 [INF] [REQUEST] POST /api/Transaction CorrelationId="99e5c706-1b74-41e8-b0c5-d70eb5738b3f"
2025-12-03 07:37:25.015 -03:00 [INF] Request started: POST /api/Transaction TraceId=0HNHIAVAO14ON:0000000B
2025-12-03 07:37:25.018 -03:00 [INF] Executing endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:37:25.020 -03:00 [INF] Route matched with {action = "CreateTransaction", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTransaction(PagueVeloz.API.DTOs.TransactionCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 07:37:25.025 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 07:37:25.029 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 07:37:25.032 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 07:37:25.036 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 07:37:25.039 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 07:37:25.042 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 07:37:25.045 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 07:37:25.048 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 07:37:25.052 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' using the name '' in request data ...
2025-12-03 07:37:25.055 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 07:37:25.059 -03:00 [DBG] Connection id "0HNHIAVAO14ON", Request id "0HNHIAVAO14ON:0000000B": started reading request body.
2025-12-03 07:37:25.063 -03:00 [DBG] Connection id "0HNHIAVAO14ON", Request id "0HNHIAVAO14ON:0000000B": done reading request body.
2025-12-03 07:37:25.067 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.API.DTOs.TransactionCreateDto'
2025-12-03 07:37:25.070 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:37:25.073 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:37:25.076 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 07:37:25.080 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:37:25.082 -03:00 [INF] Recebida solicitação de movimentação do tipo: {dto.Operation} .
2025-12-03 07:37:25.084 -03:00 [WRN] Idempotency-Key não enviada, gerando uma aleatória.
2025-12-03 07:37:25.086 -03:00 [INF] Iniciando a movimentação de conta. IdempotencyKey: 38d84913-feff-462c-b5ff-061e7d97c161
2025-12-03 07:46:33.503 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-12-03 07:46:34.529 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:46:34.535 -03:00 [WRN] No store type was specified for the decimal property 'CreditLimit' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:46:34.540 -03:00 [WRN] No store type was specified for the decimal property 'ReservedBalance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:46:34.544 -03:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:46:34.548 -03:00 [WRN] No store type was specified for the decimal property 'AvailableBalance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:46:34.552 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:46:34.699 -03:00 [DBG] Entity Framework Core 9.0.11 initialized 'PagueVelozDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.11' with options: EngineType=SqlServer 
2025-12-03 07:46:34.720 -03:00 [DBG] Creating DbConnection.
2025-12-03 07:46:34.778 -03:00 [DBG] Created DbConnection. (56ms).
2025-12-03 07:46:34.785 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:46:35.070 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:46:35.084 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-12-03 07:46:35.095 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (11ms).
2025-12-03 07:46:35.102 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (23ms).
2025-12-03 07:46:35.115 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 07:46:35.170 -03:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 07:46:35.178 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:46:35.195 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (10ms).
2025-12-03 07:46:35.200 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-12-03 07:46:35.203 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2025-12-03 07:46:35.206 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (6ms).
2025-12-03 07:46:35.209 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:46:35.212 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:46:35.217 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 07:46:35.259 -03:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 07:46:35.265 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:46:35.269 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (4ms).
2025-12-03 07:46:35.274 -03:00 [DBG] 'PagueVelozDbContext' disposed.
2025-12-03 07:46:35.278 -03:00 [DBG] Disposing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:46:35.282 -03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-12-03 07:46:35.474 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-12-03 07:46:35.566 -03:00 [DBG] Hosting starting
2025-12-03 07:46:35.596 -03:00 [DBG] Middleware loaded
2025-12-03 07:46:35.602 -03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16513 B).
2025-12-03 07:46:35.606 -03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-12-03 07:46:35.715 -03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-12-03 07:46:35.721 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-12-03 07:46:35.738 -03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-12-03 07:46:35.957 -03:00 [INF] Now listening on: https://localhost:7249
2025-12-03 07:46:35.960 -03:00 [INF] Now listening on: http://localhost:5247
2025-12-03 07:46:35.961 -03:00 [DBG] Loaded hosting startup assembly PagueVeloz.Api
2025-12-03 07:46:35.964 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-12-03 07:46:35.966 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-12-03 07:46:35.968 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-12-03 07:46:35.979 -03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 07:46:35.984 -03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 07:46:36.153 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-03 07:46:36.155 -03:00 [INF] Hosting environment: Development
2025-12-03 07:46:36.158 -03:00 [INF] Content root path: E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api
2025-12-03 07:46:36.161 -03:00 [DBG] Hosting started
2025-12-03 07:47:02.878 -03:00 [DBG] Connection id "0HNHIB55JKGN9" accepted.
2025-12-03 07:47:02.902 -03:00 [DBG] Connection id "0HNHIB55JKGN9" started.
2025-12-03 07:47:02.981 -03:00 [DBG] Connection 0HNHIB55JKGN9 established using the following protocol: "Tls13"
2025-12-03 07:47:03.067 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/swagger/index.html - null null
2025-12-03 07:47:03.272 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-12-03 07:47:03.276 -03:00 [DBG] Request did not match any endpoints
2025-12-03 07:47:03.394 -03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-12-03 07:47:03.398 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-12-03 07:47:03.411 -03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-12-03 07:47:03.414 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-12-03 07:47:03.422 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/swagger/index.html - 200 null text/html;charset=utf-8 361.1109ms
2025-12-03 07:47:03.486 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/_framework/aspnetcore-browser-refresh.js - null null
2025-12-03 07:47:03.486 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/_vs/browserLink - null null
2025-12-03 07:47:03.546 -03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-12-03 07:47:03.549 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 63.3457ms
2025-12-03 07:47:03.592 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/_vs/browserLink - 200 null text/javascript; charset=UTF-8 105.6797ms
2025-12-03 07:47:03.908 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/swagger/v1/swagger.json - null null
2025-12-03 07:47:03.916 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-12-03 07:47:03.919 -03:00 [DBG] Request did not match any endpoints
2025-12-03 07:47:03.950 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 41.7119ms
2025-12-03 07:47:10.759 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction - application/json 152
2025-12-03 07:47:10.772 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction'
2025-12-03 07:47:10.776 -03:00 [DBG] Endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)' with route pattern 'api/Transaction' is valid for the request path '/api/Transaction'
2025-12-03 07:47:10.781 -03:00 [DBG] Request matched endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:47:10.804 -03:00 [INF] [REQUEST] POST /api/Transaction CorrelationId="1d276bb0-1950-4490-86c9-cd9042565614"
2025-12-03 07:47:10.811 -03:00 [INF] Request started: POST /api/Transaction TraceId=0HNHIB55JKGN9:00000009
2025-12-03 07:47:10.816 -03:00 [INF] Executing endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:47:10.851 -03:00 [INF] Route matched with {action = "CreateTransaction", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTransaction(PagueVeloz.API.DTOs.TransactionCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 07:47:10.859 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 07:47:10.862 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 07:47:10.866 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 07:47:10.871 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 07:47:10.875 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 07:47:10.880 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 07:47:10.885 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 07:47:10.906 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 07:47:10.912 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' using the name '' in request data ...
2025-12-03 07:47:10.917 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 07:47:10.944 -03:00 [DBG] Connection id "0HNHIB55JKGN9", Request id "0HNHIB55JKGN9:00000009": started reading request body.
2025-12-03 07:47:10.947 -03:00 [DBG] Connection id "0HNHIB55JKGN9", Request id "0HNHIB55JKGN9:00000009": done reading request body.
2025-12-03 07:47:10.979 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.API.DTOs.TransactionCreateDto'
2025-12-03 07:47:10.982 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:47:10.986 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:47:10.989 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 07:47:11.097 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:47:11.105 -03:00 [INF] Recebida solicitação de movimentação do tipo: {dto.Operation} .
2025-12-03 07:47:11.109 -03:00 [WRN] Idempotency-Key não enviada, gerando uma aleatória.
2025-12-03 07:47:11.148 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: 075066f3-005b-4fc0-b250-5b909f0db1bd
2025-12-03 07:47:12.028 -03:00 [WRN] Tentativa 1 falhou. Esperando "00:00:02" antes de tentar novamente. Erro: BeginExecuteReader requer que o comando tenha uma transação quando a conexão atribuída ao comando estiver em uma transação local pendente. A propriedade Transaction do comando não foi inicializada.
2025-12-03 07:47:14.038 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: 075066f3-005b-4fc0-b250-5b909f0db1bd
2025-12-03 07:47:14.564 -03:00 [WRN] Tentativa 2 falhou. Esperando "00:00:04" antes de tentar novamente. Erro: BeginExecuteReader requer que o comando tenha uma transação quando a conexão atribuída ao comando estiver em uma transação local pendente. A propriedade Transaction do comando não foi inicializada.
2025-12-03 07:47:18.570 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: 075066f3-005b-4fc0-b250-5b909f0db1bd
2025-12-03 07:47:19.076 -03:00 [WRN] Tentativa 3 falhou. Esperando "00:00:08" antes de tentar novamente. Erro: BeginExecuteReader requer que o comando tenha uma transação quando a conexão atribuída ao comando estiver em uma transação local pendente. A propriedade Transaction do comando não foi inicializada.
2025-12-03 07:47:27.086 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: 075066f3-005b-4fc0-b250-5b909f0db1bd
2025-12-03 07:47:29.315 -03:00 [INF] Executed action TransactionController.CreateTransaction (PagueVeloz.Api) in 18433.8365ms
2025-12-03 07:47:29.791 -03:00 [INF] Executed endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:47:31.309 -03:00 [ERR] Erro capturado globalmente. TraceId: 00-cf58e2be5e9eb663fffa1b15df6cfb9d-028bcd4c2d125760-00
System.InvalidOperationException: BeginExecuteReader requer que o comando tenha uma transação quando a conexão atribuída ao comando estiver em uma transação local pendente. A propriedade Transaction do comando não foi inicializada.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at PagueVeloz.Infrastructure.Repositories.Idempotency.IdempotencyRepository.GetByKeyAsync(String key) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Infrastructure\Repositories\Idempotency\IdempotencyRepository.cs:line 21
   at PagueVeloz.Application.Services.IdempotencyService.GetSavedResponseAsync(String key) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Application\Services\IdempotencyService.cs:line 19
   at PagueVeloz.Application.Services.TransactionService.<>c__DisplayClass5_0.<<ProcessTransactionAsync>b__0>d.MoveNext() in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Application\Services\TransactionService.cs:line 49
--- End of stack trace from previous location ---
   at Polly.Retry.AsyncRetryEngine.ImplementationAsync[TResult](Func`3 action, Context context, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Func`5 onRetryAsync, CancellationToken cancellationToken, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at PagueVeloz.Application.Services.TransactionService.ProcessTransactionAsync(TransactionModel dto, String idempotencyKey) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Application\Services\TransactionService.cs:line 38
   at TransactionController.CreateTransaction(TransactionCreateDto dto) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api\Controllers\TransactionController.cs:line 83
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at RequestTimingMiddleware.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\RequestTiming.cs:line 23
   at PagueVeloz.Shared.Middlewares.RequestLog.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\RequestLog.cs:line 28
   at ExceptionHandlingMiddleware.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\ExceptionHandling.cs:line 22
2025-12-03 07:47:31.366 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Transaction - 500 null application/json 20606.7823ms
2025-12-03 07:47:37.507 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction - application/json 152
2025-12-03 07:47:37.515 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction'
2025-12-03 07:47:37.518 -03:00 [DBG] Endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)' with route pattern 'api/Transaction' is valid for the request path '/api/Transaction'
2025-12-03 07:47:37.522 -03:00 [DBG] Request matched endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:47:37.525 -03:00 [INF] [REQUEST] POST /api/Transaction CorrelationId="6f28e7b6-c12d-4807-bb37-c6ca1aa41ea7"
2025-12-03 07:47:37.529 -03:00 [INF] Request started: POST /api/Transaction TraceId=0HNHIB55JKGN9:0000000B
2025-12-03 07:47:37.532 -03:00 [INF] Executing endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:47:37.535 -03:00 [INF] Route matched with {action = "CreateTransaction", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTransaction(PagueVeloz.API.DTOs.TransactionCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 07:47:37.540 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 07:47:37.544 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 07:47:37.547 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 07:47:37.552 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 07:47:37.557 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 07:47:37.561 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 07:47:37.564 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 07:47:37.568 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 07:47:37.572 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' using the name '' in request data ...
2025-12-03 07:47:37.576 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 07:47:37.578 -03:00 [DBG] Connection id "0HNHIB55JKGN9", Request id "0HNHIB55JKGN9:0000000B": started reading request body.
2025-12-03 07:47:37.581 -03:00 [DBG] Connection id "0HNHIB55JKGN9", Request id "0HNHIB55JKGN9:0000000B": done reading request body.
2025-12-03 07:47:37.584 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.API.DTOs.TransactionCreateDto'
2025-12-03 07:47:37.586 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:47:37.590 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:47:37.593 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 07:47:37.598 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:47:37.601 -03:00 [INF] Recebida solicitação de movimentação do tipo: {dto.Operation} .
2025-12-03 07:47:37.604 -03:00 [WRN] Idempotency-Key não enviada, gerando uma aleatória.
2025-12-03 07:47:37.606 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: e84a97d6-69c4-4b44-8107-3fb6708f3080
2025-12-03 07:48:07.698 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-12-03 07:48:08.789 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:48:08.796 -03:00 [WRN] No store type was specified for the decimal property 'CreditLimit' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:48:08.800 -03:00 [WRN] No store type was specified for the decimal property 'ReservedBalance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:48:08.803 -03:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:48:08.807 -03:00 [WRN] No store type was specified for the decimal property 'AvailableBalance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:48:08.810 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:48:08.966 -03:00 [DBG] Entity Framework Core 9.0.11 initialized 'PagueVelozDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.11' with options: EngineType=SqlServer 
2025-12-03 07:48:08.992 -03:00 [DBG] Creating DbConnection.
2025-12-03 07:48:09.056 -03:00 [DBG] Created DbConnection. (61ms).
2025-12-03 07:48:09.065 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:48:09.381 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:48:09.394 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-12-03 07:48:09.407 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (12ms).
2025-12-03 07:48:09.413 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (23ms).
2025-12-03 07:48:09.429 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 07:48:09.482 -03:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 07:48:09.490 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:48:09.505 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (10ms).
2025-12-03 07:48:09.511 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-12-03 07:48:09.514 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2025-12-03 07:48:09.517 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (5ms).
2025-12-03 07:48:09.521 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:48:09.525 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:48:09.528 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 07:48:09.564 -03:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 07:48:09.570 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:48:09.573 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (3ms).
2025-12-03 07:48:09.579 -03:00 [DBG] 'PagueVelozDbContext' disposed.
2025-12-03 07:48:09.583 -03:00 [DBG] Disposing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:48:09.587 -03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-12-03 07:48:09.809 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-12-03 07:48:09.905 -03:00 [DBG] Hosting starting
2025-12-03 07:48:09.935 -03:00 [DBG] Middleware loaded
2025-12-03 07:48:09.940 -03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16513 B).
2025-12-03 07:48:09.943 -03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-12-03 07:48:10.033 -03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-12-03 07:48:10.037 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-12-03 07:48:10.051 -03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-12-03 07:48:10.277 -03:00 [DBG] Connection id "0HNHIB5PMD0HC" accepted.
2025-12-03 07:48:10.300 -03:00 [INF] Now listening on: https://localhost:7249
2025-12-03 07:48:10.302 -03:00 [DBG] Connection id "0HNHIB5PMD0HC" started.
2025-12-03 07:48:10.303 -03:00 [INF] Now listening on: http://localhost:5247
2025-12-03 07:48:10.307 -03:00 [DBG] Loaded hosting startup assembly PagueVeloz.Api
2025-12-03 07:48:10.309 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-12-03 07:48:10.312 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-12-03 07:48:10.314 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-12-03 07:48:10.331 -03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 07:48:10.339 -03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 07:48:10.395 -03:00 [DBG] Connection 0HNHIB5PMD0HC established using the following protocol: "Tls13"
2025-12-03 07:48:10.485 -03:00 [DBG] Connection id "0HNHIB5PMD0HD" accepted.
2025-12-03 07:48:10.488 -03:00 [DBG] Connection id "0HNHIB5PMD0HD" started.
2025-12-03 07:48:10.489 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/swagger/index.html - null null
2025-12-03 07:48:10.495 -03:00 [DBG] Connection 0HNHIB5PMD0HD established using the following protocol: "Tls13"
2025-12-03 07:48:10.570 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-03 07:48:10.572 -03:00 [INF] Hosting environment: Development
2025-12-03 07:48:10.574 -03:00 [INF] Content root path: E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api
2025-12-03 07:48:10.577 -03:00 [DBG] Hosting started
2025-12-03 07:48:10.701 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-12-03 07:48:10.705 -03:00 [DBG] Request did not match any endpoints
2025-12-03 07:48:10.819 -03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-12-03 07:48:10.823 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-12-03 07:48:10.837 -03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-12-03 07:48:10.840 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-12-03 07:48:10.851 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/swagger/index.html - 200 null text/html;charset=utf-8 370.4924ms
2025-12-03 07:48:10.883 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/_vs/browserLink - null null
2025-12-03 07:48:10.888 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/_framework/aspnetcore-browser-refresh.js - null null
2025-12-03 07:48:10.922 -03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-12-03 07:48:10.927 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 38.2492ms
2025-12-03 07:48:10.962 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/_vs/browserLink - 200 null text/javascript; charset=UTF-8 80.1304ms
2025-12-03 07:48:11.068 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/swagger/v1/swagger.json - null null
2025-12-03 07:48:11.078 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-12-03 07:48:11.081 -03:00 [DBG] Request did not match any endpoints
2025-12-03 07:48:11.115 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 46.8937ms
2025-12-03 07:48:16.329 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction - application/json 152
2025-12-03 07:48:16.341 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction'
2025-12-03 07:48:16.345 -03:00 [DBG] Endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)' with route pattern 'api/Transaction' is valid for the request path '/api/Transaction'
2025-12-03 07:48:16.350 -03:00 [DBG] Request matched endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:48:16.369 -03:00 [INF] [REQUEST] POST /api/Transaction CorrelationId="8559115b-9bf0-419c-826d-ff70b447d976"
2025-12-03 07:48:16.376 -03:00 [INF] Request started: POST /api/Transaction TraceId=0HNHIB5PMD0HC:00000009
2025-12-03 07:48:16.381 -03:00 [INF] Executing endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:48:16.420 -03:00 [INF] Route matched with {action = "CreateTransaction", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTransaction(PagueVeloz.API.DTOs.TransactionCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 07:48:16.427 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 07:48:16.431 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 07:48:16.435 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 07:48:16.440 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 07:48:16.443 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 07:48:16.448 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 07:48:16.456 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 07:48:16.475 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 07:48:16.481 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' using the name '' in request data ...
2025-12-03 07:48:16.486 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 07:48:16.513 -03:00 [DBG] Connection id "0HNHIB5PMD0HC", Request id "0HNHIB5PMD0HC:00000009": started reading request body.
2025-12-03 07:48:16.517 -03:00 [DBG] Connection id "0HNHIB5PMD0HC", Request id "0HNHIB5PMD0HC:00000009": done reading request body.
2025-12-03 07:48:16.550 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.API.DTOs.TransactionCreateDto'
2025-12-03 07:48:16.554 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:48:16.557 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:48:16.560 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 07:48:16.666 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:48:16.673 -03:00 [INF] Recebida solicitação de movimentação do tipo: {dto.Operation} .
2025-12-03 07:48:16.676 -03:00 [WRN] Idempotency-Key não enviada, gerando uma aleatória.
2025-12-03 07:48:16.711 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: a6eee3ea-d112-4d32-916a-0ccff7218645
2025-12-03 07:58:49.576 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-12-03 07:58:50.726 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:58:50.731 -03:00 [WRN] No store type was specified for the decimal property 'CreditLimit' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:58:50.735 -03:00 [WRN] No store type was specified for the decimal property 'ReservedBalance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:58:50.739 -03:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:58:50.742 -03:00 [WRN] No store type was specified for the decimal property 'AvailableBalance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:58:50.744 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 07:58:50.872 -03:00 [DBG] Entity Framework Core 9.0.11 initialized 'PagueVelozDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.11' with options: EngineType=SqlServer 
2025-12-03 07:58:50.891 -03:00 [DBG] Creating DbConnection.
2025-12-03 07:58:50.952 -03:00 [DBG] Created DbConnection. (58ms).
2025-12-03 07:58:50.959 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:58:51.285 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:58:51.302 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-12-03 07:58:51.312 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (13ms).
2025-12-03 07:58:51.318 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (24ms).
2025-12-03 07:58:51.331 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 07:58:51.390 -03:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 07:58:51.398 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:58:51.413 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (9ms).
2025-12-03 07:58:51.421 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-12-03 07:58:51.424 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2025-12-03 07:58:51.427 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (6ms).
2025-12-03 07:58:51.430 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:58:51.435 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:58:51.440 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 07:58:51.487 -03:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 07:58:51.492 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:58:51.494 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (2ms).
2025-12-03 07:58:51.498 -03:00 [DBG] 'PagueVelozDbContext' disposed.
2025-12-03 07:58:51.503 -03:00 [DBG] Disposing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 07:58:51.507 -03:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-12-03 07:58:51.716 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-12-03 07:58:51.826 -03:00 [DBG] Hosting starting
2025-12-03 07:58:51.861 -03:00 [DBG] Middleware loaded
2025-12-03 07:58:51.866 -03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16513 B).
2025-12-03 07:58:51.870 -03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-12-03 07:58:51.977 -03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-12-03 07:58:51.983 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-12-03 07:58:52.001 -03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-12-03 07:58:52.204 -03:00 [INF] Now listening on: https://localhost:7249
2025-12-03 07:58:52.207 -03:00 [INF] Now listening on: http://localhost:5247
2025-12-03 07:58:52.210 -03:00 [DBG] Loaded hosting startup assembly PagueVeloz.Api
2025-12-03 07:58:52.212 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-12-03 07:58:52.214 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-12-03 07:58:52.216 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-12-03 07:58:52.233 -03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 07:58:52.242 -03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 07:58:52.435 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-03 07:58:52.438 -03:00 [INF] Hosting environment: Development
2025-12-03 07:58:52.440 -03:00 [INF] Content root path: E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api
2025-12-03 07:58:52.442 -03:00 [DBG] Hosting started
2025-12-03 07:59:08.282 -03:00 [DBG] Connection id "0HNHIBBTPK6RC" accepted.
2025-12-03 07:59:08.297 -03:00 [DBG] Connection id "0HNHIBBTPK6RC" started.
2025-12-03 07:59:08.355 -03:00 [DBG] Connection 0HNHIBBTPK6RC established using the following protocol: "Tls13"
2025-12-03 07:59:08.437 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/swagger/index.html - null null
2025-12-03 07:59:08.601 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-12-03 07:59:08.605 -03:00 [DBG] Request did not match any endpoints
2025-12-03 07:59:08.697 -03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-12-03 07:59:08.701 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-12-03 07:59:08.712 -03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-12-03 07:59:08.715 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-12-03 07:59:08.723 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/swagger/index.html - 200 null text/html;charset=utf-8 293.8796ms
2025-12-03 07:59:08.750 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/_vs/browserLink - null null
2025-12-03 07:59:08.750 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/_framework/aspnetcore-browser-refresh.js - null null
2025-12-03 07:59:08.794 -03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-12-03 07:59:08.798 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 47.7936ms
2025-12-03 07:59:08.831 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/_vs/browserLink - 200 null text/javascript; charset=UTF-8 81.5945ms
2025-12-03 07:59:09.211 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/swagger/v1/swagger.json - null null
2025-12-03 07:59:09.219 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-12-03 07:59:09.222 -03:00 [DBG] Request did not match any endpoints
2025-12-03 07:59:09.260 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 49.4531ms
2025-12-03 07:59:15.469 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction - application/json 152
2025-12-03 07:59:15.480 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction'
2025-12-03 07:59:15.483 -03:00 [DBG] Endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)' with route pattern 'api/Transaction' is valid for the request path '/api/Transaction'
2025-12-03 07:59:15.488 -03:00 [DBG] Request matched endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:59:15.510 -03:00 [INF] [REQUEST] POST /api/Transaction CorrelationId="955b8a25-891e-4473-9da7-94c0196e40cc"
2025-12-03 07:59:15.517 -03:00 [INF] Request started: POST /api/Transaction TraceId=0HNHIBBTPK6RC:00000009
2025-12-03 07:59:15.525 -03:00 [INF] Executing endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:59:15.561 -03:00 [INF] Route matched with {action = "CreateTransaction", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTransaction(PagueVeloz.API.DTOs.TransactionCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 07:59:15.569 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 07:59:15.573 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 07:59:15.577 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 07:59:15.582 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 07:59:15.585 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 07:59:15.591 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 07:59:15.597 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 07:59:15.616 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 07:59:15.622 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' using the name '' in request data ...
2025-12-03 07:59:15.627 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 07:59:15.650 -03:00 [DBG] Connection id "0HNHIBBTPK6RC", Request id "0HNHIBBTPK6RC:00000009": started reading request body.
2025-12-03 07:59:15.654 -03:00 [DBG] Connection id "0HNHIBBTPK6RC", Request id "0HNHIBBTPK6RC:00000009": done reading request body.
2025-12-03 07:59:15.687 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.API.DTOs.TransactionCreateDto'
2025-12-03 07:59:15.690 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:59:15.693 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:59:15.696 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 07:59:15.816 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 07:59:15.825 -03:00 [INF] Recebida solicitação de movimentação do tipo: {dto.Operation} .
2025-12-03 07:59:15.829 -03:00 [WRN] Idempotency-Key não enviada, gerando uma aleatória.
2025-12-03 07:59:15.858 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: 1503058c-1e4a-4640-878a-77334eb9ea1a
2025-12-03 07:59:16.081 -03:00 [DBG] Iniciando INSERT de Transação "17876028-2f72-48b2-99f5-25eededafee9"
2025-12-03 07:59:16.102 -03:00 [INF] [AUDIT] Transação processada com sucesso:
2025-12-03 07:59:16.109 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-03 07:59:16.118 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-12-03 07:59:16.123 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-12-03 07:59:16.127 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-12-03 07:59:16.129 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-12-03 07:59:16.131 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-12-03 07:59:16.136 -03:00 [INF] Executing OkObjectResult, writing value of type 'PagueVeloz.Domain.Entities.TransactionModel'.
2025-12-03 07:59:16.174 -03:00 [INF] Executed action TransactionController.CreateTransaction (PagueVeloz.Api) in 579.8637ms
2025-12-03 07:59:16.178 -03:00 [INF] Executed endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 07:59:16.182 -03:00 [INF] Request finished: POST /api/Transaction StatusCode=200 TraceId=0HNHIBBTPK6RC:00000009 Elapsed=664ms
2025-12-03 07:59:16.188 -03:00 [INF] [RESPONSE] POST /api/Transaction 200 679ms CorrelationId="955b8a25-891e-4473-9da7-94c0196e40cc"
2025-12-03 07:59:16.193 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Transaction - 200 null application/json; charset=utf-8 724.3417ms
2025-12-03 08:00:52.442 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction/transferencia - application/json 188
2025-12-03 08:00:52.458 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction/transferencia'
2025-12-03 08:00:52.461 -03:00 [DBG] Endpoint 'TransactionController.Transfer (PagueVeloz.Api)' with route pattern 'api/Transaction/transferencia' is valid for the request path '/api/Transaction/transferencia'
2025-12-03 08:00:52.465 -03:00 [DBG] Request matched endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 08:00:52.468 -03:00 [INF] [REQUEST] POST /api/Transaction/transferencia CorrelationId="ea3b93dc-7fd0-4288-b27e-ba952057f4f2"
2025-12-03 08:00:52.472 -03:00 [INF] Request started: POST /api/Transaction/transferencia TraceId=0HNHIBBTPK6RC:0000000B
2025-12-03 08:00:52.476 -03:00 [INF] Executing endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 08:00:52.489 -03:00 [INF] Route matched with {action = "Transfer", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Transfer(PagueVeloz.API.DTOs.TransferCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 08:00:52.494 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 08:00:52.499 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 08:00:52.504 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 08:00:52.508 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 08:00:52.512 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 08:00:52.517 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 08:00:52.520 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 08:00:52.524 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' ...
2025-12-03 08:00:52.527 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' using the name '' in request data ...
2025-12-03 08:00:52.532 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 08:00:52.537 -03:00 [DBG] Connection id "0HNHIBBTPK6RC", Request id "0HNHIBBTPK6RC:0000000B": started reading request body.
2025-12-03 08:00:52.540 -03:00 [DBG] Connection id "0HNHIBBTPK6RC", Request id "0HNHIBBTPK6RC:0000000B": done reading request body.
2025-12-03 08:00:52.545 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.API.DTOs.TransferCreateDto'
2025-12-03 08:00:52.548 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 08:00:52.551 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 08:00:52.554 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' ...
2025-12-03 08:00:52.571 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 08:00:52.575 -03:00 [INF] Recebida solicitação de movimentação do tipo: {dto.Operation} .
2025-12-03 08:00:52.577 -03:00 [WRN] Idempotency-Key não enviada, gerando uma aleatória.
2025-12-03 08:00:52.579 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: adc2ee81-33a1-430b-a492-0fcd3357a1a6
2025-12-03 08:00:53.333 -03:00 [WRN] Tentativa 1 falhou. Esperando "00:00:02" antes de tentar novamente. Erro: BeginExecuteReader requer que o comando tenha uma transação quando a conexão atribuída ao comando estiver em uma transação local pendente. A propriedade Transaction do comando não foi inicializada.
2025-12-03 08:00:55.345 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: adc2ee81-33a1-430b-a492-0fcd3357a1a6
2025-12-03 08:00:55.933 -03:00 [WRN] Tentativa 2 falhou. Esperando "00:00:04" antes de tentar novamente. Erro: BeginExecuteReader requer que o comando tenha uma transação quando a conexão atribuída ao comando estiver em uma transação local pendente. A propriedade Transaction do comando não foi inicializada.
2025-12-03 08:00:59.942 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: adc2ee81-33a1-430b-a492-0fcd3357a1a6
2025-12-03 08:01:00.476 -03:00 [WRN] Tentativa 3 falhou. Esperando "00:00:08" antes de tentar novamente. Erro: BeginExecuteReader requer que o comando tenha uma transação quando a conexão atribuída ao comando estiver em uma transação local pendente. A propriedade Transaction do comando não foi inicializada.
2025-12-03 08:01:08.478 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: adc2ee81-33a1-430b-a492-0fcd3357a1a6
2025-12-03 08:01:10.243 -03:00 [INF] Executed action TransactionController.Transfer (PagueVeloz.Api) in 17726.2634ms
2025-12-03 08:01:10.656 -03:00 [INF] Executed endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 08:01:11.842 -03:00 [ERR] Erro capturado globalmente. TraceId: 00-bcfc01cf231edc1752f6fb3e0f65c1d7-cb7e1bda5d4e90a8-00
System.InvalidOperationException: BeginExecuteReader requer que o comando tenha uma transação quando a conexão atribuída ao comando estiver em uma transação local pendente. A propriedade Transaction do comando não foi inicializada.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at PagueVeloz.Infrastructure.Repositories.Account.AccountRepository.GetAccountByIdAsync(Guid AccountId) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Infrastructure\Repositories\Accounts\AccountRepository.cs:line 78
   at PagueVeloz.Application.Services.TransactionService.TransferAsync(AccountModel source, Guid destinationId, Decimal amount, IDbTransaction dbTransaction) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Application\Services\TransactionService.cs:line 177
   at PagueVeloz.Application.Services.TransactionService.<>c__DisplayClass5_0.<<ProcessTransactionAsync>b__0>d.MoveNext() in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Application\Services\TransactionService.cs:line 72
--- End of stack trace from previous location ---
   at Polly.Retry.AsyncRetryEngine.ImplementationAsync[TResult](Func`3 action, Context context, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Func`5 onRetryAsync, CancellationToken cancellationToken, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at PagueVeloz.Application.Services.TransactionService.ProcessTransactionAsync(TransactionModel dto, String idempotencyKey) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Application\Services\TransactionService.cs:line 38
   at TransactionController.Transfer(TransferCreateDto dto) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api\Controllers\TransactionController.cs:line 135
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at RequestTimingMiddleware.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\RequestTiming.cs:line 23
   at PagueVeloz.Shared.Middlewares.RequestLog.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\RequestLog.cs:line 28
   at ExceptionHandlingMiddleware.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\ExceptionHandling.cs:line 22
2025-12-03 08:01:11.892 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Transaction/transferencia - 500 null application/json 19450.7731ms
2025-12-03 08:01:20.329 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction/transferencia - application/json 188
2025-12-03 08:01:20.369 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction/transferencia'
2025-12-03 08:01:20.372 -03:00 [DBG] Endpoint 'TransactionController.Transfer (PagueVeloz.Api)' with route pattern 'api/Transaction/transferencia' is valid for the request path '/api/Transaction/transferencia'
2025-12-03 08:01:20.375 -03:00 [DBG] Request matched endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 08:01:20.378 -03:00 [INF] [REQUEST] POST /api/Transaction/transferencia CorrelationId="21108cc0-8eb1-468d-ac9e-b8a380cad8da"
2025-12-03 08:01:20.381 -03:00 [INF] Request started: POST /api/Transaction/transferencia TraceId=0HNHIBBTPK6RC:0000000D
2025-12-03 08:01:20.392 -03:00 [INF] Executing endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 08:01:20.395 -03:00 [INF] Route matched with {action = "Transfer", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Transfer(PagueVeloz.API.DTOs.TransferCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 08:01:20.401 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 08:01:20.406 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 08:01:20.409 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 08:01:20.414 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 08:01:20.417 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 08:01:20.425 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 08:01:20.441 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 08:01:20.445 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' ...
2025-12-03 08:01:20.449 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' using the name '' in request data ...
2025-12-03 08:01:20.453 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 08:01:20.456 -03:00 [DBG] Connection id "0HNHIBBTPK6RC", Request id "0HNHIBBTPK6RC:0000000D": started reading request body.
2025-12-03 08:01:20.459 -03:00 [DBG] Connection id "0HNHIBBTPK6RC", Request id "0HNHIBBTPK6RC:0000000D": done reading request body.
2025-12-03 08:01:20.462 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.API.DTOs.TransferCreateDto'
2025-12-03 08:01:20.466 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 08:01:20.468 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 08:01:20.471 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' ...
2025-12-03 08:01:20.477 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 08:01:20.480 -03:00 [INF] Recebida solicitação de movimentação do tipo: {dto.Operation} .
2025-12-03 08:01:20.483 -03:00 [WRN] Idempotency-Key não enviada, gerando uma aleatória.
2025-12-03 08:01:20.485 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: 82c38113-7d25-4ba9-84b5-4cd4f9f610ea
2025-12-03 08:01:25.645 -03:00 [WRN] Tentativa 1 falhou. Esperando "00:00:02" antes de tentar novamente. Erro: BeginExecuteReader requer que o comando tenha uma transação quando a conexão atribuída ao comando estiver em uma transação local pendente. A propriedade Transaction do comando não foi inicializada.
2025-12-03 08:01:29.024 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: 82c38113-7d25-4ba9-84b5-4cd4f9f610ea
2025-12-03 08:01:31.900 -03:00 [WRN] Tentativa 2 falhou. Esperando "00:00:04" antes de tentar novamente. Erro: BeginExecuteReader requer que o comando tenha uma transação quando a conexão atribuída ao comando estiver em uma transação local pendente. A propriedade Transaction do comando não foi inicializada.
2025-12-03 08:01:35.910 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: 82c38113-7d25-4ba9-84b5-4cd4f9f610ea
2025-12-03 08:01:45.579 -03:00 [WRN] Tentativa 3 falhou. Esperando "00:00:08" antes de tentar novamente. Erro: BeginExecuteReader requer que o comando tenha uma transação quando a conexão atribuída ao comando estiver em uma transação local pendente. A propriedade Transaction do comando não foi inicializada.
2025-12-03 08:01:53.589 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: 82c38113-7d25-4ba9-84b5-4cd4f9f610ea
2025-12-03 08:01:55.741 -03:00 [INF] Executed action TransactionController.Transfer (PagueVeloz.Api) in 35316.6823ms
2025-12-03 08:01:56.125 -03:00 [INF] Executed endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 08:01:57.415 -03:00 [ERR] Erro capturado globalmente. TraceId: 00-feb7cb917e8eeecfbb32eff4cfcc4d5c-688bb0c577dfcc93-00
System.InvalidOperationException: BeginExecuteReader requer que o comando tenha uma transação quando a conexão atribuída ao comando estiver em uma transação local pendente. A propriedade Transaction do comando não foi inicializada.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at PagueVeloz.Infrastructure.Repositories.Account.AccountRepository.GetAccountByIdAsync(Guid AccountId) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Infrastructure\Repositories\Accounts\AccountRepository.cs:line 78
   at PagueVeloz.Application.Services.TransactionService.TransferAsync(AccountModel source, Guid destinationId, Decimal amount, IDbTransaction dbTransaction) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Application\Services\TransactionService.cs:line 177
   at PagueVeloz.Application.Services.TransactionService.<>c__DisplayClass5_0.<<ProcessTransactionAsync>b__0>d.MoveNext() in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Application\Services\TransactionService.cs:line 72
--- End of stack trace from previous location ---
   at Polly.Retry.AsyncRetryEngine.ImplementationAsync[TResult](Func`3 action, Context context, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Func`5 onRetryAsync, CancellationToken cancellationToken, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at PagueVeloz.Application.Services.TransactionService.ProcessTransactionAsync(TransactionModel dto, String idempotencyKey) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Application\Services\TransactionService.cs:line 38
   at TransactionController.Transfer(TransferCreateDto dto) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api\Controllers\TransactionController.cs:line 135
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at RequestTimingMiddleware.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\RequestTiming.cs:line 23
   at PagueVeloz.Shared.Middlewares.RequestLog.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\RequestLog.cs:line 28
   at ExceptionHandlingMiddleware.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\ExceptionHandling.cs:line 22
2025-12-03 08:01:57.433 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Transaction/transferencia - 500 null application/json 37103.271ms
2025-12-03 08:02:01.632 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction/transferencia - application/json 188
2025-12-03 08:02:01.638 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction/transferencia'
2025-12-03 08:02:01.641 -03:00 [DBG] Endpoint 'TransactionController.Transfer (PagueVeloz.Api)' with route pattern 'api/Transaction/transferencia' is valid for the request path '/api/Transaction/transferencia'
2025-12-03 08:02:01.645 -03:00 [DBG] Request matched endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 08:02:01.648 -03:00 [INF] [REQUEST] POST /api/Transaction/transferencia CorrelationId="6ea5e18f-147f-46f3-a14f-0023deade483"
2025-12-03 08:02:01.651 -03:00 [INF] Request started: POST /api/Transaction/transferencia TraceId=0HNHIBBTPK6RC:0000000F
2025-12-03 08:02:01.654 -03:00 [INF] Executing endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 08:02:01.656 -03:00 [INF] Route matched with {action = "Transfer", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Transfer(PagueVeloz.API.DTOs.TransferCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 08:02:01.660 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 08:02:01.663 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 08:02:01.665 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 08:02:01.668 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 08:02:01.671 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 08:02:01.674 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 08:02:01.677 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 08:02:01.680 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' ...
2025-12-03 08:02:01.683 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' using the name '' in request data ...
2025-12-03 08:02:01.687 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 08:02:01.690 -03:00 [DBG] Connection id "0HNHIBBTPK6RC", Request id "0HNHIBBTPK6RC:0000000F": started reading request body.
2025-12-03 08:02:01.693 -03:00 [DBG] Connection id "0HNHIBBTPK6RC", Request id "0HNHIBBTPK6RC:0000000F": done reading request body.
2025-12-03 08:02:01.696 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.API.DTOs.TransferCreateDto'
2025-12-03 08:02:01.700 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 08:02:01.703 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 08:02:01.707 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' ...
2025-12-03 08:02:01.712 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 08:02:01.715 -03:00 [INF] Recebida solicitação de movimentação do tipo: {dto.Operation} .
2025-12-03 08:02:01.717 -03:00 [WRN] Idempotency-Key não enviada, gerando uma aleatória.
2025-12-03 08:02:01.719 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: 221f26a7-38ab-4777-85ea-4a120f0b339f
2025-12-03 08:02:02.237 -03:00 [WRN] Tentativa 1 falhou. Esperando "00:00:02" antes de tentar novamente. Erro: BeginExecuteReader requer que o comando tenha uma transação quando a conexão atribuída ao comando estiver em uma transação local pendente. A propriedade Transaction do comando não foi inicializada.
2025-12-03 08:02:04.242 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: 221f26a7-38ab-4777-85ea-4a120f0b339f
2025-12-03 08:02:04.766 -03:00 [WRN] Tentativa 2 falhou. Esperando "00:00:04" antes de tentar novamente. Erro: BeginExecuteReader requer que o comando tenha uma transação quando a conexão atribuída ao comando estiver em uma transação local pendente. A propriedade Transaction do comando não foi inicializada.
2025-12-03 08:02:08.774 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: 221f26a7-38ab-4777-85ea-4a120f0b339f
2025-12-03 08:02:09.268 -03:00 [WRN] Tentativa 3 falhou. Esperando "00:00:08" antes de tentar novamente. Erro: BeginExecuteReader requer que o comando tenha uma transação quando a conexão atribuída ao comando estiver em uma transação local pendente. A propriedade Transaction do comando não foi inicializada.
2025-12-03 08:03:17.811 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-12-03 08:03:18.875 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:03:18.881 -03:00 [WRN] No store type was specified for the decimal property 'CreditLimit' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:03:18.885 -03:00 [WRN] No store type was specified for the decimal property 'ReservedBalance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:03:18.888 -03:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:03:18.892 -03:00 [WRN] No store type was specified for the decimal property 'AvailableBalance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:03:18.895 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:03:19.027 -03:00 [DBG] Entity Framework Core 9.0.11 initialized 'PagueVelozDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.11' with options: EngineType=SqlServer 
2025-12-03 08:03:19.046 -03:00 [DBG] Creating DbConnection.
2025-12-03 08:03:19.105 -03:00 [DBG] Created DbConnection. (55ms).
2025-12-03 08:03:19.113 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:03:19.387 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:03:19.399 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-12-03 08:03:19.409 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (9ms).
2025-12-03 08:03:19.415 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (19ms).
2025-12-03 08:03:19.427 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 08:03:19.481 -03:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 08:03:19.489 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:03:19.502 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (8ms).
2025-12-03 08:03:19.508 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-12-03 08:03:19.510 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2025-12-03 08:03:19.513 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (5ms).
2025-12-03 08:03:19.516 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:03:19.520 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:03:19.522 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 08:03:19.560 -03:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 08:03:19.566 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:03:19.570 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (3ms).
2025-12-03 08:03:19.576 -03:00 [DBG] 'PagueVelozDbContext' disposed.
2025-12-03 08:03:19.581 -03:00 [DBG] Disposing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:03:19.586 -03:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-12-03 08:03:19.760 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-12-03 08:03:19.850 -03:00 [DBG] Hosting starting
2025-12-03 08:03:19.877 -03:00 [DBG] Middleware loaded
2025-12-03 08:03:19.883 -03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16513 B).
2025-12-03 08:03:19.886 -03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-12-03 08:03:19.982 -03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-12-03 08:03:19.986 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-12-03 08:03:20.000 -03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-12-03 08:03:20.244 -03:00 [INF] Now listening on: https://localhost:7249
2025-12-03 08:03:20.246 -03:00 [INF] Now listening on: http://localhost:5247
2025-12-03 08:03:20.248 -03:00 [DBG] Loaded hosting startup assembly PagueVeloz.Api
2025-12-03 08:03:20.250 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-12-03 08:03:20.252 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-12-03 08:03:20.254 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-12-03 08:03:20.270 -03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 08:03:20.274 -03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 08:03:20.712 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-03 08:03:20.714 -03:00 [INF] Hosting environment: Development
2025-12-03 08:03:20.716 -03:00 [INF] Content root path: E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api
2025-12-03 08:03:20.718 -03:00 [DBG] Hosting started
2025-12-03 08:04:15.270 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-12-03 08:04:16.374 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:04:16.380 -03:00 [WRN] No store type was specified for the decimal property 'CreditLimit' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:04:16.383 -03:00 [WRN] No store type was specified for the decimal property 'ReservedBalance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:04:16.387 -03:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:04:16.390 -03:00 [WRN] No store type was specified for the decimal property 'AvailableBalance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:04:16.394 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:04:16.541 -03:00 [DBG] Entity Framework Core 9.0.11 initialized 'PagueVelozDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.11' with options: EngineType=SqlServer 
2025-12-03 08:04:16.566 -03:00 [DBG] Creating DbConnection.
2025-12-03 08:04:16.627 -03:00 [DBG] Created DbConnection. (58ms).
2025-12-03 08:04:16.635 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:04:16.941 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:04:16.954 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-12-03 08:04:16.967 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (11ms).
2025-12-03 08:04:16.974 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (23ms).
2025-12-03 08:04:16.989 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 08:04:17.043 -03:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 08:04:17.051 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:04:17.066 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (9ms).
2025-12-03 08:04:17.072 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-12-03 08:04:17.074 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2025-12-03 08:04:17.076 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (4ms).
2025-12-03 08:04:17.079 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:04:17.083 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:04:17.087 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 08:04:17.137 -03:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 08:04:17.142 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:04:17.146 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (3ms).
2025-12-03 08:04:17.151 -03:00 [DBG] 'PagueVelozDbContext' disposed.
2025-12-03 08:04:17.156 -03:00 [DBG] Disposing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:04:17.160 -03:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-12-03 08:04:17.405 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-12-03 08:04:17.500 -03:00 [DBG] Hosting starting
2025-12-03 08:04:17.538 -03:00 [DBG] Middleware loaded
2025-12-03 08:04:17.543 -03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16513 B).
2025-12-03 08:04:17.549 -03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-12-03 08:04:17.644 -03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-12-03 08:04:17.649 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-12-03 08:04:17.663 -03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-12-03 08:04:17.869 -03:00 [INF] Now listening on: https://localhost:7249
2025-12-03 08:04:17.872 -03:00 [INF] Now listening on: http://localhost:5247
2025-12-03 08:04:17.875 -03:00 [DBG] Loaded hosting startup assembly PagueVeloz.Api
2025-12-03 08:04:17.877 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-12-03 08:04:17.879 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-12-03 08:04:17.881 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-12-03 08:04:17.894 -03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 08:04:17.897 -03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 08:04:18.332 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-03 08:04:18.334 -03:00 [INF] Hosting environment: Development
2025-12-03 08:04:18.336 -03:00 [INF] Content root path: E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api
2025-12-03 08:04:18.338 -03:00 [DBG] Hosting started
2025-12-03 08:04:45.796 -03:00 [DBG] Connection id "0HNHIBF2CD8P6" accepted.
2025-12-03 08:04:45.819 -03:00 [DBG] Connection id "0HNHIBF2CD8P6" started.
2025-12-03 08:04:45.898 -03:00 [DBG] Connection 0HNHIBF2CD8P6 established using the following protocol: "Tls13"
2025-12-03 08:04:45.986 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/swagger/index.html - null null
2025-12-03 08:04:46.187 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-12-03 08:04:46.191 -03:00 [DBG] Request did not match any endpoints
2025-12-03 08:04:46.304 -03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-12-03 08:04:46.309 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-12-03 08:04:46.320 -03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-12-03 08:04:46.332 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-12-03 08:04:46.340 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/swagger/index.html - 200 null text/html;charset=utf-8 361.7792ms
2025-12-03 08:04:46.369 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/_vs/browserLink - null null
2025-12-03 08:04:46.369 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/_framework/aspnetcore-browser-refresh.js - null null
2025-12-03 08:04:46.412 -03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-12-03 08:04:46.417 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 47.7596ms
2025-12-03 08:04:46.458 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/_vs/browserLink - 200 null text/javascript; charset=UTF-8 88.651ms
2025-12-03 08:04:46.773 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/swagger/v1/swagger.json - null null
2025-12-03 08:04:46.782 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-12-03 08:04:46.785 -03:00 [DBG] Request did not match any endpoints
2025-12-03 08:04:46.816 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 43.8595ms
2025-12-03 08:04:55.175 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction - application/json 188
2025-12-03 08:04:55.185 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction'
2025-12-03 08:04:55.189 -03:00 [DBG] Endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)' with route pattern 'api/Transaction' is valid for the request path '/api/Transaction'
2025-12-03 08:04:55.193 -03:00 [DBG] Request matched endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 08:04:55.212 -03:00 [INF] [REQUEST] POST /api/Transaction CorrelationId="29152083-8566-4293-9a9c-1a64f662d7eb"
2025-12-03 08:04:55.220 -03:00 [INF] Request started: POST /api/Transaction TraceId=0HNHIBF2CD8P6:00000009
2025-12-03 08:04:55.227 -03:00 [INF] Executing endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 08:04:55.263 -03:00 [INF] Route matched with {action = "CreateTransaction", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTransaction(PagueVeloz.API.DTOs.TransactionCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 08:04:55.269 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 08:04:55.273 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 08:04:55.278 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 08:04:55.282 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 08:04:55.285 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 08:04:55.291 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 08:04:55.297 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 08:04:55.316 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 08:04:55.323 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' using the name '' in request data ...
2025-12-03 08:04:55.329 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 08:04:55.354 -03:00 [DBG] Connection id "0HNHIBF2CD8P6", Request id "0HNHIBF2CD8P6:00000009": started reading request body.
2025-12-03 08:04:55.357 -03:00 [DBG] Connection id "0HNHIBF2CD8P6", Request id "0HNHIBF2CD8P6:00000009": done reading request body.
2025-12-03 08:04:55.383 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.API.DTOs.TransactionCreateDto'
2025-12-03 08:04:55.387 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 08:04:55.390 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 08:04:55.394 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 08:04:55.499 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 08:04:55.506 -03:00 [INF] Recebida solicitação de movimentação do tipo: {dto.Operation} .
2025-12-03 08:04:55.510 -03:00 [WRN] Idempotency-Key não enviada, gerando uma aleatória.
2025-12-03 08:04:55.538 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: 3738c1a8-01a3-481d-bcfd-30a43cda05da
2025-12-03 08:04:55.780 -03:00 [DBG] Iniciando INSERT de Transação "1f1f712c-3c3e-4fdf-9623-94c813e59887"
2025-12-03 08:04:55.801 -03:00 [INF] [AUDIT] Transação processada com sucesso:
2025-12-03 08:04:55.811 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-03 08:04:55.820 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-12-03 08:04:55.824 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-12-03 08:04:55.828 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-12-03 08:04:55.830 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-12-03 08:04:55.833 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-12-03 08:04:55.837 -03:00 [INF] Executing OkObjectResult, writing value of type 'PagueVeloz.Domain.Entities.TransactionModel'.
2025-12-03 08:04:55.880 -03:00 [INF] Executed action TransactionController.CreateTransaction (PagueVeloz.Api) in 586.4939ms
2025-12-03 08:04:55.884 -03:00 [INF] Executed endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 08:04:55.888 -03:00 [INF] Request finished: POST /api/Transaction StatusCode=200 TraceId=0HNHIBF2CD8P6:00000009 Elapsed=668ms
2025-12-03 08:04:55.894 -03:00 [INF] [RESPONSE] POST /api/Transaction 200 683ms CorrelationId="29152083-8566-4293-9a9c-1a64f662d7eb"
2025-12-03 08:04:55.904 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Transaction - 200 null application/json; charset=utf-8 729.5721ms
2025-12-03 08:05:37.137 -03:00 [DBG] Connection id "0HNHIBF2CD8P6" received FIN.
2025-12-03 08:05:37.160 -03:00 [DBG] Connection id "0HNHIBF2CD8P6" is closed. The last processed stream ID was 9.
2025-12-03 08:05:37.161 -03:00 [DBG] The connection queue processing loop for 0HNHIBF2CD8P6 completed.
2025-12-03 08:05:37.164 -03:00 [DBG] Connection id "0HNHIBF2CD8P6" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-12-03 08:05:37.185 -03:00 [DBG] Connection id "0HNHIBF2CD8P6" stopped.
2025-12-03 08:06:24.434 -03:00 [DBG] Connection id "0HNHIBF2CD8P7" accepted.
2025-12-03 08:06:24.436 -03:00 [DBG] Connection id "0HNHIBF2CD8P7" started.
2025-12-03 08:06:24.450 -03:00 [DBG] Connection 0HNHIBF2CD8P7 established using the following protocol: "Tls13"
2025-12-03 08:06:24.454 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction/transferencia - application/json 191
2025-12-03 08:06:24.469 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction/transferencia'
2025-12-03 08:06:24.471 -03:00 [DBG] Endpoint 'TransactionController.Transfer (PagueVeloz.Api)' with route pattern 'api/Transaction/transferencia' is valid for the request path '/api/Transaction/transferencia'
2025-12-03 08:06:24.474 -03:00 [DBG] Request matched endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 08:06:24.476 -03:00 [INF] [REQUEST] POST /api/Transaction/transferencia CorrelationId="b1c0187c-5613-4610-a749-4fae8ffc3c6d"
2025-12-03 08:06:24.479 -03:00 [INF] Request started: POST /api/Transaction/transferencia TraceId=0HNHIBF2CD8P7:00000001
2025-12-03 08:06:24.482 -03:00 [INF] Executing endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 08:06:24.490 -03:00 [INF] Route matched with {action = "Transfer", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Transfer(PagueVeloz.API.DTOs.TransferCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 08:06:24.494 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 08:06:24.498 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 08:06:24.502 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 08:06:24.505 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 08:06:24.508 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 08:06:24.511 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 08:06:24.515 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 08:06:24.518 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' ...
2025-12-03 08:06:24.520 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' using the name '' in request data ...
2025-12-03 08:06:24.523 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 08:06:24.527 -03:00 [DBG] Connection id "0HNHIBF2CD8P7", Request id "0HNHIBF2CD8P7:00000001": started reading request body.
2025-12-03 08:06:24.530 -03:00 [DBG] Connection id "0HNHIBF2CD8P7", Request id "0HNHIBF2CD8P7:00000001": done reading request body.
2025-12-03 08:06:24.535 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.API.DTOs.TransferCreateDto'
2025-12-03 08:06:24.537 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 08:06:24.539 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 08:06:24.542 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' ...
2025-12-03 08:06:24.554 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 08:06:24.558 -03:00 [INF] Recebida solicitação de movimentação do tipo: {dto.Operation} .
2025-12-03 08:06:24.560 -03:00 [WRN] Idempotency-Key não enviada, gerando uma aleatória.
2025-12-03 08:06:24.562 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: 472da196-87a1-4ae2-adb4-4c1ea6d6f9f3
2025-12-03 08:06:25.244 -03:00 [WRN] Tentativa 1 falhou. Esperando "00:00:02" antes de tentar novamente. Erro: BeginExecuteReader requer que o comando tenha uma transação quando a conexão atribuída ao comando estiver em uma transação local pendente. A propriedade Transaction do comando não foi inicializada.
2025-12-03 08:06:27.262 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: 472da196-87a1-4ae2-adb4-4c1ea6d6f9f3
2025-12-03 08:06:27.726 -03:00 [WRN] Tentativa 2 falhou. Esperando "00:00:04" antes de tentar novamente. Erro: BeginExecuteReader requer que o comando tenha uma transação quando a conexão atribuída ao comando estiver em uma transação local pendente. A propriedade Transaction do comando não foi inicializada.
2025-12-03 08:06:31.745 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: 472da196-87a1-4ae2-adb4-4c1ea6d6f9f3
2025-12-03 08:06:32.251 -03:00 [WRN] Tentativa 3 falhou. Esperando "00:00:08" antes de tentar novamente. Erro: BeginExecuteReader requer que o comando tenha uma transação quando a conexão atribuída ao comando estiver em uma transação local pendente. A propriedade Transaction do comando não foi inicializada.
2025-12-03 08:06:40.262 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: 472da196-87a1-4ae2-adb4-4c1ea6d6f9f3
2025-12-03 08:06:41.590 -03:00 [INF] Executed action TransactionController.Transfer (PagueVeloz.Api) in 17078.4553ms
2025-12-03 08:06:41.867 -03:00 [INF] Executed endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 08:06:42.795 -03:00 [ERR] Erro capturado globalmente. TraceId: 00-ff7d99d067460be459e4a312644bbf10-013fc3a4063e9c92-00
System.InvalidOperationException: BeginExecuteReader requer que o comando tenha uma transação quando a conexão atribuída ao comando estiver em uma transação local pendente. A propriedade Transaction do comando não foi inicializada.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at PagueVeloz.Infrastructure.Repositories.Account.AccountRepository.GetAccountByIdAsync(Guid AccountId) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Infrastructure\Repositories\Accounts\AccountRepository.cs:line 78
   at PagueVeloz.Application.Services.TransactionService.TransferAsync(AccountModel source, Guid destinationId, Decimal amount, IDbTransaction dbTransaction) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Application\Services\TransactionService.cs:line 178
   at PagueVeloz.Application.Services.TransactionService.<>c__DisplayClass5_0.<<ProcessTransactionAsync>b__0>d.MoveNext() in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Application\Services\TransactionService.cs:line 72
--- End of stack trace from previous location ---
   at Polly.Retry.AsyncRetryEngine.ImplementationAsync[TResult](Func`3 action, Context context, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Func`5 onRetryAsync, CancellationToken cancellationToken, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at PagueVeloz.Application.Services.TransactionService.ProcessTransactionAsync(TransactionModel dto, String idempotencyKey) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Application\Services\TransactionService.cs:line 38
   at TransactionController.Transfer(TransferCreateDto dto) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api\Controllers\TransactionController.cs:line 135
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at RequestTimingMiddleware.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\RequestTiming.cs:line 23
   at PagueVeloz.Shared.Middlewares.RequestLog.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\RequestLog.cs:line 28
   at ExceptionHandlingMiddleware.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\ExceptionHandling.cs:line 22
2025-12-03 08:06:42.849 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Transaction/transferencia - 500 null application/json 18395.8589ms
2025-12-03 08:06:49.900 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction/transferencia - application/json 191
2025-12-03 08:06:49.917 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction/transferencia'
2025-12-03 08:06:49.921 -03:00 [DBG] Endpoint 'TransactionController.Transfer (PagueVeloz.Api)' with route pattern 'api/Transaction/transferencia' is valid for the request path '/api/Transaction/transferencia'
2025-12-03 08:06:49.925 -03:00 [DBG] Request matched endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 08:06:49.927 -03:00 [INF] [REQUEST] POST /api/Transaction/transferencia CorrelationId="a154e048-8cfd-4a81-834a-5f5aadf77b09"
2025-12-03 08:06:49.931 -03:00 [INF] Request started: POST /api/Transaction/transferencia TraceId=0HNHIBF2CD8P7:00000003
2025-12-03 08:06:49.935 -03:00 [INF] Executing endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 08:06:49.937 -03:00 [INF] Route matched with {action = "Transfer", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Transfer(PagueVeloz.API.DTOs.TransferCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 08:06:49.942 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 08:06:49.947 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 08:06:49.951 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 08:06:49.956 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 08:06:49.960 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 08:06:49.965 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 08:06:49.973 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 08:06:49.976 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' ...
2025-12-03 08:06:49.981 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' using the name '' in request data ...
2025-12-03 08:06:49.985 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 08:06:49.988 -03:00 [DBG] Connection id "0HNHIBF2CD8P7", Request id "0HNHIBF2CD8P7:00000003": started reading request body.
2025-12-03 08:06:49.991 -03:00 [DBG] Connection id "0HNHIBF2CD8P7", Request id "0HNHIBF2CD8P7:00000003": done reading request body.
2025-12-03 08:06:49.995 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.API.DTOs.TransferCreateDto'
2025-12-03 08:06:49.999 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 08:06:50.002 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 08:06:50.005 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' ...
2025-12-03 08:06:50.009 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 08:06:50.013 -03:00 [INF] Recebida solicitação de movimentação do tipo: {dto.Operation} .
2025-12-03 08:06:50.016 -03:00 [WRN] Idempotency-Key não enviada, gerando uma aleatória.
2025-12-03 08:06:50.018 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: ebb4ef8b-29ca-4b83-89ce-80a543f7c7ba
2025-12-03 08:06:50.622 -03:00 [WRN] Tentativa 1 falhou. Esperando "00:00:02" antes de tentar novamente. Erro: BeginExecuteReader requer que o comando tenha uma transação quando a conexão atribuída ao comando estiver em uma transação local pendente. A propriedade Transaction do comando não foi inicializada.
2025-12-03 08:06:52.628 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: ebb4ef8b-29ca-4b83-89ce-80a543f7c7ba
2025-12-03 08:06:53.180 -03:00 [WRN] Tentativa 2 falhou. Esperando "00:00:04" antes de tentar novamente. Erro: BeginExecuteReader requer que o comando tenha uma transação quando a conexão atribuída ao comando estiver em uma transação local pendente. A propriedade Transaction do comando não foi inicializada.
2025-12-03 08:06:57.194 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: ebb4ef8b-29ca-4b83-89ce-80a543f7c7ba
2025-12-03 08:06:57.737 -03:00 [WRN] Tentativa 3 falhou. Esperando "00:00:08" antes de tentar novamente. Erro: BeginExecuteReader requer que o comando tenha uma transação quando a conexão atribuída ao comando estiver em uma transação local pendente. A propriedade Transaction do comando não foi inicializada.
2025-12-03 08:07:05.743 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: ebb4ef8b-29ca-4b83-89ce-80a543f7c7ba
2025-12-03 08:07:07.335 -03:00 [INF] Executed action TransactionController.Transfer (PagueVeloz.Api) in 17370.6119ms
2025-12-03 08:07:07.671 -03:00 [INF] Executed endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 08:07:08.757 -03:00 [ERR] Erro capturado globalmente. TraceId: 00-985d169779506ce641f75238e4a8e241-1ec4f8f1cb95846f-00
System.InvalidOperationException: BeginExecuteReader requer que o comando tenha uma transação quando a conexão atribuída ao comando estiver em uma transação local pendente. A propriedade Transaction do comando não foi inicializada.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at PagueVeloz.Infrastructure.Repositories.Account.AccountRepository.GetAccountByIdAsync(Guid AccountId) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Infrastructure\Repositories\Accounts\AccountRepository.cs:line 78
   at PagueVeloz.Application.Services.TransactionService.TransferAsync(AccountModel source, Guid destinationId, Decimal amount, IDbTransaction dbTransaction) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Application\Services\TransactionService.cs:line 178
   at PagueVeloz.Application.Services.TransactionService.<>c__DisplayClass5_0.<<ProcessTransactionAsync>b__0>d.MoveNext() in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Application\Services\TransactionService.cs:line 72
--- End of stack trace from previous location ---
   at Polly.Retry.AsyncRetryEngine.ImplementationAsync[TResult](Func`3 action, Context context, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Func`5 onRetryAsync, CancellationToken cancellationToken, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at PagueVeloz.Application.Services.TransactionService.ProcessTransactionAsync(TransactionModel dto, String idempotencyKey) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Application\Services\TransactionService.cs:line 38
   at TransactionController.Transfer(TransferCreateDto dto) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api\Controllers\TransactionController.cs:line 135
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at RequestTimingMiddleware.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\RequestTiming.cs:line 23
   at PagueVeloz.Shared.Middlewares.RequestLog.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\RequestLog.cs:line 28
   at ExceptionHandlingMiddleware.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\ExceptionHandling.cs:line 22
2025-12-03 08:07:08.771 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Transaction/transferencia - 500 null application/json 18871.2719ms
2025-12-03 08:07:19.480 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction/transferencia - application/json 191
2025-12-03 08:07:19.486 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction/transferencia'
2025-12-03 08:07:19.489 -03:00 [DBG] Endpoint 'TransactionController.Transfer (PagueVeloz.Api)' with route pattern 'api/Transaction/transferencia' is valid for the request path '/api/Transaction/transferencia'
2025-12-03 08:07:19.493 -03:00 [DBG] Request matched endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 08:07:19.495 -03:00 [INF] [REQUEST] POST /api/Transaction/transferencia CorrelationId="c7649370-97d2-4ab7-9cbd-e239098f7a2f"
2025-12-03 08:07:19.499 -03:00 [INF] Request started: POST /api/Transaction/transferencia TraceId=0HNHIBF2CD8P7:00000005
2025-12-03 08:07:19.502 -03:00 [INF] Executing endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 08:07:19.504 -03:00 [INF] Route matched with {action = "Transfer", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Transfer(PagueVeloz.API.DTOs.TransferCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 08:07:19.508 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 08:07:19.511 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 08:07:19.514 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 08:07:19.517 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 08:07:19.521 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 08:07:19.525 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 08:07:19.527 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 08:07:19.530 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' ...
2025-12-03 08:07:19.532 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' using the name '' in request data ...
2025-12-03 08:07:19.534 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 08:07:19.536 -03:00 [DBG] Connection id "0HNHIBF2CD8P7", Request id "0HNHIBF2CD8P7:00000005": started reading request body.
2025-12-03 08:07:19.538 -03:00 [DBG] Connection id "0HNHIBF2CD8P7", Request id "0HNHIBF2CD8P7:00000005": done reading request body.
2025-12-03 08:07:19.542 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.API.DTOs.TransferCreateDto'
2025-12-03 08:07:19.544 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 08:07:19.547 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 08:07:19.549 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' ...
2025-12-03 08:07:19.553 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 08:07:19.557 -03:00 [INF] Recebida solicitação de movimentação do tipo: {dto.Operation} .
2025-12-03 08:07:19.560 -03:00 [WRN] Idempotency-Key não enviada, gerando uma aleatória.
2025-12-03 08:07:19.562 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: 9b21030e-4ec1-467c-a3eb-6a07acc71c0d
2025-12-03 08:07:20.037 -03:00 [WRN] Tentativa 1 falhou. Esperando "00:00:02" antes de tentar novamente. Erro: BeginExecuteReader requer que o comando tenha uma transação quando a conexão atribuída ao comando estiver em uma transação local pendente. A propriedade Transaction do comando não foi inicializada.
2025-12-03 08:07:22.043 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: 9b21030e-4ec1-467c-a3eb-6a07acc71c0d
2025-12-03 08:07:22.581 -03:00 [WRN] Tentativa 2 falhou. Esperando "00:00:04" antes de tentar novamente. Erro: BeginExecuteReader requer que o comando tenha uma transação quando a conexão atribuída ao comando estiver em uma transação local pendente. A propriedade Transaction do comando não foi inicializada.
2025-12-03 08:07:26.591 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: 9b21030e-4ec1-467c-a3eb-6a07acc71c0d
2025-12-03 08:07:29.954 -03:00 [WRN] Tentativa 3 falhou. Esperando "00:00:08" antes de tentar novamente. Erro: BeginExecuteReader requer que o comando tenha uma transação quando a conexão atribuída ao comando estiver em uma transação local pendente. A propriedade Transaction do comando não foi inicializada.
2025-12-03 08:10:52.579 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-12-03 08:10:53.551 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:10:53.556 -03:00 [WRN] No store type was specified for the decimal property 'CreditLimit' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:10:53.559 -03:00 [WRN] No store type was specified for the decimal property 'ReservedBalance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:10:53.563 -03:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:10:53.566 -03:00 [WRN] No store type was specified for the decimal property 'AvailableBalance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:10:53.570 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:10:53.711 -03:00 [DBG] Entity Framework Core 9.0.11 initialized 'PagueVelozDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.11' with options: EngineType=SqlServer 
2025-12-03 08:10:53.735 -03:00 [DBG] Creating DbConnection.
2025-12-03 08:10:53.793 -03:00 [DBG] Created DbConnection. (55ms).
2025-12-03 08:10:53.801 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:10:54.110 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:10:54.121 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-12-03 08:10:54.130 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (8ms).
2025-12-03 08:10:54.136 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (18ms).
2025-12-03 08:10:54.146 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 08:10:54.191 -03:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 08:10:54.199 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:10:54.215 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (10ms).
2025-12-03 08:10:54.222 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-12-03 08:10:54.224 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2025-12-03 08:10:54.227 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (5ms).
2025-12-03 08:10:54.230 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:10:54.234 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:10:54.237 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 08:10:54.274 -03:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 08:10:54.280 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:10:54.284 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (3ms).
2025-12-03 08:10:54.290 -03:00 [DBG] 'PagueVelozDbContext' disposed.
2025-12-03 08:10:54.296 -03:00 [DBG] Disposing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:10:54.300 -03:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-12-03 08:10:54.512 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-12-03 08:10:54.615 -03:00 [DBG] Hosting starting
2025-12-03 08:10:54.642 -03:00 [DBG] Middleware loaded
2025-12-03 08:10:54.648 -03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16513 B).
2025-12-03 08:10:54.651 -03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-12-03 08:10:54.759 -03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-12-03 08:10:54.763 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-12-03 08:10:54.779 -03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-12-03 08:10:55.078 -03:00 [INF] Now listening on: https://localhost:7249
2025-12-03 08:10:55.082 -03:00 [INF] Now listening on: http://localhost:5247
2025-12-03 08:10:55.084 -03:00 [DBG] Loaded hosting startup assembly PagueVeloz.Api
2025-12-03 08:10:55.086 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-12-03 08:10:55.089 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-12-03 08:10:55.091 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-12-03 08:10:55.107 -03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 08:10:55.111 -03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 08:10:55.341 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-03 08:10:55.344 -03:00 [INF] Hosting environment: Development
2025-12-03 08:10:55.346 -03:00 [INF] Content root path: E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api
2025-12-03 08:10:55.349 -03:00 [DBG] Hosting started
2025-12-03 08:11:22.528 -03:00 [DBG] Connection id "0HNHIBIOJUFUJ" accepted.
2025-12-03 08:11:22.579 -03:00 [DBG] Connection id "0HNHIBIOJUFUJ" started.
2025-12-03 08:11:22.656 -03:00 [DBG] Connection 0HNHIBIOJUFUJ established using the following protocol: "Tls13"
2025-12-03 08:11:22.736 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/swagger/index.html - null null
2025-12-03 08:11:22.914 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-12-03 08:11:22.918 -03:00 [DBG] Request did not match any endpoints
2025-12-03 08:11:23.027 -03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-12-03 08:11:23.031 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-12-03 08:11:23.042 -03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-12-03 08:11:23.046 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-12-03 08:11:23.056 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/swagger/index.html - 200 null text/html;charset=utf-8 327.3781ms
2025-12-03 08:11:23.089 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/_framework/aspnetcore-browser-refresh.js - null null
2025-12-03 08:11:23.089 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/_vs/browserLink - null null
2025-12-03 08:11:23.140 -03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-12-03 08:11:23.144 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 54.658ms
2025-12-03 08:11:23.194 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/_vs/browserLink - 200 null text/javascript; charset=UTF-8 105.0377ms
2025-12-03 08:11:23.352 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/swagger/v1/swagger.json - null null
2025-12-03 08:11:23.362 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-12-03 08:11:23.364 -03:00 [DBG] Request did not match any endpoints
2025-12-03 08:11:23.408 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 55.9793ms
2025-12-03 08:11:29.604 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction/transferencia - application/json 191
2025-12-03 08:11:29.614 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction/transferencia'
2025-12-03 08:11:29.618 -03:00 [DBG] Endpoint 'TransactionController.Transfer (PagueVeloz.Api)' with route pattern 'api/Transaction/transferencia' is valid for the request path '/api/Transaction/transferencia'
2025-12-03 08:11:29.623 -03:00 [DBG] Request matched endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 08:11:29.643 -03:00 [INF] [REQUEST] POST /api/Transaction/transferencia CorrelationId="1820671e-9140-4f8e-94c8-16c31dad612e"
2025-12-03 08:11:29.650 -03:00 [INF] Request started: POST /api/Transaction/transferencia TraceId=0HNHIBIOJUFUJ:00000009
2025-12-03 08:11:29.655 -03:00 [INF] Executing endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 08:11:29.692 -03:00 [INF] Route matched with {action = "Transfer", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Transfer(PagueVeloz.API.DTOs.TransferCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 08:11:29.700 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 08:11:29.705 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 08:11:29.709 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 08:11:29.714 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 08:11:29.717 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 08:11:29.722 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 08:11:29.729 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 08:11:29.749 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' ...
2025-12-03 08:11:29.754 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' using the name '' in request data ...
2025-12-03 08:11:29.758 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 08:11:29.779 -03:00 [DBG] Connection id "0HNHIBIOJUFUJ", Request id "0HNHIBIOJUFUJ:00000009": started reading request body.
2025-12-03 08:11:29.783 -03:00 [DBG] Connection id "0HNHIBIOJUFUJ", Request id "0HNHIBIOJUFUJ:00000009": done reading request body.
2025-12-03 08:11:29.808 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.API.DTOs.TransferCreateDto'
2025-12-03 08:11:29.811 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 08:11:29.815 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 08:11:29.818 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' ...
2025-12-03 08:11:29.909 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 08:11:29.918 -03:00 [INF] Recebida solicitação de movimentação do tipo: {dto.Operation} .
2025-12-03 08:11:29.921 -03:00 [WRN] Idempotency-Key não enviada, gerando uma aleatória.
2025-12-03 08:11:29.954 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: 91f1af3b-b64e-4afb-a467-9e5b3ecd38a9
2025-12-03 08:12:29.903 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-12-03 08:12:31.246 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:12:31.253 -03:00 [WRN] No store type was specified for the decimal property 'CreditLimit' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:12:31.257 -03:00 [WRN] No store type was specified for the decimal property 'ReservedBalance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:12:31.260 -03:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:12:31.264 -03:00 [WRN] No store type was specified for the decimal property 'AvailableBalance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:12:31.267 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:12:31.417 -03:00 [DBG] Entity Framework Core 9.0.11 initialized 'PagueVelozDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.11' with options: EngineType=SqlServer 
2025-12-03 08:12:31.445 -03:00 [DBG] Creating DbConnection.
2025-12-03 08:12:31.518 -03:00 [DBG] Created DbConnection. (69ms).
2025-12-03 08:12:31.527 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:12:31.899 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:12:31.913 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-12-03 08:12:31.927 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (13ms).
2025-12-03 08:12:31.933 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (26ms).
2025-12-03 08:12:31.945 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 08:12:32.010 -03:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 08:12:32.020 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:12:32.042 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (14ms).
2025-12-03 08:12:32.049 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-12-03 08:12:32.053 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2025-12-03 08:12:32.057 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (7ms).
2025-12-03 08:12:32.060 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:12:32.065 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:12:32.069 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 08:12:32.150 -03:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 08:12:32.164 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:12:32.170 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (6ms).
2025-12-03 08:12:32.184 -03:00 [DBG] 'PagueVelozDbContext' disposed.
2025-12-03 08:12:32.191 -03:00 [DBG] Disposing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:12:32.196 -03:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-12-03 08:12:32.443 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-12-03 08:12:32.566 -03:00 [DBG] Hosting starting
2025-12-03 08:12:32.604 -03:00 [DBG] Middleware loaded
2025-12-03 08:12:32.610 -03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16513 B).
2025-12-03 08:12:32.614 -03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-12-03 08:12:32.736 -03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-12-03 08:12:32.741 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-12-03 08:12:32.762 -03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-12-03 08:12:33.023 -03:00 [INF] Now listening on: https://localhost:7249
2025-12-03 08:12:33.025 -03:00 [INF] Now listening on: http://localhost:5247
2025-12-03 08:12:33.029 -03:00 [DBG] Loaded hosting startup assembly PagueVeloz.Api
2025-12-03 08:12:33.031 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-12-03 08:12:33.034 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-12-03 08:12:33.037 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-12-03 08:12:33.053 -03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 08:12:33.058 -03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 08:12:33.573 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-03 08:12:33.574 -03:00 [INF] Hosting environment: Development
2025-12-03 08:12:33.577 -03:00 [INF] Content root path: E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api
2025-12-03 08:12:33.579 -03:00 [DBG] Hosting started
2025-12-03 08:13:02.222 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-12-03 08:13:03.514 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:13:03.521 -03:00 [WRN] No store type was specified for the decimal property 'CreditLimit' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:13:03.526 -03:00 [WRN] No store type was specified for the decimal property 'ReservedBalance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:13:03.530 -03:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:13:03.534 -03:00 [WRN] No store type was specified for the decimal property 'AvailableBalance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:13:03.537 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:13:03.740 -03:00 [DBG] Entity Framework Core 9.0.11 initialized 'PagueVelozDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.11' with options: EngineType=SqlServer 
2025-12-03 08:13:03.764 -03:00 [DBG] Creating DbConnection.
2025-12-03 08:13:03.840 -03:00 [DBG] Created DbConnection. (72ms).
2025-12-03 08:13:03.850 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:13:04.264 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:13:04.282 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-12-03 08:13:04.295 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (13ms).
2025-12-03 08:13:04.301 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (25ms).
2025-12-03 08:13:04.316 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 08:13:04.379 -03:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 08:13:04.387 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:13:04.407 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (12ms).
2025-12-03 08:13:04.413 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-12-03 08:13:04.415 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2025-12-03 08:13:04.419 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (5ms).
2025-12-03 08:13:04.422 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:13:04.426 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:13:04.430 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 08:13:04.481 -03:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 08:13:04.487 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:13:04.490 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (3ms).
2025-12-03 08:13:04.495 -03:00 [DBG] 'PagueVelozDbContext' disposed.
2025-12-03 08:13:04.501 -03:00 [DBG] Disposing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:13:04.505 -03:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-12-03 08:13:04.790 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-12-03 08:13:04.977 -03:00 [DBG] Hosting starting
2025-12-03 08:13:05.030 -03:00 [DBG] Middleware loaded
2025-12-03 08:13:05.038 -03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16513 B).
2025-12-03 08:13:05.096 -03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-12-03 08:13:05.317 -03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-12-03 08:13:05.343 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-12-03 08:13:05.380 -03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-12-03 08:13:05.725 -03:00 [INF] Now listening on: https://localhost:7249
2025-12-03 08:13:05.728 -03:00 [INF] Now listening on: http://localhost:5247
2025-12-03 08:13:05.731 -03:00 [DBG] Loaded hosting startup assembly PagueVeloz.Api
2025-12-03 08:13:05.734 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-12-03 08:13:05.736 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-12-03 08:13:05.739 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-12-03 08:13:05.756 -03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 08:13:05.767 -03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 08:13:06.436 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-03 08:13:06.438 -03:00 [INF] Hosting environment: Development
2025-12-03 08:13:06.441 -03:00 [INF] Content root path: E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api
2025-12-03 08:13:06.444 -03:00 [DBG] Hosting started
2025-12-03 08:13:45.871 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-12-03 08:13:46.913 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:13:46.919 -03:00 [WRN] No store type was specified for the decimal property 'CreditLimit' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:13:46.923 -03:00 [WRN] No store type was specified for the decimal property 'ReservedBalance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:13:46.927 -03:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:13:46.931 -03:00 [WRN] No store type was specified for the decimal property 'AvailableBalance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:13:46.936 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:13:47.087 -03:00 [DBG] Entity Framework Core 9.0.11 initialized 'PagueVelozDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.11' with options: EngineType=SqlServer 
2025-12-03 08:13:47.110 -03:00 [DBG] Creating DbConnection.
2025-12-03 08:13:47.168 -03:00 [DBG] Created DbConnection. (54ms).
2025-12-03 08:13:47.177 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:13:47.451 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:13:47.463 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-12-03 08:13:47.475 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (11ms).
2025-12-03 08:13:47.482 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (23ms).
2025-12-03 08:13:47.494 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 08:13:47.549 -03:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 08:13:47.556 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:13:47.571 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (11ms).
2025-12-03 08:13:47.578 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-12-03 08:13:47.581 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2025-12-03 08:13:47.585 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (7ms).
2025-12-03 08:13:47.588 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:13:47.592 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:13:47.596 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 08:13:47.621 -03:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 08:13:47.627 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:13:47.632 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (4ms).
2025-12-03 08:13:47.638 -03:00 [DBG] 'PagueVelozDbContext' disposed.
2025-12-03 08:13:47.643 -03:00 [DBG] Disposing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:13:47.648 -03:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-12-03 08:13:47.835 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-12-03 08:13:47.948 -03:00 [DBG] Hosting starting
2025-12-03 08:13:47.982 -03:00 [DBG] Middleware loaded
2025-12-03 08:13:47.987 -03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16513 B).
2025-12-03 08:13:47.992 -03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-12-03 08:13:48.151 -03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-12-03 08:13:48.156 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-12-03 08:13:48.175 -03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-12-03 08:13:48.409 -03:00 [INF] Now listening on: https://localhost:7249
2025-12-03 08:13:48.412 -03:00 [INF] Now listening on: http://localhost:5247
2025-12-03 08:13:48.414 -03:00 [DBG] Loaded hosting startup assembly PagueVeloz.Api
2025-12-03 08:13:48.416 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-12-03 08:13:48.418 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-12-03 08:13:48.420 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-12-03 08:13:48.435 -03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 08:13:48.440 -03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 08:13:48.594 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-03 08:13:48.596 -03:00 [INF] Hosting environment: Development
2025-12-03 08:13:48.598 -03:00 [INF] Content root path: E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api
2025-12-03 08:13:48.600 -03:00 [DBG] Hosting started
2025-12-03 08:14:15.855 -03:00 [DBG] Connection id "0HNHIBKC8TE6I" accepted.
2025-12-03 08:14:15.875 -03:00 [DBG] Connection id "0HNHIBKC8TE6I" started.
2025-12-03 08:14:15.951 -03:00 [DBG] Connection 0HNHIBKC8TE6I established using the following protocol: "Tls13"
2025-12-03 08:14:16.035 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/swagger/index.html - null null
2025-12-03 08:14:16.237 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-12-03 08:14:16.241 -03:00 [DBG] Request did not match any endpoints
2025-12-03 08:14:16.342 -03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-12-03 08:14:16.346 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-12-03 08:14:16.358 -03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-12-03 08:14:16.361 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-12-03 08:14:16.369 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/swagger/index.html - 200 null text/html;charset=utf-8 342.2829ms
2025-12-03 08:14:16.398 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/_vs/browserLink - null null
2025-12-03 08:14:16.399 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/_framework/aspnetcore-browser-refresh.js - null null
2025-12-03 08:14:16.475 -03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-12-03 08:14:16.478 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 79.7794ms
2025-12-03 08:14:16.523 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/_vs/browserLink - 200 null text/javascript; charset=UTF-8 126.2244ms
2025-12-03 08:14:16.585 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/swagger/v1/swagger.json - null null
2025-12-03 08:14:16.596 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-12-03 08:14:16.598 -03:00 [DBG] Request did not match any endpoints
2025-12-03 08:14:16.640 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 54.9462ms
2025-12-03 08:14:57.868 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction/transferencia - application/json 191
2025-12-03 08:14:57.886 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction/transferencia'
2025-12-03 08:14:57.890 -03:00 [DBG] Endpoint 'TransactionController.Transfer (PagueVeloz.Api)' with route pattern 'api/Transaction/transferencia' is valid for the request path '/api/Transaction/transferencia'
2025-12-03 08:14:57.895 -03:00 [DBG] Request matched endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 08:14:57.912 -03:00 [INF] [REQUEST] POST /api/Transaction/transferencia CorrelationId="3c8b6d26-8040-4912-8143-11819a7090ce"
2025-12-03 08:14:57.917 -03:00 [INF] Request started: POST /api/Transaction/transferencia TraceId=0HNHIBKC8TE6I:00000009
2025-12-03 08:14:57.924 -03:00 [INF] Executing endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 08:14:57.949 -03:00 [INF] Route matched with {action = "Transfer", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Transfer(PagueVeloz.API.DTOs.TransferCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 08:14:57.955 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 08:14:57.958 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 08:14:57.962 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 08:14:57.966 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 08:14:57.971 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 08:14:57.976 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 08:14:57.982 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 08:14:57.998 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' ...
2025-12-03 08:14:58.004 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' using the name '' in request data ...
2025-12-03 08:14:58.008 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 08:14:58.029 -03:00 [DBG] Connection id "0HNHIBKC8TE6I", Request id "0HNHIBKC8TE6I:00000009": started reading request body.
2025-12-03 08:14:58.033 -03:00 [DBG] Connection id "0HNHIBKC8TE6I", Request id "0HNHIBKC8TE6I:00000009": done reading request body.
2025-12-03 08:14:58.070 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.API.DTOs.TransferCreateDto'
2025-12-03 08:14:58.073 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 08:14:58.076 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 08:14:58.079 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' ...
2025-12-03 08:14:58.142 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 08:14:58.148 -03:00 [INF] Recebida solicitação de movimentação do tipo: {dto.Operation} .
2025-12-03 08:14:58.150 -03:00 [WRN] Idempotency-Key não enviada, gerando uma aleatória.
2025-12-03 08:14:58.174 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: a0ab1739-d046-46b1-b595-dfb45c54e522
2025-12-03 08:16:04.063 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-12-03 08:16:05.410 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:16:05.416 -03:00 [WRN] No store type was specified for the decimal property 'CreditLimit' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:16:05.419 -03:00 [WRN] No store type was specified for the decimal property 'ReservedBalance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:16:05.422 -03:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:16:05.425 -03:00 [WRN] No store type was specified for the decimal property 'AvailableBalance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:16:05.428 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:16:05.570 -03:00 [DBG] Entity Framework Core 9.0.11 initialized 'PagueVelozDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.11' with options: EngineType=SqlServer 
2025-12-03 08:16:05.594 -03:00 [DBG] Creating DbConnection.
2025-12-03 08:16:05.665 -03:00 [DBG] Created DbConnection. (68ms).
2025-12-03 08:16:05.675 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:16:05.995 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:16:06.008 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-12-03 08:16:06.020 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (10ms).
2025-12-03 08:16:06.025 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (22ms).
2025-12-03 08:16:06.035 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 08:16:06.088 -03:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 08:16:06.095 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:16:06.111 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (9ms).
2025-12-03 08:16:06.118 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-12-03 08:16:06.123 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (5ms).
2025-12-03 08:16:06.127 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (9ms).
2025-12-03 08:16:06.130 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:16:06.136 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:16:06.140 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 08:16:06.195 -03:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 08:16:06.204 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:16:06.208 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (3ms).
2025-12-03 08:16:06.219 -03:00 [DBG] 'PagueVelozDbContext' disposed.
2025-12-03 08:16:06.224 -03:00 [DBG] Disposing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:16:06.230 -03:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-12-03 08:16:06.520 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-12-03 08:16:06.660 -03:00 [DBG] Hosting starting
2025-12-03 08:16:06.708 -03:00 [DBG] Middleware loaded
2025-12-03 08:16:06.715 -03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16513 B).
2025-12-03 08:16:06.720 -03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-12-03 08:16:06.853 -03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-12-03 08:16:06.857 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-12-03 08:16:06.877 -03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-12-03 08:16:07.084 -03:00 [INF] Now listening on: https://localhost:7249
2025-12-03 08:16:07.086 -03:00 [INF] Now listening on: http://localhost:5247
2025-12-03 08:16:07.088 -03:00 [DBG] Loaded hosting startup assembly PagueVeloz.Api
2025-12-03 08:16:07.091 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-12-03 08:16:07.093 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-12-03 08:16:07.095 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-12-03 08:16:07.108 -03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 08:16:07.113 -03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 08:16:07.354 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-03 08:16:07.356 -03:00 [INF] Hosting environment: Development
2025-12-03 08:16:07.362 -03:00 [INF] Content root path: E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api
2025-12-03 08:16:07.365 -03:00 [DBG] Hosting started
2025-12-03 08:16:18.395 -03:00 [DBG] Connection id "0HNHIBLGPHLQV" accepted.
2025-12-03 08:16:18.415 -03:00 [DBG] Connection id "0HNHIBLGPHLQV" started.
2025-12-03 08:16:18.501 -03:00 [DBG] Connection 0HNHIBLGPHLQV established using the following protocol: "Tls13"
2025-12-03 08:16:18.595 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/swagger/index.html - null null
2025-12-03 08:16:18.792 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-12-03 08:16:18.795 -03:00 [DBG] Request did not match any endpoints
2025-12-03 08:16:18.907 -03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-12-03 08:16:18.911 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-12-03 08:16:18.924 -03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-12-03 08:16:18.927 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-12-03 08:16:18.938 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/swagger/index.html - 200 null text/html;charset=utf-8 352.9091ms
2025-12-03 08:16:18.991 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/_framework/aspnetcore-browser-refresh.js - null null
2025-12-03 08:16:18.991 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/_vs/browserLink - null null
2025-12-03 08:16:19.026 -03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-12-03 08:16:19.037 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 45.565ms
2025-12-03 08:16:19.087 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/_vs/browserLink - 200 null text/javascript; charset=UTF-8 95.7837ms
2025-12-03 08:16:19.157 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/swagger/v1/swagger.json - null null
2025-12-03 08:16:19.171 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-12-03 08:16:19.174 -03:00 [DBG] Request did not match any endpoints
2025-12-03 08:16:19.208 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 51.4613ms
2025-12-03 08:16:32.871 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction/transferencia - application/json 191
2025-12-03 08:16:32.883 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction/transferencia'
2025-12-03 08:16:32.889 -03:00 [DBG] Endpoint 'TransactionController.Transfer (PagueVeloz.Api)' with route pattern 'api/Transaction/transferencia' is valid for the request path '/api/Transaction/transferencia'
2025-12-03 08:16:32.893 -03:00 [DBG] Request matched endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 08:16:32.911 -03:00 [INF] [REQUEST] POST /api/Transaction/transferencia CorrelationId="0c0e31a1-011a-4675-8715-0b65f15dcdde"
2025-12-03 08:16:32.919 -03:00 [INF] Request started: POST /api/Transaction/transferencia TraceId=0HNHIBLGPHLQV:00000009
2025-12-03 08:16:32.925 -03:00 [INF] Executing endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 08:16:32.957 -03:00 [INF] Route matched with {action = "Transfer", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Transfer(PagueVeloz.API.DTOs.TransferCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 08:16:32.965 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 08:16:32.970 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 08:16:32.973 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 08:16:32.977 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 08:16:32.980 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 08:16:32.986 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 08:16:32.991 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 08:16:33.010 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' ...
2025-12-03 08:16:33.016 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' using the name '' in request data ...
2025-12-03 08:16:33.021 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 08:16:33.040 -03:00 [DBG] Connection id "0HNHIBLGPHLQV", Request id "0HNHIBLGPHLQV:00000009": started reading request body.
2025-12-03 08:16:33.044 -03:00 [DBG] Connection id "0HNHIBLGPHLQV", Request id "0HNHIBLGPHLQV:00000009": done reading request body.
2025-12-03 08:16:33.068 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.API.DTOs.TransferCreateDto'
2025-12-03 08:16:33.072 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 08:16:33.074 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 08:16:33.077 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' ...
2025-12-03 08:16:33.155 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 08:16:33.164 -03:00 [INF] Recebida solicitação de movimentação do tipo: {dto.Operation} .
2025-12-03 08:16:33.168 -03:00 [WRN] Idempotency-Key não enviada, gerando uma aleatória.
2025-12-03 08:16:33.199 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: 70705700-d750-4e20-a1e4-568e82505687
2025-12-03 08:16:34.045 -03:00 [WRN] Tentativa 1 falhou. Esperando "00:00:02" antes de tentar novamente. Erro: BeginExecuteReader requer que o comando tenha uma transação quando a conexão atribuída ao comando estiver em uma transação local pendente. A propriedade Transaction do comando não foi inicializada.
2025-12-03 08:16:36.063 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: 70705700-d750-4e20-a1e4-568e82505687
2025-12-03 08:16:36.608 -03:00 [WRN] Tentativa 2 falhou. Esperando "00:00:04" antes de tentar novamente. Erro: BeginExecuteReader requer que o comando tenha uma transação quando a conexão atribuída ao comando estiver em uma transação local pendente. A propriedade Transaction do comando não foi inicializada.
2025-12-03 08:16:40.613 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: 70705700-d750-4e20-a1e4-568e82505687
2025-12-03 08:16:41.094 -03:00 [WRN] Tentativa 3 falhou. Esperando "00:00:08" antes de tentar novamente. Erro: BeginExecuteReader requer que o comando tenha uma transação quando a conexão atribuída ao comando estiver em uma transação local pendente. A propriedade Transaction do comando não foi inicializada.
2025-12-03 08:16:49.113 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: 70705700-d750-4e20-a1e4-568e82505687
2025-12-03 08:16:51.430 -03:00 [INF] Executed action TransactionController.Transfer (PagueVeloz.Api) in 18443.0856ms
2025-12-03 08:16:51.847 -03:00 [INF] Executed endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 08:16:53.178 -03:00 [ERR] Erro capturado globalmente. TraceId: 00-a80111d998eabbad65c6b9b0c46ea70c-badf8d06de0d4f54-00
System.InvalidOperationException: BeginExecuteReader requer que o comando tenha uma transação quando a conexão atribuída ao comando estiver em uma transação local pendente. A propriedade Transaction do comando não foi inicializada.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__195_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Dapper.SqlMapper.QueryRowAsync[T](IDbConnection cnn, Row row, Type effectiveType, CommandDefinition command) in /_/Dapper/SqlMapper.Async.cs:line 489
   at PagueVeloz.Infrastructure.Repositories.Account.AccountRepository.GetAccountByIdAsync(Guid AccountId) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Infrastructure\Repositories\Accounts\AccountRepository.cs:line 78
   at PagueVeloz.Application.Services.TransactionService.TransferAsync(AccountModel source, Guid destinationId, Decimal amount, IDbTransaction dbTransaction) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Application\Services\TransactionService.cs:line 177
   at PagueVeloz.Application.Services.TransactionService.<>c__DisplayClass5_0.<<ProcessTransactionAsync>b__0>d.MoveNext() in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Application\Services\TransactionService.cs:line 72
--- End of stack trace from previous location ---
   at Polly.Retry.AsyncRetryEngine.ImplementationAsync[TResult](Func`3 action, Context context, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Func`5 onRetryAsync, CancellationToken cancellationToken, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at PagueVeloz.Application.Services.TransactionService.ProcessTransactionAsync(TransactionModel dto, String idempotencyKey) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Application\Services\TransactionService.cs:line 38
   at TransactionController.Transfer(TransferCreateDto dto) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api\Controllers\TransactionController.cs:line 135
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at RequestTimingMiddleware.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\RequestTiming.cs:line 23
   at PagueVeloz.Shared.Middlewares.RequestLog.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\RequestLog.cs:line 28
   at ExceptionHandlingMiddleware.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\ExceptionHandling.cs:line 22
2025-12-03 08:16:53.241 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Transaction/transferencia - 500 null application/json 20369.6841ms
2025-12-03 08:22:25.047 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-12-03 08:22:26.022 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:22:26.028 -03:00 [WRN] No store type was specified for the decimal property 'CreditLimit' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:22:26.032 -03:00 [WRN] No store type was specified for the decimal property 'ReservedBalance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:22:26.035 -03:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:22:26.038 -03:00 [WRN] No store type was specified for the decimal property 'AvailableBalance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:22:26.041 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:22:26.223 -03:00 [DBG] Entity Framework Core 9.0.11 initialized 'PagueVelozDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.11' with options: EngineType=SqlServer 
2025-12-03 08:22:26.248 -03:00 [DBG] Creating DbConnection.
2025-12-03 08:22:26.325 -03:00 [DBG] Created DbConnection. (73ms).
2025-12-03 08:22:26.335 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:22:26.625 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:22:26.639 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-12-03 08:22:26.651 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (12ms).
2025-12-03 08:22:26.657 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (23ms).
2025-12-03 08:22:26.668 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 08:22:26.711 -03:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 08:22:26.719 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:22:26.734 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (9ms).
2025-12-03 08:22:26.739 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-12-03 08:22:26.741 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2025-12-03 08:22:26.744 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (5ms).
2025-12-03 08:22:26.748 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:22:26.751 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:22:26.754 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 08:22:26.795 -03:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 08:22:26.801 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:22:26.805 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (4ms).
2025-12-03 08:22:26.810 -03:00 [DBG] 'PagueVelozDbContext' disposed.
2025-12-03 08:22:26.815 -03:00 [DBG] Disposing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:22:26.821 -03:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-12-03 08:22:27.006 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-12-03 08:22:27.102 -03:00 [DBG] Hosting starting
2025-12-03 08:22:27.130 -03:00 [DBG] Middleware loaded
2025-12-03 08:22:27.134 -03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16513 B).
2025-12-03 08:22:27.138 -03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-12-03 08:22:27.236 -03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-12-03 08:22:27.241 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-12-03 08:22:27.255 -03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-12-03 08:22:27.412 -03:00 [INF] Now listening on: https://localhost:7249
2025-12-03 08:22:27.414 -03:00 [INF] Now listening on: http://localhost:5247
2025-12-03 08:22:27.417 -03:00 [DBG] Loaded hosting startup assembly PagueVeloz.Api
2025-12-03 08:22:27.419 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-12-03 08:22:27.420 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-12-03 08:22:27.422 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-12-03 08:22:27.432 -03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 08:22:27.438 -03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 08:22:27.612 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-03 08:22:27.615 -03:00 [INF] Hosting environment: Development
2025-12-03 08:22:27.617 -03:00 [INF] Content root path: E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api
2025-12-03 08:22:27.620 -03:00 [DBG] Hosting started
2025-12-03 08:23:30.975 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-12-03 08:23:31.983 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:23:31.989 -03:00 [WRN] No store type was specified for the decimal property 'CreditLimit' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:23:31.991 -03:00 [WRN] No store type was specified for the decimal property 'ReservedBalance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:23:31.994 -03:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:23:31.996 -03:00 [WRN] No store type was specified for the decimal property 'AvailableBalance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:23:31.999 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:23:32.120 -03:00 [DBG] Entity Framework Core 9.0.11 initialized 'PagueVelozDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.11' with options: EngineType=SqlServer 
2025-12-03 08:23:32.140 -03:00 [DBG] Creating DbConnection.
2025-12-03 08:23:32.198 -03:00 [DBG] Created DbConnection. (55ms).
2025-12-03 08:23:32.205 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:23:32.501 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:23:32.513 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-12-03 08:23:32.525 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (10ms).
2025-12-03 08:23:32.532 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (22ms).
2025-12-03 08:23:32.544 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 08:23:32.587 -03:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 08:23:32.595 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:23:32.608 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (8ms).
2025-12-03 08:23:32.613 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-12-03 08:23:32.615 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2025-12-03 08:23:32.617 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (4ms).
2025-12-03 08:23:32.620 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:23:32.624 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:23:32.629 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 08:23:32.672 -03:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 08:23:32.677 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:23:32.680 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (2ms).
2025-12-03 08:23:32.684 -03:00 [DBG] 'PagueVelozDbContext' disposed.
2025-12-03 08:23:32.689 -03:00 [DBG] Disposing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:23:32.694 -03:00 [DBG] Disposed connection to database '' on server '' (4ms).
2025-12-03 08:23:32.886 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-12-03 08:23:32.965 -03:00 [DBG] Hosting starting
2025-12-03 08:23:32.998 -03:00 [DBG] Middleware loaded
2025-12-03 08:23:33.003 -03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16513 B).
2025-12-03 08:23:33.007 -03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-12-03 08:23:33.135 -03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-12-03 08:23:33.141 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-12-03 08:23:33.159 -03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-12-03 08:23:33.361 -03:00 [INF] Now listening on: https://localhost:7249
2025-12-03 08:23:33.363 -03:00 [INF] Now listening on: http://localhost:5247
2025-12-03 08:23:33.365 -03:00 [DBG] Loaded hosting startup assembly PagueVeloz.Api
2025-12-03 08:23:33.367 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-12-03 08:23:33.369 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-12-03 08:23:33.371 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-12-03 08:23:33.385 -03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 08:23:33.389 -03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 08:23:33.580 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-03 08:23:33.582 -03:00 [INF] Hosting environment: Development
2025-12-03 08:23:33.584 -03:00 [INF] Content root path: E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api
2025-12-03 08:23:33.586 -03:00 [DBG] Hosting started
2025-12-03 08:24:44.832 -03:00 [DBG] Connection id "0HNHIBQ7NA2H9" accepted.
2025-12-03 08:24:44.894 -03:00 [DBG] Connection id "0HNHIBQ7NA2H9" started.
2025-12-03 08:24:45.023 -03:00 [DBG] Connection 0HNHIBQ7NA2H9 established using the following protocol: "Tls13"
2025-12-03 08:24:45.158 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/swagger/index.html - null null
2025-12-03 08:24:45.398 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-12-03 08:24:45.402 -03:00 [DBG] Request did not match any endpoints
2025-12-03 08:24:45.540 -03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-12-03 08:24:45.545 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-12-03 08:24:45.558 -03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-12-03 08:24:45.561 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-12-03 08:24:45.574 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/swagger/index.html - 200 null text/html;charset=utf-8 424.9237ms
2025-12-03 08:24:45.620 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/_vs/browserLink - null null
2025-12-03 08:24:45.625 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/_framework/aspnetcore-browser-refresh.js - null null
2025-12-03 08:24:45.702 -03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-12-03 08:24:45.707 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 81.2445ms
2025-12-03 08:24:45.743 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/_vs/browserLink - 200 null text/javascript; charset=UTF-8 123.6435ms
2025-12-03 08:24:46.826 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/swagger/v1/swagger.json - null null
2025-12-03 08:24:46.834 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-12-03 08:24:46.837 -03:00 [DBG] Request did not match any endpoints
2025-12-03 08:24:46.885 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 59.3229ms
2025-12-03 08:25:03.191 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction/transferencia - application/json 191
2025-12-03 08:25:03.205 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction/transferencia'
2025-12-03 08:25:03.211 -03:00 [DBG] Endpoint 'TransactionController.Transfer (PagueVeloz.Api)' with route pattern 'api/Transaction/transferencia' is valid for the request path '/api/Transaction/transferencia'
2025-12-03 08:25:03.217 -03:00 [DBG] Request matched endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 08:25:03.242 -03:00 [INF] [REQUEST] POST /api/Transaction/transferencia CorrelationId="76e71834-2e22-42b1-9bf5-74aa54d9516d"
2025-12-03 08:25:03.251 -03:00 [INF] Request started: POST /api/Transaction/transferencia TraceId=0HNHIBQ7NA2H9:00000009
2025-12-03 08:25:03.259 -03:00 [INF] Executing endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 08:25:03.312 -03:00 [INF] Route matched with {action = "Transfer", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Transfer(PagueVeloz.API.DTOs.TransferCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 08:25:03.319 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 08:25:03.325 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 08:25:03.329 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 08:25:03.333 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 08:25:03.337 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 08:25:03.346 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 08:25:03.353 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 08:25:03.383 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' ...
2025-12-03 08:25:03.393 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' using the name '' in request data ...
2025-12-03 08:25:03.402 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 08:25:03.447 -03:00 [DBG] Connection id "0HNHIBQ7NA2H9", Request id "0HNHIBQ7NA2H9:00000009": started reading request body.
2025-12-03 08:25:03.453 -03:00 [DBG] Connection id "0HNHIBQ7NA2H9", Request id "0HNHIBQ7NA2H9:00000009": done reading request body.
2025-12-03 08:25:03.573 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.API.DTOs.TransferCreateDto'
2025-12-03 08:25:03.577 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 08:25:03.580 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 08:25:03.583 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' ...
2025-12-03 08:25:03.713 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 08:25:03.723 -03:00 [INF] Recebida solicitação de movimentação do tipo: {dto.Operation} .
2025-12-03 08:25:03.726 -03:00 [WRN] Idempotency-Key não enviada, gerando uma aleatória.
2025-12-03 08:25:03.765 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: 1f15f5fc-2cdd-48c8-9dbf-d920383aa55b
2025-12-03 08:25:15.999 -03:00 [DBG] Iniciando INSERT de Transação "1f1f712c-3c3e-4fdf-9623-94c813e59887"
2025-12-03 08:25:16.138 -03:00 [WRN] Tentativa 1 falhou. Esperando "00:00:02" antes de tentar novamente. Erro: Este SqlTransaction foi concluído; ele não pode mais ser usado.
2025-12-03 08:25:18.151 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: 1f15f5fc-2cdd-48c8-9dbf-d920383aa55b
2025-12-03 08:25:18.239 -03:00 [WRN] Tentativa 2 falhou. Esperando "00:00:04" antes de tentar novamente. Erro: Transação já foi realizada.
2025-12-03 08:25:22.254 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: 1f15f5fc-2cdd-48c8-9dbf-d920383aa55b
2025-12-03 08:25:22.330 -03:00 [WRN] Tentativa 3 falhou. Esperando "00:00:08" antes de tentar novamente. Erro: Transação já foi realizada.
2025-12-03 08:25:30.328 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: 1f15f5fc-2cdd-48c8-9dbf-d920383aa55b
2025-12-03 08:25:31.774 -03:00 [INF] Executed action TransactionController.Transfer (PagueVeloz.Api) in 28425.5599ms
2025-12-03 08:25:32.150 -03:00 [INF] Executed endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 08:25:33.452 -03:00 [ERR] Erro capturado globalmente. TraceId: 00-41269fd9ec8a6f1a768f04633dde780c-6e34d6c95d2466ff-00
PagueVeloz.Shared.Middlewares.BusinessException: Transação já foi realizada.
   at PagueVeloz.Application.Services.TransactionService.<>c__DisplayClass5_0.<<ProcessTransactionAsync>b__0>d.MoveNext() in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Application\Services\TransactionService.cs:line 51
--- End of stack trace from previous location ---
   at Polly.Retry.AsyncRetryEngine.ImplementationAsync[TResult](Func`3 action, Context context, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Func`5 onRetryAsync, CancellationToken cancellationToken, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at PagueVeloz.Application.Services.TransactionService.ProcessTransactionAsync(TransactionModel dto, String idempotencyKey) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Application\Services\TransactionService.cs:line 38
   at TransactionController.Transfer(TransferCreateDto dto) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api\Controllers\TransactionController.cs:line 135
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at RequestTimingMiddleware.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\RequestTiming.cs:line 23
   at PagueVeloz.Shared.Middlewares.RequestLog.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\RequestLog.cs:line 28
   at ExceptionHandlingMiddleware.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\ExceptionHandling.cs:line 22
2025-12-03 08:25:33.502 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Transaction/transferencia - 400 null application/json 30311.4606ms
2025-12-03 08:27:38.676 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction/transferencia - application/json 191
2025-12-03 08:27:38.684 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction/transferencia'
2025-12-03 08:27:38.687 -03:00 [DBG] Endpoint 'TransactionController.Transfer (PagueVeloz.Api)' with route pattern 'api/Transaction/transferencia' is valid for the request path '/api/Transaction/transferencia'
2025-12-03 08:27:38.691 -03:00 [DBG] Request matched endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 08:27:38.694 -03:00 [INF] [REQUEST] POST /api/Transaction/transferencia CorrelationId="99d959d1-5515-4287-9ce6-5900a0ae2308"
2025-12-03 08:27:38.697 -03:00 [INF] Request started: POST /api/Transaction/transferencia TraceId=0HNHIBQ7NA2H9:0000000B
2025-12-03 08:27:38.701 -03:00 [INF] Executing endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 08:27:38.704 -03:00 [INF] Route matched with {action = "Transfer", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Transfer(PagueVeloz.API.DTOs.TransferCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 08:27:38.708 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 08:27:38.711 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 08:27:38.715 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 08:27:38.719 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 08:27:38.722 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 08:27:38.726 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 08:27:38.728 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 08:27:38.732 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' ...
2025-12-03 08:27:38.735 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' using the name '' in request data ...
2025-12-03 08:27:38.738 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 08:27:38.742 -03:00 [DBG] Connection id "0HNHIBQ7NA2H9", Request id "0HNHIBQ7NA2H9:0000000B": started reading request body.
2025-12-03 08:27:38.744 -03:00 [DBG] Connection id "0HNHIBQ7NA2H9", Request id "0HNHIBQ7NA2H9:0000000B": done reading request body.
2025-12-03 08:27:38.748 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.API.DTOs.TransferCreateDto'
2025-12-03 08:27:38.750 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 08:27:38.753 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 08:27:38.756 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' ...
2025-12-03 08:27:38.760 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 08:27:38.765 -03:00 [INF] Recebida solicitação de movimentação do tipo: {dto.Operation} .
2025-12-03 08:27:38.767 -03:00 [WRN] Idempotency-Key não enviada, gerando uma aleatória.
2025-12-03 08:27:38.769 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: b1f98d35-42b3-45dc-8acf-7d0d1517aa20
2025-12-03 08:27:38.884 -03:00 [WRN] Tentativa 1 falhou. Esperando "00:00:02" antes de tentar novamente. Erro: Transação já foi realizada.
2025-12-03 08:27:40.882 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: b1f98d35-42b3-45dc-8acf-7d0d1517aa20
2025-12-03 08:27:40.967 -03:00 [WRN] Tentativa 2 falhou. Esperando "00:00:04" antes de tentar novamente. Erro: Transação já foi realizada.
2025-12-03 08:27:44.979 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: b1f98d35-42b3-45dc-8acf-7d0d1517aa20
2025-12-03 08:27:45.058 -03:00 [WRN] Tentativa 3 falhou. Esperando "00:00:08" antes de tentar novamente. Erro: Transação já foi realizada.
2025-12-03 08:27:53.073 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: b1f98d35-42b3-45dc-8acf-7d0d1517aa20
2025-12-03 08:27:54.287 -03:00 [INF] Executed action TransactionController.Transfer (PagueVeloz.Api) in 15561.3566ms
2025-12-03 08:27:54.658 -03:00 [INF] Executed endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 08:27:55.903 -03:00 [ERR] Erro capturado globalmente. TraceId: 00-7eff9df88c2b6096ba0084dbb41e94c9-e7559c58a80fd623-00
PagueVeloz.Shared.Middlewares.BusinessException: Transação já foi realizada.
   at PagueVeloz.Application.Services.TransactionService.<>c__DisplayClass5_0.<<ProcessTransactionAsync>b__0>d.MoveNext() in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Application\Services\TransactionService.cs:line 51
--- End of stack trace from previous location ---
   at Polly.Retry.AsyncRetryEngine.ImplementationAsync[TResult](Func`3 action, Context context, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Func`5 onRetryAsync, CancellationToken cancellationToken, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at PagueVeloz.Application.Services.TransactionService.ProcessTransactionAsync(TransactionModel dto, String idempotencyKey) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Application\Services\TransactionService.cs:line 38
   at TransactionController.Transfer(TransferCreateDto dto) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api\Controllers\TransactionController.cs:line 135
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at RequestTimingMiddleware.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\RequestTiming.cs:line 23
   at PagueVeloz.Shared.Middlewares.RequestLog.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\RequestLog.cs:line 28
   at ExceptionHandlingMiddleware.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\ExceptionHandling.cs:line 22
2025-12-03 08:27:55.916 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Transaction/transferencia - 400 null application/json 17247.5772ms
2025-12-03 08:28:12.676 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction/transferencia - application/json 191
2025-12-03 08:28:12.681 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction/transferencia'
2025-12-03 08:28:12.683 -03:00 [DBG] Endpoint 'TransactionController.Transfer (PagueVeloz.Api)' with route pattern 'api/Transaction/transferencia' is valid for the request path '/api/Transaction/transferencia'
2025-12-03 08:28:12.686 -03:00 [DBG] Request matched endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 08:28:12.689 -03:00 [INF] [REQUEST] POST /api/Transaction/transferencia CorrelationId="b3a65d45-b487-43de-8a64-02e779f2e99f"
2025-12-03 08:28:12.693 -03:00 [INF] Request started: POST /api/Transaction/transferencia TraceId=0HNHIBQ7NA2H9:0000000D
2025-12-03 08:28:12.696 -03:00 [INF] Executing endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 08:28:12.699 -03:00 [INF] Route matched with {action = "Transfer", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Transfer(PagueVeloz.API.DTOs.TransferCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 08:28:12.703 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 08:28:12.707 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 08:28:12.710 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 08:28:12.715 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 08:28:12.719 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 08:28:12.722 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 08:28:12.731 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 08:28:12.735 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' ...
2025-12-03 08:28:12.737 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' using the name '' in request data ...
2025-12-03 08:28:12.741 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 08:28:12.743 -03:00 [DBG] Connection id "0HNHIBQ7NA2H9", Request id "0HNHIBQ7NA2H9:0000000D": started reading request body.
2025-12-03 08:28:12.747 -03:00 [DBG] Connection id "0HNHIBQ7NA2H9", Request id "0HNHIBQ7NA2H9:0000000D": done reading request body.
2025-12-03 08:28:12.750 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.API.DTOs.TransferCreateDto'
2025-12-03 08:28:12.753 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 08:28:12.757 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 08:28:12.760 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' ...
2025-12-03 08:28:12.766 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 08:28:12.769 -03:00 [INF] Recebida solicitação de movimentação do tipo: {dto.Operation} .
2025-12-03 08:28:12.771 -03:00 [WRN] Idempotency-Key não enviada, gerando uma aleatória.
2025-12-03 08:28:12.773 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: 8e97bfc2-a388-46ea-aa04-5ebd9228929b
2025-12-03 08:28:15.787 -03:00 [DBG] Iniciando INSERT de Transação "1f1f712c-3c3e-4fdf-9623-94c813e59887"
2025-12-03 08:28:15.899 -03:00 [WRN] Tentativa 1 falhou. Esperando "00:00:02" antes de tentar novamente. Erro: Este SqlTransaction foi concluído; ele não pode mais ser usado.
2025-12-03 08:28:17.912 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: 8e97bfc2-a388-46ea-aa04-5ebd9228929b
2025-12-03 08:28:17.981 -03:00 [WRN] Tentativa 2 falhou. Esperando "00:00:04" antes de tentar novamente. Erro: Transação já foi realizada.
2025-12-03 08:28:21.994 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: 8e97bfc2-a388-46ea-aa04-5ebd9228929b
2025-12-03 08:28:22.064 -03:00 [WRN] Tentativa 3 falhou. Esperando "00:00:08" antes de tentar novamente. Erro: Transação já foi realizada.
2025-12-03 08:28:30.077 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: 8e97bfc2-a388-46ea-aa04-5ebd9228929b
2025-12-03 08:28:31.055 -03:00 [INF] Executed action TransactionController.Transfer (PagueVeloz.Api) in 18333.0422ms
2025-12-03 08:28:31.347 -03:00 [INF] Executed endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 08:28:32.291 -03:00 [ERR] Erro capturado globalmente. TraceId: 00-a067d5f1a6f7e1690f6ca9b7696a1a4d-d8595a2ec5eff563-00
PagueVeloz.Shared.Middlewares.BusinessException: Transação já foi realizada.
   at PagueVeloz.Application.Services.TransactionService.<>c__DisplayClass5_0.<<ProcessTransactionAsync>b__0>d.MoveNext() in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Application\Services\TransactionService.cs:line 51
--- End of stack trace from previous location ---
   at Polly.Retry.AsyncRetryEngine.ImplementationAsync[TResult](Func`3 action, Context context, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Func`5 onRetryAsync, CancellationToken cancellationToken, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at PagueVeloz.Application.Services.TransactionService.ProcessTransactionAsync(TransactionModel dto, String idempotencyKey) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Application\Services\TransactionService.cs:line 38
   at TransactionController.Transfer(TransferCreateDto dto) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api\Controllers\TransactionController.cs:line 135
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at RequestTimingMiddleware.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\RequestTiming.cs:line 23
   at PagueVeloz.Shared.Middlewares.RequestLog.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\RequestLog.cs:line 28
   at ExceptionHandlingMiddleware.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\ExceptionHandling.cs:line 22
2025-12-03 08:28:32.302 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Transaction/transferencia - 400 null application/json 19626.4138ms
2025-12-03 08:30:15.028 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction/transferencia - application/json 191
2025-12-03 08:30:15.041 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction/transferencia'
2025-12-03 08:30:15.044 -03:00 [DBG] Endpoint 'TransactionController.Transfer (PagueVeloz.Api)' with route pattern 'api/Transaction/transferencia' is valid for the request path '/api/Transaction/transferencia'
2025-12-03 08:30:15.048 -03:00 [DBG] Request matched endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 08:30:15.051 -03:00 [INF] [REQUEST] POST /api/Transaction/transferencia CorrelationId="be2c2f11-c9e1-4a4f-8795-29f3201b6581"
2025-12-03 08:30:15.055 -03:00 [INF] Request started: POST /api/Transaction/transferencia TraceId=0HNHIBQ7NA2H9:0000000F
2025-12-03 08:30:15.058 -03:00 [INF] Executing endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 08:30:15.061 -03:00 [INF] Route matched with {action = "Transfer", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Transfer(PagueVeloz.API.DTOs.TransferCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 08:30:15.065 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 08:30:15.069 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 08:30:15.073 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 08:30:15.077 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 08:30:15.080 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 08:30:15.083 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 08:30:15.086 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 08:30:15.089 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' ...
2025-12-03 08:30:15.092 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' using the name '' in request data ...
2025-12-03 08:30:15.096 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 08:30:15.099 -03:00 [DBG] Connection id "0HNHIBQ7NA2H9", Request id "0HNHIBQ7NA2H9:0000000F": started reading request body.
2025-12-03 08:30:15.102 -03:00 [DBG] Connection id "0HNHIBQ7NA2H9", Request id "0HNHIBQ7NA2H9:0000000F": done reading request body.
2025-12-03 08:30:15.105 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.API.DTOs.TransferCreateDto'
2025-12-03 08:30:15.108 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 08:30:15.112 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 08:30:15.115 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' ...
2025-12-03 08:30:15.119 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 08:30:15.122 -03:00 [INF] Recebida solicitação de movimentação do tipo: {dto.Operation} .
2025-12-03 08:30:15.125 -03:00 [WRN] Idempotency-Key não enviada, gerando uma aleatória.
2025-12-03 08:30:20.848 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: cbf95e30-47b3-4b83-9f89-fed6532ae041
2025-12-03 08:30:45.813 -03:00 [DBG] Iniciando INSERT de Transação "1f1f712c-3c3e-4fdf-9623-94c813e59887"
2025-12-03 08:31:00.361 -03:00 [WRN] Tentativa 1 falhou. Esperando "00:00:02" antes de tentar novamente. Erro: Este SqlTransaction foi concluído; ele não pode mais ser usado.
2025-12-03 08:31:02.369 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: cbf95e30-47b3-4b83-9f89-fed6532ae041
2025-12-03 08:38:44.593 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-12-03 08:38:45.700 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:38:45.706 -03:00 [WRN] No store type was specified for the decimal property 'CreditLimit' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:38:45.709 -03:00 [WRN] No store type was specified for the decimal property 'ReservedBalance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:38:45.713 -03:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:38:45.717 -03:00 [WRN] No store type was specified for the decimal property 'AvailableBalance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:38:45.720 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:38:45.845 -03:00 [DBG] Entity Framework Core 9.0.11 initialized 'PagueVelozDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.11' with options: EngineType=SqlServer 
2025-12-03 08:38:45.867 -03:00 [DBG] Creating DbConnection.
2025-12-03 08:38:45.925 -03:00 [DBG] Created DbConnection. (55ms).
2025-12-03 08:38:45.933 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:38:46.236 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:38:46.250 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-12-03 08:38:46.260 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (11ms).
2025-12-03 08:38:46.266 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (21ms).
2025-12-03 08:38:46.275 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 08:38:46.319 -03:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 08:38:46.326 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:38:46.339 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (9ms).
2025-12-03 08:38:46.344 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-12-03 08:38:46.348 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2025-12-03 08:38:46.350 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (6ms).
2025-12-03 08:38:46.353 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:38:46.357 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:38:46.361 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 08:38:46.401 -03:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 08:38:46.406 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:38:46.411 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (4ms).
2025-12-03 08:38:46.415 -03:00 [DBG] 'PagueVelozDbContext' disposed.
2025-12-03 08:38:46.421 -03:00 [DBG] Disposing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:38:46.426 -03:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-12-03 08:38:46.619 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-12-03 08:38:46.714 -03:00 [DBG] Hosting starting
2025-12-03 08:38:46.748 -03:00 [DBG] Middleware loaded
2025-12-03 08:38:46.755 -03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16513 B).
2025-12-03 08:38:46.759 -03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-12-03 08:38:46.868 -03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-12-03 08:38:46.873 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-12-03 08:38:46.891 -03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-12-03 08:38:47.095 -03:00 [INF] Now listening on: https://localhost:7249
2025-12-03 08:38:47.098 -03:00 [INF] Now listening on: http://localhost:5247
2025-12-03 08:38:47.100 -03:00 [DBG] Loaded hosting startup assembly PagueVeloz.Api
2025-12-03 08:38:47.102 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-12-03 08:38:47.105 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-12-03 08:38:47.108 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-12-03 08:38:47.129 -03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 08:38:47.133 -03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 08:38:47.345 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-03 08:38:47.347 -03:00 [INF] Hosting environment: Development
2025-12-03 08:38:47.349 -03:00 [INF] Content root path: E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api
2025-12-03 08:38:47.351 -03:00 [DBG] Hosting started
2025-12-03 08:38:58.503 -03:00 [DBG] Connection id "0HNHIC264HQGD" accepted.
2025-12-03 08:38:58.517 -03:00 [DBG] Connection id "0HNHIC264HQGD" started.
2025-12-03 08:38:58.587 -03:00 [DBG] Connection 0HNHIC264HQGD established using the following protocol: "Tls13"
2025-12-03 08:38:58.674 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/swagger/index.html - null null
2025-12-03 08:38:58.873 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-12-03 08:38:58.876 -03:00 [DBG] Request did not match any endpoints
2025-12-03 08:38:58.975 -03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-12-03 08:38:58.979 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-12-03 08:38:58.991 -03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-12-03 08:38:58.995 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-12-03 08:38:59.004 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/swagger/index.html - 200 null text/html;charset=utf-8 336.3005ms
2025-12-03 08:38:59.050 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/_framework/aspnetcore-browser-refresh.js - null null
2025-12-03 08:38:59.050 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/_vs/browserLink - null null
2025-12-03 08:38:59.084 -03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-12-03 08:38:59.088 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 37.7289ms
2025-12-03 08:38:59.134 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/_vs/browserLink - 200 null text/javascript; charset=UTF-8 83.247ms
2025-12-03 08:38:59.470 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/swagger/v1/swagger.json - null null
2025-12-03 08:38:59.494 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-12-03 08:38:59.497 -03:00 [DBG] Request did not match any endpoints
2025-12-03 08:38:59.536 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 65.5361ms
2025-12-03 08:39:07.697 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction/transferencia - application/json 191
2025-12-03 08:39:07.718 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction/transferencia'
2025-12-03 08:39:07.723 -03:00 [DBG] Endpoint 'TransactionController.Transfer (PagueVeloz.Api)' with route pattern 'api/Transaction/transferencia' is valid for the request path '/api/Transaction/transferencia'
2025-12-03 08:39:07.727 -03:00 [DBG] Request matched endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 08:39:07.749 -03:00 [INF] [REQUEST] POST /api/Transaction/transferencia CorrelationId="b536281d-689e-4f1f-8168-8a967201b061"
2025-12-03 08:39:07.756 -03:00 [INF] Request started: POST /api/Transaction/transferencia TraceId=0HNHIC264HQGD:00000009
2025-12-03 08:39:07.762 -03:00 [INF] Executing endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 08:39:07.799 -03:00 [INF] Route matched with {action = "Transfer", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Transfer(PagueVeloz.API.DTOs.TransferCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 08:39:07.806 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 08:39:07.810 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 08:39:07.815 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 08:39:07.819 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 08:39:07.823 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 08:39:07.834 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 08:39:07.841 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 08:39:07.858 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' ...
2025-12-03 08:39:07.864 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' using the name '' in request data ...
2025-12-03 08:39:07.869 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 08:39:07.887 -03:00 [DBG] Connection id "0HNHIC264HQGD", Request id "0HNHIC264HQGD:00000009": started reading request body.
2025-12-03 08:39:07.891 -03:00 [DBG] Connection id "0HNHIC264HQGD", Request id "0HNHIC264HQGD:00000009": done reading request body.
2025-12-03 08:39:07.914 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.API.DTOs.TransferCreateDto'
2025-12-03 08:39:07.916 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 08:39:07.920 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 08:39:07.922 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' ...
2025-12-03 08:39:07.999 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 08:39:08.007 -03:00 [INF] Recebida solicitação de movimentação do tipo: {dto.Operation} .
2025-12-03 08:39:08.009 -03:00 [WRN] Idempotency-Key não enviada, gerando uma aleatória.
2025-12-03 08:39:08.036 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: d45dca9a-af6e-4553-9eb5-3bd5d079c368
2025-12-03 08:39:08.320 -03:00 [WRN] Tentativa 1 falhou. Esperando "00:00:02" antes de tentar novamente. Erro: Transação já foi realizada.
2025-12-03 08:39:10.330 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: d45dca9a-af6e-4553-9eb5-3bd5d079c368
2025-12-03 08:39:10.407 -03:00 [WRN] Tentativa 2 falhou. Esperando "00:00:04" antes de tentar novamente. Erro: Transação já foi realizada.
2025-12-03 08:39:14.413 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: d45dca9a-af6e-4553-9eb5-3bd5d079c368
2025-12-03 08:39:14.524 -03:00 [WRN] Tentativa 3 falhou. Esperando "00:00:08" antes de tentar novamente. Erro: Transação já foi realizada.
2025-12-03 08:39:22.529 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: d45dca9a-af6e-4553-9eb5-3bd5d079c368
2025-12-03 08:39:23.655 -03:00 [INF] Executed action TransactionController.Transfer (PagueVeloz.Api) in 15821.4698ms
2025-12-03 08:39:23.967 -03:00 [INF] Executed endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 08:39:25.053 -03:00 [ERR] Erro capturado globalmente. TraceId: 00-0313915a731833b3b4bac9db5ec23461-cb5950f5310f82ee-00
PagueVeloz.Shared.Middlewares.BusinessException: Transação já foi realizada.
   at PagueVeloz.Application.Services.TransactionService.<>c__DisplayClass5_0.<<ProcessTransactionAsync>b__0>d.MoveNext() in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Application\Services\TransactionService.cs:line 51
--- End of stack trace from previous location ---
   at Polly.Retry.AsyncRetryEngine.ImplementationAsync[TResult](Func`3 action, Context context, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Func`5 onRetryAsync, CancellationToken cancellationToken, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at PagueVeloz.Application.Services.TransactionService.ProcessTransactionAsync(TransactionModel dto, String idempotencyKey) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Application\Services\TransactionService.cs:line 38
   at TransactionController.Transfer(TransferCreateDto dto) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api\Controllers\TransactionController.cs:line 135
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at RequestTimingMiddleware.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\RequestTiming.cs:line 23
   at PagueVeloz.Shared.Middlewares.RequestLog.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\RequestLog.cs:line 28
   at ExceptionHandlingMiddleware.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\ExceptionHandling.cs:line 22
2025-12-03 08:39:25.091 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Transaction/transferencia - 400 null application/json 17393.351ms
2025-12-03 08:40:27.312 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction/transferencia - application/json 191
2025-12-03 08:40:27.326 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction/transferencia'
2025-12-03 08:40:27.329 -03:00 [DBG] Endpoint 'TransactionController.Transfer (PagueVeloz.Api)' with route pattern 'api/Transaction/transferencia' is valid for the request path '/api/Transaction/transferencia'
2025-12-03 08:40:27.332 -03:00 [DBG] Request matched endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 08:40:27.334 -03:00 [INF] [REQUEST] POST /api/Transaction/transferencia CorrelationId="772cc600-2830-48f0-8c55-e20aa5174666"
2025-12-03 08:40:27.337 -03:00 [INF] Request started: POST /api/Transaction/transferencia TraceId=0HNHIC264HQGD:0000000B
2025-12-03 08:40:27.340 -03:00 [INF] Executing endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 08:40:27.342 -03:00 [INF] Route matched with {action = "Transfer", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Transfer(PagueVeloz.API.DTOs.TransferCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 08:40:27.346 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 08:40:27.350 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 08:40:27.353 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 08:40:27.356 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 08:40:27.359 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 08:40:27.363 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 08:40:27.367 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 08:40:27.370 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' ...
2025-12-03 08:40:27.373 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' using the name '' in request data ...
2025-12-03 08:40:27.377 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 08:40:27.380 -03:00 [DBG] Connection id "0HNHIC264HQGD", Request id "0HNHIC264HQGD:0000000B": started reading request body.
2025-12-03 08:40:27.383 -03:00 [DBG] Connection id "0HNHIC264HQGD", Request id "0HNHIC264HQGD:0000000B": done reading request body.
2025-12-03 08:40:27.387 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.API.DTOs.TransferCreateDto'
2025-12-03 08:40:27.389 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 08:40:27.393 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 08:40:27.396 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' ...
2025-12-03 08:40:27.400 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 08:40:27.403 -03:00 [INF] Recebida solicitação de movimentação do tipo: {dto.Operation} .
2025-12-03 08:40:27.406 -03:00 [WRN] Idempotency-Key não enviada, gerando uma aleatória.
2025-12-03 08:40:27.408 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: ef3c828d-2c39-4ba3-9f47-05636bab98de
2025-12-03 08:40:37.878 -03:00 [DBG] Iniciando INSERT de Transação "1f1f712c-3c3e-4fdf-9623-94c813e59887"
2025-12-03 08:40:37.896 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-03 08:40:37.902 -03:00 [DBG] No information found on request to perform content negotiation.
2025-12-03 08:40:37.905 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-12-03 08:40:37.907 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-12-03 08:40:37.910 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-12-03 08:40:37.913 -03:00 [INF] Executing OkObjectResult, writing value of type 'PagueVeloz.Domain.Entities.TransactionModel'.
2025-12-03 08:40:37.950 -03:00 [INF] Executed action TransactionController.Transfer (PagueVeloz.Api) in 10586.1413ms
2025-12-03 08:40:37.954 -03:00 [INF] Executed endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 08:40:37.956 -03:00 [INF] Request finished: POST /api/Transaction/transferencia StatusCode=200 TraceId=0HNHIC264HQGD:0000000B Elapsed=10618ms
2025-12-03 08:40:37.961 -03:00 [INF] [RESPONSE] POST /api/Transaction/transferencia 200 10625ms CorrelationId="772cc600-2830-48f0-8c55-e20aa5174666"
2025-12-03 08:40:37.966 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Transaction/transferencia - 200 null application/json; charset=utf-8 10654.0045ms
2025-12-03 08:47:40.307 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-12-03 08:47:41.286 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:47:41.291 -03:00 [WRN] No store type was specified for the decimal property 'CreditLimit' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:47:41.294 -03:00 [WRN] No store type was specified for the decimal property 'ReservedBalance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:47:41.297 -03:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:47:41.300 -03:00 [WRN] No store type was specified for the decimal property 'AvailableBalance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:47:41.303 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:47:41.424 -03:00 [DBG] Entity Framework Core 9.0.11 initialized 'PagueVelozDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.11' with options: EngineType=SqlServer 
2025-12-03 08:47:41.450 -03:00 [DBG] Creating DbConnection.
2025-12-03 08:47:41.514 -03:00 [DBG] Created DbConnection. (61ms).
2025-12-03 08:47:41.522 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:47:41.810 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:47:41.822 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-12-03 08:47:41.832 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (10ms).
2025-12-03 08:47:41.837 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (19ms).
2025-12-03 08:47:41.848 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 08:47:41.898 -03:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 08:47:41.905 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:47:41.919 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (8ms).
2025-12-03 08:47:41.924 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-12-03 08:47:41.926 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2025-12-03 08:47:41.929 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (5ms).
2025-12-03 08:47:41.932 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:47:41.936 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:47:41.940 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 08:47:41.975 -03:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 08:47:41.980 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:47:41.984 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (3ms).
2025-12-03 08:47:41.989 -03:00 [DBG] 'PagueVelozDbContext' disposed.
2025-12-03 08:47:41.992 -03:00 [DBG] Disposing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:47:41.995 -03:00 [DBG] Disposed connection to database '' on server '' (3ms).
2025-12-03 08:47:42.191 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-12-03 08:47:42.278 -03:00 [DBG] Hosting starting
2025-12-03 08:47:42.308 -03:00 [DBG] Middleware loaded
2025-12-03 08:47:42.313 -03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16513 B).
2025-12-03 08:47:42.318 -03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-12-03 08:47:42.411 -03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-12-03 08:47:42.416 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-12-03 08:47:42.433 -03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-12-03 08:47:42.599 -03:00 [INF] Now listening on: https://localhost:7249
2025-12-03 08:47:42.601 -03:00 [INF] Now listening on: http://localhost:5247
2025-12-03 08:47:42.603 -03:00 [DBG] Loaded hosting startup assembly PagueVeloz.Api
2025-12-03 08:47:42.606 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-12-03 08:47:42.608 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-12-03 08:47:42.610 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-12-03 08:47:42.624 -03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 08:47:42.628 -03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 08:47:42.797 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-03 08:47:42.799 -03:00 [INF] Hosting environment: Development
2025-12-03 08:47:42.802 -03:00 [INF] Content root path: E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api
2025-12-03 08:47:42.804 -03:00 [DBG] Hosting started
2025-12-03 08:49:16.027 -03:00 [DBG] Connection id "0HNHIC7U5N5R3" accepted.
2025-12-03 08:49:16.071 -03:00 [DBG] Connection id "0HNHIC7U5N5R3" started.
2025-12-03 08:49:16.151 -03:00 [DBG] Connection 0HNHIC7U5N5R3 established using the following protocol: "Tls13"
2025-12-03 08:49:16.239 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/swagger/index.html - null null
2025-12-03 08:49:16.422 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-12-03 08:49:16.426 -03:00 [DBG] Request did not match any endpoints
2025-12-03 08:49:16.523 -03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-12-03 08:49:16.528 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-12-03 08:49:16.538 -03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-12-03 08:49:16.541 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-12-03 08:49:16.553 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/swagger/index.html - 200 null text/html;charset=utf-8 320.3987ms
2025-12-03 08:49:16.598 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/_framework/aspnetcore-browser-refresh.js - null null
2025-12-03 08:49:16.598 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/_vs/browserLink - null null
2025-12-03 08:49:16.635 -03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-12-03 08:49:16.643 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 45.0912ms
2025-12-03 08:49:16.689 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/_vs/browserLink - 200 null text/javascript; charset=UTF-8 91.0993ms
2025-12-03 08:49:17.055 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/swagger/v1/swagger.json - null null
2025-12-03 08:49:17.062 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-12-03 08:49:17.065 -03:00 [DBG] Request did not match any endpoints
2025-12-03 08:49:17.103 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 48.9012ms
2025-12-03 08:49:53.332 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Account/CriarConta - application/json 98
2025-12-03 08:49:53.347 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Account/CriarConta'
2025-12-03 08:49:53.350 -03:00 [DBG] Endpoint 'PagueVeloz.Api.Controllers.AccountController.CriarConta (PagueVeloz.Api)' with route pattern 'api/Account/CriarConta' is valid for the request path '/api/Account/CriarConta'
2025-12-03 08:49:53.354 -03:00 [DBG] Request matched endpoint 'PagueVeloz.Api.Controllers.AccountController.CriarConta (PagueVeloz.Api)'
2025-12-03 08:49:53.374 -03:00 [INF] [REQUEST] POST /api/Account/CriarConta CorrelationId="ed671007-9c88-4ec3-b307-c47c6ef11b4c"
2025-12-03 08:49:53.381 -03:00 [INF] Request started: POST /api/Account/CriarConta TraceId=0HNHIC7U5N5R3:00000009
2025-12-03 08:49:53.386 -03:00 [INF] Executing endpoint 'PagueVeloz.Api.Controllers.AccountController.CriarConta (PagueVeloz.Api)'
2025-12-03 08:49:53.413 -03:00 [INF] Route matched with {action = "CriarConta", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CriarConta(PagueVeloz.Api.DTOs.AccountCreateDto) on controller PagueVeloz.Api.Controllers.AccountController (PagueVeloz.Api).
2025-12-03 08:49:53.420 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 08:49:53.423 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 08:49:53.426 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 08:49:53.430 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 08:49:53.433 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 08:49:53.438 -03:00 [DBG] Executing controller factory for controller PagueVeloz.Api.Controllers.AccountController (PagueVeloz.Api)
2025-12-03 08:49:53.443 -03:00 [DBG] Executed controller factory for controller PagueVeloz.Api.Controllers.AccountController (PagueVeloz.Api)
2025-12-03 08:49:53.460 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.Api.DTOs.AccountCreateDto' ...
2025-12-03 08:49:53.467 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.Api.DTOs.AccountCreateDto' using the name '' in request data ...
2025-12-03 08:49:53.482 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 08:49:53.500 -03:00 [DBG] Connection id "0HNHIC7U5N5R3", Request id "0HNHIC7U5N5R3:00000009": started reading request body.
2025-12-03 08:49:53.503 -03:00 [DBG] Connection id "0HNHIC7U5N5R3", Request id "0HNHIC7U5N5R3:00000009": done reading request body.
2025-12-03 08:49:53.728 -03:00 [DBG] JSON input formatter threw an exception: The JSON value could not be converted to System.Int64. Path: $.creditLimit | LineNumber: 4 | BytePositionInLine: 24.
2025-12-03 08:49:53.731 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.Api.DTOs.AccountCreateDto'.
2025-12-03 08:49:53.734 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.Api.DTOs.AccountCreateDto'.
2025-12-03 08:49:53.736 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.Api.DTOs.AccountCreateDto' ...
2025-12-03 08:49:53.750 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.Api.DTOs.AccountCreateDto'.
2025-12-03 08:49:53.754 -03:00 [DBG] The request has model state errors, returning an error response.
2025-12-03 08:49:53.756 -03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-12-03 08:49:53.761 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-03 08:49:53.768 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-12-03 08:49:53.775 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-12-03 08:49:53.778 -03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-12-03 08:49:53.784 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-12-03 08:49:53.788 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-03 08:49:53.823 -03:00 [INF] Executed action PagueVeloz.Api.Controllers.AccountController.CriarConta (PagueVeloz.Api) in 382.3073ms
2025-12-03 08:49:53.826 -03:00 [INF] Executed endpoint 'PagueVeloz.Api.Controllers.AccountController.CriarConta (PagueVeloz.Api)'
2025-12-03 08:49:53.829 -03:00 [INF] Request finished: POST /api/Account/CriarConta StatusCode=400 TraceId=0HNHIC7U5N5R3:00000009 Elapsed=448ms
2025-12-03 08:49:53.834 -03:00 [INF] [RESPONSE] POST /api/Account/CriarConta 400 460ms CorrelationId="ed671007-9c88-4ec3-b307-c47c6ef11b4c"
2025-12-03 08:49:53.838 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Account/CriarConta - 400 null application/problem+json; charset=utf-8 506.8547ms
2025-12-03 08:50:21.619 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Account/CriarConta - application/json 95
2025-12-03 08:50:21.635 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Account/CriarConta'
2025-12-03 08:50:21.639 -03:00 [DBG] Endpoint 'PagueVeloz.Api.Controllers.AccountController.CriarConta (PagueVeloz.Api)' with route pattern 'api/Account/CriarConta' is valid for the request path '/api/Account/CriarConta'
2025-12-03 08:50:21.642 -03:00 [DBG] Request matched endpoint 'PagueVeloz.Api.Controllers.AccountController.CriarConta (PagueVeloz.Api)'
2025-12-03 08:50:21.645 -03:00 [INF] [REQUEST] POST /api/Account/CriarConta CorrelationId="7ddc0904-021b-483c-b514-18a45c55e6f1"
2025-12-03 08:50:21.649 -03:00 [INF] Request started: POST /api/Account/CriarConta TraceId=0HNHIC7U5N5R3:0000000B
2025-12-03 08:50:21.653 -03:00 [INF] Executing endpoint 'PagueVeloz.Api.Controllers.AccountController.CriarConta (PagueVeloz.Api)'
2025-12-03 08:50:21.656 -03:00 [INF] Route matched with {action = "CriarConta", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CriarConta(PagueVeloz.Api.DTOs.AccountCreateDto) on controller PagueVeloz.Api.Controllers.AccountController (PagueVeloz.Api).
2025-12-03 08:50:21.660 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 08:50:21.664 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 08:50:21.667 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 08:50:21.671 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 08:50:21.675 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 08:50:21.679 -03:00 [DBG] Executing controller factory for controller PagueVeloz.Api.Controllers.AccountController (PagueVeloz.Api)
2025-12-03 08:50:21.682 -03:00 [DBG] Executed controller factory for controller PagueVeloz.Api.Controllers.AccountController (PagueVeloz.Api)
2025-12-03 08:50:21.686 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.Api.DTOs.AccountCreateDto' ...
2025-12-03 08:50:21.690 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.Api.DTOs.AccountCreateDto' using the name '' in request data ...
2025-12-03 08:50:21.693 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 08:50:21.696 -03:00 [DBG] Connection id "0HNHIC7U5N5R3", Request id "0HNHIC7U5N5R3:0000000B": started reading request body.
2025-12-03 08:50:21.700 -03:00 [DBG] Connection id "0HNHIC7U5N5R3", Request id "0HNHIC7U5N5R3:0000000B": done reading request body.
2025-12-03 08:50:21.705 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.Api.DTOs.AccountCreateDto'
2025-12-03 08:50:21.708 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.Api.DTOs.AccountCreateDto'.
2025-12-03 08:50:21.712 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.Api.DTOs.AccountCreateDto'.
2025-12-03 08:50:21.715 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.Api.DTOs.AccountCreateDto' ...
2025-12-03 08:50:21.788 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.Api.DTOs.AccountCreateDto'.
2025-12-03 08:50:21.795 -03:00 [INF] Recebida solicitação de criação de conta.
2025-12-03 08:50:21.798 -03:00 [WRN] Idempotency-Key não enviada, gerando uma aleatória.
2025-12-03 08:50:21.802 -03:00 [INF] Iniciando abertura de conta.
2025-12-03 08:50:21.957 -03:00 [INF] [AUDIT] Conta criada com sucesso:
2025-12-03 08:50:21.971 -03:00 [DBG] Iniciando INSERT de conta {"AccountId":"117bda12-51f0-45ec-a163-686445f5b687","AccountNumber":"CC-0001","Balance":0,"ReservedBalance":0,"CreditLimit":1000,"Status":"Active","CreatedAt":"2025-12-03T11:50:21.9567618Z","UpdatedAt":"2025-12-03T11:50:21.9568470Z","RowVersion":null,"$type":"AccountModel"}
2025-12-03 08:50:22.028 -03:00 [INF] Conta CC-0001 criada com sucesso.
2025-12-03 08:50:22.085 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-03 08:50:22.091 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-12-03 08:50:22.095 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-12-03 08:50:22.099 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-12-03 08:50:22.102 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-12-03 08:50:22.105 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-12-03 08:50:22.108 -03:00 [INF] Executing OkObjectResult, writing value of type 'AccountResponseDto'.
2025-12-03 08:50:22.116 -03:00 [INF] Executed action PagueVeloz.Api.Controllers.AccountController.CriarConta (PagueVeloz.Api) in 436.7951ms
2025-12-03 08:50:22.120 -03:00 [INF] Executed endpoint 'PagueVeloz.Api.Controllers.AccountController.CriarConta (PagueVeloz.Api)'
2025-12-03 08:50:22.123 -03:00 [INF] Request finished: POST /api/Account/CriarConta StatusCode=200 TraceId=0HNHIC7U5N5R3:0000000B Elapsed=474ms
2025-12-03 08:50:22.128 -03:00 [INF] [RESPONSE] POST /api/Account/CriarConta 200 483ms CorrelationId="7ddc0904-021b-483c-b514-18a45c55e6f1"
2025-12-03 08:50:22.133 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Account/CriarConta - 200 null application/json; charset=utf-8 514.6778ms
2025-12-03 08:51:41.313 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-12-03 08:51:42.304 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:51:42.309 -03:00 [WRN] No store type was specified for the decimal property 'CreditLimit' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:51:42.313 -03:00 [WRN] No store type was specified for the decimal property 'ReservedBalance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:51:42.316 -03:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:51:42.319 -03:00 [WRN] No store type was specified for the decimal property 'AvailableBalance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:51:42.322 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 08:51:42.459 -03:00 [DBG] Entity Framework Core 9.0.11 initialized 'PagueVelozDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.11' with options: EngineType=SqlServer 
2025-12-03 08:51:42.484 -03:00 [DBG] Creating DbConnection.
2025-12-03 08:51:42.545 -03:00 [DBG] Created DbConnection. (57ms).
2025-12-03 08:51:42.552 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:51:42.929 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:51:42.943 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-12-03 08:51:42.953 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (12ms).
2025-12-03 08:51:42.958 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (20ms).
2025-12-03 08:51:42.970 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 08:51:43.014 -03:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 08:51:43.023 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:51:43.039 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (10ms).
2025-12-03 08:51:43.046 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-12-03 08:51:43.049 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2025-12-03 08:51:43.051 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (5ms).
2025-12-03 08:51:43.053 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:51:43.057 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:51:43.061 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 08:51:43.105 -03:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 08:51:43.110 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:51:43.115 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (4ms).
2025-12-03 08:51:43.121 -03:00 [DBG] 'PagueVelozDbContext' disposed.
2025-12-03 08:51:43.127 -03:00 [DBG] Disposing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 08:51:43.133 -03:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-12-03 08:51:43.323 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-12-03 08:51:43.418 -03:00 [DBG] Hosting starting
2025-12-03 08:51:43.449 -03:00 [DBG] Middleware loaded
2025-12-03 08:51:43.454 -03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16513 B).
2025-12-03 08:51:43.459 -03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-12-03 08:51:43.557 -03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-12-03 08:51:43.564 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-12-03 08:51:43.578 -03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-12-03 08:51:43.761 -03:00 [INF] Now listening on: https://localhost:7249
2025-12-03 08:51:43.764 -03:00 [INF] Now listening on: http://localhost:5247
2025-12-03 08:51:43.765 -03:00 [DBG] Loaded hosting startup assembly PagueVeloz.Api
2025-12-03 08:51:43.767 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-12-03 08:51:43.769 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-12-03 08:51:43.771 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-12-03 08:51:43.785 -03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 08:51:43.790 -03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 08:51:44.220 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-03 08:51:44.222 -03:00 [INF] Hosting environment: Development
2025-12-03 08:51:44.225 -03:00 [INF] Content root path: E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api
2025-12-03 08:51:44.227 -03:00 [DBG] Hosting started
2025-12-03 08:51:55.471 -03:00 [DBG] Connection id "0HNHIC9DM9S66" accepted.
2025-12-03 08:51:55.488 -03:00 [DBG] Connection id "0HNHIC9DM9S66" started.
2025-12-03 08:51:55.559 -03:00 [DBG] Connection 0HNHIC9DM9S66 established using the following protocol: "Tls13"
2025-12-03 08:51:55.644 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/swagger/index.html - null null
2025-12-03 08:51:55.827 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-12-03 08:51:55.831 -03:00 [DBG] Request did not match any endpoints
2025-12-03 08:51:55.932 -03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-12-03 08:51:55.937 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-12-03 08:51:55.949 -03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-12-03 08:51:55.955 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-12-03 08:51:55.966 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/swagger/index.html - 200 null text/html;charset=utf-8 329.8502ms
2025-12-03 08:51:56.013 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/_framework/aspnetcore-browser-refresh.js - null null
2025-12-03 08:51:56.013 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/_vs/browserLink - null null
2025-12-03 08:51:56.047 -03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-12-03 08:51:56.057 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 43.5293ms
2025-12-03 08:51:56.104 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/_vs/browserLink - 200 null text/javascript; charset=UTF-8 90.8149ms
2025-12-03 08:51:56.453 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/swagger/v1/swagger.json - null null
2025-12-03 08:51:56.467 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-12-03 08:51:56.470 -03:00 [DBG] Request did not match any endpoints
2025-12-03 08:51:56.507 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 53.9981ms
2025-12-03 08:52:28.850 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Account/CriarConta - application/json 92
2025-12-03 08:52:28.898 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Account/CriarConta'
2025-12-03 08:52:28.902 -03:00 [DBG] Endpoint 'PagueVeloz.Api.Controllers.AccountController.CriarConta (PagueVeloz.Api)' with route pattern 'api/Account/CriarConta' is valid for the request path '/api/Account/CriarConta'
2025-12-03 08:52:28.905 -03:00 [DBG] Request matched endpoint 'PagueVeloz.Api.Controllers.AccountController.CriarConta (PagueVeloz.Api)'
2025-12-03 08:52:28.926 -03:00 [INF] [REQUEST] POST /api/Account/CriarConta CorrelationId="fd4436e5-13dc-4658-8c86-6aee549b2283"
2025-12-03 08:52:28.932 -03:00 [INF] Request started: POST /api/Account/CriarConta TraceId=0HNHIC9DM9S66:00000009
2025-12-03 08:52:28.937 -03:00 [INF] Executing endpoint 'PagueVeloz.Api.Controllers.AccountController.CriarConta (PagueVeloz.Api)'
2025-12-03 08:52:28.967 -03:00 [INF] Route matched with {action = "CriarConta", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CriarConta(PagueVeloz.Api.DTOs.AccountCreateDto) on controller PagueVeloz.Api.Controllers.AccountController (PagueVeloz.Api).
2025-12-03 08:52:28.975 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 08:52:28.979 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 08:52:28.984 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 08:52:28.989 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 08:52:28.994 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 08:52:28.999 -03:00 [DBG] Executing controller factory for controller PagueVeloz.Api.Controllers.AccountController (PagueVeloz.Api)
2025-12-03 08:52:29.004 -03:00 [DBG] Executed controller factory for controller PagueVeloz.Api.Controllers.AccountController (PagueVeloz.Api)
2025-12-03 08:52:29.026 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.Api.DTOs.AccountCreateDto' ...
2025-12-03 08:52:29.032 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.Api.DTOs.AccountCreateDto' using the name '' in request data ...
2025-12-03 08:52:29.037 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 08:52:29.057 -03:00 [DBG] Connection id "0HNHIC9DM9S66", Request id "0HNHIC9DM9S66:00000009": started reading request body.
2025-12-03 08:52:29.063 -03:00 [DBG] Connection id "0HNHIC9DM9S66", Request id "0HNHIC9DM9S66:00000009": done reading request body.
2025-12-03 08:52:29.096 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.Api.DTOs.AccountCreateDto'
2025-12-03 08:52:29.100 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.Api.DTOs.AccountCreateDto'.
2025-12-03 08:52:29.102 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.Api.DTOs.AccountCreateDto'.
2025-12-03 08:52:29.105 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.Api.DTOs.AccountCreateDto' ...
2025-12-03 08:52:29.173 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.Api.DTOs.AccountCreateDto'.
2025-12-03 08:52:29.181 -03:00 [INF] Recebida solicitação de criação de conta.
2025-12-03 08:52:29.185 -03:00 [WRN] Idempotency-Key não enviada, gerando uma aleatória.
2025-12-03 08:52:29.189 -03:00 [INF] Iniciando abertura de conta.
2025-12-03 08:52:30.089 -03:00 [INF] Executed action PagueVeloz.Api.Controllers.AccountController.CriarConta (PagueVeloz.Api) in 1086.508ms
2025-12-03 08:52:30.363 -03:00 [INF] Executed endpoint 'PagueVeloz.Api.Controllers.AccountController.CriarConta (PagueVeloz.Api)'
2025-12-03 08:52:31.289 -03:00 [ERR] Erro capturado globalmente. TraceId: 00-e6242575b7b2d5dcccfc0a5e1b583342-9bbc0ce9a10aba53-00
PagueVeloz.Shared.Middlewares.BusinessException: Conta já existe.
   at PagueVeloz.Application.Services.AccountService.CreateAccountAsync(AccountModel account, String idempotencyKey) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Application\Services\AccountService.cs:line 50
   at PagueVeloz.Api.Controllers.AccountController.CriarConta(AccountCreateDto dto) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api\Controllers\AccountController.cs:line 76
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at RequestTimingMiddleware.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\RequestTiming.cs:line 23
   at PagueVeloz.Shared.Middlewares.RequestLog.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\RequestLog.cs:line 28
   at ExceptionHandlingMiddleware.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\ExceptionHandling.cs:line 22
2025-12-03 08:52:31.328 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Account/CriarConta - 400 null application/json 2478.5446ms
2025-12-03 08:52:42.041 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Account/CriarConta - application/json 98
2025-12-03 08:52:42.050 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Account/CriarConta'
2025-12-03 08:52:42.053 -03:00 [DBG] Endpoint 'PagueVeloz.Api.Controllers.AccountController.CriarConta (PagueVeloz.Api)' with route pattern 'api/Account/CriarConta' is valid for the request path '/api/Account/CriarConta'
2025-12-03 08:52:42.057 -03:00 [DBG] Request matched endpoint 'PagueVeloz.Api.Controllers.AccountController.CriarConta (PagueVeloz.Api)'
2025-12-03 08:52:42.061 -03:00 [INF] [REQUEST] POST /api/Account/CriarConta CorrelationId="cb5b39b9-efef-4003-bd7b-3feb41a63a94"
2025-12-03 08:52:42.066 -03:00 [INF] Request started: POST /api/Account/CriarConta TraceId=0HNHIC9DM9S66:0000000B
2025-12-03 08:52:42.070 -03:00 [INF] Executing endpoint 'PagueVeloz.Api.Controllers.AccountController.CriarConta (PagueVeloz.Api)'
2025-12-03 08:52:42.072 -03:00 [INF] Route matched with {action = "CriarConta", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CriarConta(PagueVeloz.Api.DTOs.AccountCreateDto) on controller PagueVeloz.Api.Controllers.AccountController (PagueVeloz.Api).
2025-12-03 08:52:42.078 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 08:52:42.081 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 08:52:42.086 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 08:52:42.090 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 08:52:42.096 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 08:52:42.099 -03:00 [DBG] Executing controller factory for controller PagueVeloz.Api.Controllers.AccountController (PagueVeloz.Api)
2025-12-03 08:52:42.102 -03:00 [DBG] Executed controller factory for controller PagueVeloz.Api.Controllers.AccountController (PagueVeloz.Api)
2025-12-03 08:52:42.107 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.Api.DTOs.AccountCreateDto' ...
2025-12-03 08:52:42.111 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.Api.DTOs.AccountCreateDto' using the name '' in request data ...
2025-12-03 08:52:42.114 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 08:52:42.118 -03:00 [DBG] Connection id "0HNHIC9DM9S66", Request id "0HNHIC9DM9S66:0000000B": started reading request body.
2025-12-03 08:52:42.121 -03:00 [DBG] Connection id "0HNHIC9DM9S66", Request id "0HNHIC9DM9S66:0000000B": done reading request body.
2025-12-03 08:52:42.125 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.Api.DTOs.AccountCreateDto'
2025-12-03 08:52:42.128 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.Api.DTOs.AccountCreateDto'.
2025-12-03 08:52:42.131 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.Api.DTOs.AccountCreateDto'.
2025-12-03 08:52:42.133 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.Api.DTOs.AccountCreateDto' ...
2025-12-03 08:52:42.137 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.Api.DTOs.AccountCreateDto'.
2025-12-03 08:52:42.140 -03:00 [INF] Recebida solicitação de criação de conta.
2025-12-03 08:52:42.143 -03:00 [WRN] Idempotency-Key não enviada, gerando uma aleatória.
2025-12-03 08:52:42.144 -03:00 [INF] Iniciando abertura de conta.
2025-12-03 08:52:42.150 -03:00 [INF] [AUDIT] Conta criada com sucesso:
2025-12-03 08:52:42.160 -03:00 [DBG] Iniciando INSERT de conta {"AccountId":"51e54094-f106-4f4b-935a-82750ad7c024","AccountNumber":"CC-0002","Balance":0,"ReservedBalance":0,"CreditLimit":1500.00,"Status":"Active","CreatedAt":"2025-12-03T11:52:42.1498832Z","UpdatedAt":"2025-12-03T11:52:42.1498833Z","RowVersion":null,"$type":"AccountModel"}
2025-12-03 08:52:42.205 -03:00 [INF] Conta CC-0002 criada com sucesso.
2025-12-03 08:52:42.250 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-03 08:52:42.258 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-12-03 08:52:42.263 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-12-03 08:52:42.267 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-12-03 08:52:42.270 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-12-03 08:52:42.273 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-12-03 08:52:42.277 -03:00 [INF] Executing OkObjectResult, writing value of type 'AccountResponseDto'.
2025-12-03 08:52:42.284 -03:00 [INF] Executed action PagueVeloz.Api.Controllers.AccountController.CriarConta (PagueVeloz.Api) in 184.9222ms
2025-12-03 08:52:42.287 -03:00 [INF] Executed endpoint 'PagueVeloz.Api.Controllers.AccountController.CriarConta (PagueVeloz.Api)'
2025-12-03 08:52:42.289 -03:00 [INF] Request finished: POST /api/Account/CriarConta StatusCode=200 TraceId=0HNHIC9DM9S66:0000000B Elapsed=223ms
2025-12-03 08:52:42.294 -03:00 [INF] [RESPONSE] POST /api/Account/CriarConta 200 232ms CorrelationId="cb5b39b9-efef-4003-bd7b-3feb41a63a94"
2025-12-03 08:52:42.298 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Account/CriarConta - 200 null application/json; charset=utf-8 256.8872ms
2025-12-03 08:52:56.390 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/api/Account/BuscarConta/CC-0001 - null null
2025-12-03 08:52:56.396 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Account/BuscarConta/CC-0001'
2025-12-03 08:52:56.399 -03:00 [DBG] Endpoint 'PagueVeloz.Api.Controllers.AccountController.GetById (PagueVeloz.Api)' with route pattern 'api/Account/BuscarConta/{AccountNumber}' is valid for the request path '/api/Account/BuscarConta/CC-0001'
2025-12-03 08:52:56.404 -03:00 [DBG] Request matched endpoint 'PagueVeloz.Api.Controllers.AccountController.GetById (PagueVeloz.Api)'
2025-12-03 08:52:56.407 -03:00 [INF] [REQUEST] GET /api/Account/BuscarConta/CC-0001 CorrelationId="74402392-5271-4b74-b9b7-6e5f208a9a8b"
2025-12-03 08:52:56.412 -03:00 [INF] Request started: GET /api/Account/BuscarConta/CC-0001 TraceId=0HNHIC9DM9S66:0000000D
2025-12-03 08:52:56.416 -03:00 [INF] Executing endpoint 'PagueVeloz.Api.Controllers.AccountController.GetById (PagueVeloz.Api)'
2025-12-03 08:52:56.426 -03:00 [INF] Route matched with {action = "GetById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(System.String) on controller PagueVeloz.Api.Controllers.AccountController (PagueVeloz.Api).
2025-12-03 08:52:56.431 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 08:52:56.435 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 08:52:56.437 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 08:52:56.442 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 08:52:56.446 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 08:52:56.451 -03:00 [DBG] Executing controller factory for controller PagueVeloz.Api.Controllers.AccountController (PagueVeloz.Api)
2025-12-03 08:52:56.459 -03:00 [DBG] Executed controller factory for controller PagueVeloz.Api.Controllers.AccountController (PagueVeloz.Api)
2025-12-03 08:52:56.462 -03:00 [DBG] Attempting to bind parameter 'AccountNumber' of type 'System.String' ...
2025-12-03 08:52:56.466 -03:00 [DBG] Attempting to bind parameter 'AccountNumber' of type 'System.String' using the name 'AccountNumber' in request data ...
2025-12-03 08:52:56.470 -03:00 [DBG] Done attempting to bind parameter 'AccountNumber' of type 'System.String'.
2025-12-03 08:52:56.474 -03:00 [DBG] Done attempting to bind parameter 'AccountNumber' of type 'System.String'.
2025-12-03 08:52:56.476 -03:00 [DBG] Attempting to validate the bound parameter 'AccountNumber' of type 'System.String' ...
2025-12-03 08:52:56.480 -03:00 [DBG] Done attempting to validate the bound parameter 'AccountNumber' of type 'System.String'.
2025-12-03 08:52:56.488 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-03 08:52:56.494 -03:00 [DBG] No information found on request to perform content negotiation.
2025-12-03 08:52:56.496 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-12-03 08:52:56.497 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-12-03 08:52:56.499 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-12-03 08:52:56.501 -03:00 [INF] Executing OkObjectResult, writing value of type 'PagueVeloz.Domain.Entities.AccountModel'.
2025-12-03 08:52:56.506 -03:00 [INF] Executed action PagueVeloz.Api.Controllers.AccountController.GetById (PagueVeloz.Api) in 55.3697ms
2025-12-03 08:52:56.517 -03:00 [INF] Executed endpoint 'PagueVeloz.Api.Controllers.AccountController.GetById (PagueVeloz.Api)'
2025-12-03 08:52:56.520 -03:00 [INF] Request finished: GET /api/Account/BuscarConta/CC-0001 StatusCode=200 TraceId=0HNHIC9DM9S66:0000000D Elapsed=107ms
2025-12-03 08:52:56.526 -03:00 [INF] [RESPONSE] GET /api/Account/BuscarConta/CC-0001 200 118ms CorrelationId="74402392-5271-4b74-b9b7-6e5f208a9a8b"
2025-12-03 08:52:56.530 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/api/Account/BuscarConta/CC-0001 - 200 null application/json; charset=utf-8 139.7953ms
2025-12-03 08:53:10.214 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Account/CriarConta - application/json 101
2025-12-03 08:53:10.221 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Account/CriarConta'
2025-12-03 08:53:10.224 -03:00 [DBG] Endpoint 'PagueVeloz.Api.Controllers.AccountController.CriarConta (PagueVeloz.Api)' with route pattern 'api/Account/CriarConta' is valid for the request path '/api/Account/CriarConta'
2025-12-03 08:53:10.227 -03:00 [DBG] Request matched endpoint 'PagueVeloz.Api.Controllers.AccountController.CriarConta (PagueVeloz.Api)'
2025-12-03 08:53:10.230 -03:00 [INF] [REQUEST] POST /api/Account/CriarConta CorrelationId="d70941d4-03c6-42d1-b39a-3ff6aa8fcc48"
2025-12-03 08:53:10.233 -03:00 [INF] Request started: POST /api/Account/CriarConta TraceId=0HNHIC9DM9S66:0000000F
2025-12-03 08:53:10.238 -03:00 [INF] Executing endpoint 'PagueVeloz.Api.Controllers.AccountController.CriarConta (PagueVeloz.Api)'
2025-12-03 08:53:10.241 -03:00 [INF] Route matched with {action = "CriarConta", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CriarConta(PagueVeloz.Api.DTOs.AccountCreateDto) on controller PagueVeloz.Api.Controllers.AccountController (PagueVeloz.Api).
2025-12-03 08:53:10.245 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 08:53:10.249 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 08:53:10.253 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 08:53:10.257 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 08:53:10.260 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 08:53:10.264 -03:00 [DBG] Executing controller factory for controller PagueVeloz.Api.Controllers.AccountController (PagueVeloz.Api)
2025-12-03 08:53:10.267 -03:00 [DBG] Executed controller factory for controller PagueVeloz.Api.Controllers.AccountController (PagueVeloz.Api)
2025-12-03 08:53:10.270 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.Api.DTOs.AccountCreateDto' ...
2025-12-03 08:53:10.273 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.Api.DTOs.AccountCreateDto' using the name '' in request data ...
2025-12-03 08:53:10.277 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 08:53:10.281 -03:00 [DBG] Connection id "0HNHIC9DM9S66", Request id "0HNHIC9DM9S66:0000000F": started reading request body.
2025-12-03 08:53:10.284 -03:00 [DBG] Connection id "0HNHIC9DM9S66", Request id "0HNHIC9DM9S66:0000000F": done reading request body.
2025-12-03 08:53:10.288 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.Api.DTOs.AccountCreateDto'
2025-12-03 08:53:10.290 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.Api.DTOs.AccountCreateDto'.
2025-12-03 08:53:10.294 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.Api.DTOs.AccountCreateDto'.
2025-12-03 08:53:10.298 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.Api.DTOs.AccountCreateDto' ...
2025-12-03 08:53:10.308 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.Api.DTOs.AccountCreateDto'.
2025-12-03 08:53:10.311 -03:00 [DBG] The request has model state errors, returning an error response.
2025-12-03 08:53:10.314 -03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-12-03 08:53:10.316 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-03 08:53:10.321 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]' and explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'. The content types in the accept header must be a subset of the explicitly set content types.
2025-12-03 08:53:10.329 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-12-03 08:53:10.333 -03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-12-03 08:53:10.338 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-12-03 08:53:10.341 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-03 08:53:10.371 -03:00 [INF] Executed action PagueVeloz.Api.Controllers.AccountController.CriarConta (PagueVeloz.Api) in 106.8766ms
2025-12-03 08:53:10.376 -03:00 [INF] Executed endpoint 'PagueVeloz.Api.Controllers.AccountController.CriarConta (PagueVeloz.Api)'
2025-12-03 08:53:10.379 -03:00 [INF] Request finished: POST /api/Account/CriarConta StatusCode=400 TraceId=0HNHIC9DM9S66:0000000F Elapsed=145ms
2025-12-03 08:53:10.385 -03:00 [INF] [RESPONSE] POST /api/Account/CriarConta 400 154ms CorrelationId="d70941d4-03c6-42d1-b39a-3ff6aa8fcc48"
2025-12-03 08:53:10.390 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Account/CriarConta - 400 null application/problem+json; charset=utf-8 175.7272ms
2025-12-03 08:54:30.769 -03:00 [INF] Request starting HTTP/2 PUT https://localhost:7249/api/Account/AtualizarConta/CC-0001 - application/json 84
2025-12-03 08:54:30.785 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Account/AtualizarConta/CC-0001'
2025-12-03 08:54:30.788 -03:00 [DBG] Endpoint 'PagueVeloz.Api.Controllers.AccountController.Update (PagueVeloz.Api)' with route pattern 'api/Account/AtualizarConta/{AccountNumber}' is valid for the request path '/api/Account/AtualizarConta/CC-0001'
2025-12-03 08:54:30.792 -03:00 [DBG] Request matched endpoint 'PagueVeloz.Api.Controllers.AccountController.Update (PagueVeloz.Api)'
2025-12-03 08:54:30.795 -03:00 [INF] [REQUEST] PUT /api/Account/AtualizarConta/CC-0001 CorrelationId="0807e784-4e49-4ba3-ad9d-516c55b4ab61"
2025-12-03 08:54:30.798 -03:00 [INF] Request started: PUT /api/Account/AtualizarConta/CC-0001 TraceId=0HNHIC9DM9S66:00000011
2025-12-03 08:54:30.802 -03:00 [INF] Executing endpoint 'PagueVeloz.Api.Controllers.AccountController.Update (PagueVeloz.Api)'
2025-12-03 08:54:30.811 -03:00 [INF] Route matched with {action = "Update", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(System.String, PagueVeloz.Application.DTOs.AccountUpdateDto) on controller PagueVeloz.Api.Controllers.AccountController (PagueVeloz.Api).
2025-12-03 08:54:30.816 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 08:54:30.825 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 08:54:30.829 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 08:54:30.834 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 08:54:30.839 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 08:54:30.842 -03:00 [DBG] Executing controller factory for controller PagueVeloz.Api.Controllers.AccountController (PagueVeloz.Api)
2025-12-03 08:54:30.845 -03:00 [DBG] Executed controller factory for controller PagueVeloz.Api.Controllers.AccountController (PagueVeloz.Api)
2025-12-03 08:54:30.848 -03:00 [DBG] Attempting to bind parameter 'AccountNumber' of type 'System.String' ...
2025-12-03 08:54:30.851 -03:00 [DBG] Attempting to bind parameter 'AccountNumber' of type 'System.String' using the name 'AccountNumber' in request data ...
2025-12-03 08:54:30.855 -03:00 [DBG] Done attempting to bind parameter 'AccountNumber' of type 'System.String'.
2025-12-03 08:54:30.857 -03:00 [DBG] Done attempting to bind parameter 'AccountNumber' of type 'System.String'.
2025-12-03 08:54:30.860 -03:00 [DBG] Attempting to validate the bound parameter 'AccountNumber' of type 'System.String' ...
2025-12-03 08:54:30.863 -03:00 [DBG] Done attempting to validate the bound parameter 'AccountNumber' of type 'System.String'.
2025-12-03 08:54:30.867 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.Application.DTOs.AccountUpdateDto' ...
2025-12-03 08:54:30.872 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.Application.DTOs.AccountUpdateDto' using the name '' in request data ...
2025-12-03 08:54:30.875 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 08:54:30.883 -03:00 [DBG] Connection id "0HNHIC9DM9S66", Request id "0HNHIC9DM9S66:00000011": started reading request body.
2025-12-03 08:54:30.886 -03:00 [DBG] Connection id "0HNHIC9DM9S66", Request id "0HNHIC9DM9S66:00000011": done reading request body.
2025-12-03 08:54:30.893 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.Application.DTOs.AccountUpdateDto'
2025-12-03 08:54:30.895 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.Application.DTOs.AccountUpdateDto'.
2025-12-03 08:54:30.897 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.Application.DTOs.AccountUpdateDto'.
2025-12-03 08:54:30.900 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.Application.DTOs.AccountUpdateDto' ...
2025-12-03 08:54:30.908 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.Application.DTOs.AccountUpdateDto'.
2025-12-03 08:54:30.929 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-03 08:54:30.934 -03:00 [DBG] No information found on request to perform content negotiation.
2025-12-03 08:54:30.936 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-12-03 08:54:30.938 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-12-03 08:54:30.939 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-12-03 08:54:30.942 -03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`7[[System.Guid, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-03 08:54:30.950 -03:00 [INF] Executed action PagueVeloz.Api.Controllers.AccountController.Update (PagueVeloz.Api) in 107.4951ms
2025-12-03 08:54:30.953 -03:00 [INF] Executed endpoint 'PagueVeloz.Api.Controllers.AccountController.Update (PagueVeloz.Api)'
2025-12-03 08:54:30.955 -03:00 [INF] Request finished: PUT /api/Account/AtualizarConta/CC-0001 StatusCode=200 TraceId=0HNHIC9DM9S66:00000011 Elapsed=157ms
2025-12-03 08:54:30.959 -03:00 [INF] [RESPONSE] PUT /api/Account/AtualizarConta/CC-0001 200 164ms CorrelationId="0807e784-4e49-4ba3-ad9d-516c55b4ab61"
2025-12-03 08:54:30.964 -03:00 [INF] Request finished HTTP/2 PUT https://localhost:7249/api/Account/AtualizarConta/CC-0001 - 200 null application/json; charset=utf-8 195.8559ms
2025-12-03 08:54:47.340 -03:00 [INF] Request starting HTTP/2 PUT https://localhost:7249/api/Account/AtualizarConta/CC-0002 - application/json 84
2025-12-03 08:54:47.348 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Account/AtualizarConta/CC-0002'
2025-12-03 08:54:47.351 -03:00 [DBG] Endpoint 'PagueVeloz.Api.Controllers.AccountController.Update (PagueVeloz.Api)' with route pattern 'api/Account/AtualizarConta/{AccountNumber}' is valid for the request path '/api/Account/AtualizarConta/CC-0002'
2025-12-03 08:54:47.355 -03:00 [DBG] Request matched endpoint 'PagueVeloz.Api.Controllers.AccountController.Update (PagueVeloz.Api)'
2025-12-03 08:54:47.358 -03:00 [INF] [REQUEST] PUT /api/Account/AtualizarConta/CC-0002 CorrelationId="d7f83fac-9593-4dda-8e93-805ed52cc82e"
2025-12-03 08:54:47.361 -03:00 [INF] Request started: PUT /api/Account/AtualizarConta/CC-0002 TraceId=0HNHIC9DM9S66:00000013
2025-12-03 08:54:47.365 -03:00 [INF] Executing endpoint 'PagueVeloz.Api.Controllers.AccountController.Update (PagueVeloz.Api)'
2025-12-03 08:54:47.367 -03:00 [INF] Route matched with {action = "Update", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(System.String, PagueVeloz.Application.DTOs.AccountUpdateDto) on controller PagueVeloz.Api.Controllers.AccountController (PagueVeloz.Api).
2025-12-03 08:54:47.371 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 08:54:47.374 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 08:54:47.377 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 08:54:47.381 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 08:54:47.384 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 08:54:47.388 -03:00 [DBG] Executing controller factory for controller PagueVeloz.Api.Controllers.AccountController (PagueVeloz.Api)
2025-12-03 08:54:47.392 -03:00 [DBG] Executed controller factory for controller PagueVeloz.Api.Controllers.AccountController (PagueVeloz.Api)
2025-12-03 08:54:47.395 -03:00 [DBG] Attempting to bind parameter 'AccountNumber' of type 'System.String' ...
2025-12-03 08:54:47.398 -03:00 [DBG] Attempting to bind parameter 'AccountNumber' of type 'System.String' using the name 'AccountNumber' in request data ...
2025-12-03 08:54:47.402 -03:00 [DBG] Done attempting to bind parameter 'AccountNumber' of type 'System.String'.
2025-12-03 08:54:47.405 -03:00 [DBG] Done attempting to bind parameter 'AccountNumber' of type 'System.String'.
2025-12-03 08:54:47.408 -03:00 [DBG] Attempting to validate the bound parameter 'AccountNumber' of type 'System.String' ...
2025-12-03 08:54:47.410 -03:00 [DBG] Done attempting to validate the bound parameter 'AccountNumber' of type 'System.String'.
2025-12-03 08:54:47.413 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.Application.DTOs.AccountUpdateDto' ...
2025-12-03 08:54:47.416 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.Application.DTOs.AccountUpdateDto' using the name '' in request data ...
2025-12-03 08:54:47.420 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 08:54:47.422 -03:00 [DBG] Connection id "0HNHIC9DM9S66", Request id "0HNHIC9DM9S66:00000013": started reading request body.
2025-12-03 08:54:47.425 -03:00 [DBG] Connection id "0HNHIC9DM9S66", Request id "0HNHIC9DM9S66:00000013": done reading request body.
2025-12-03 08:54:47.428 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.Application.DTOs.AccountUpdateDto'
2025-12-03 08:54:47.430 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.Application.DTOs.AccountUpdateDto'.
2025-12-03 08:54:47.433 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.Application.DTOs.AccountUpdateDto'.
2025-12-03 08:54:47.436 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.Application.DTOs.AccountUpdateDto' ...
2025-12-03 08:54:47.439 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.Application.DTOs.AccountUpdateDto'.
2025-12-03 08:54:47.452 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-03 08:54:47.456 -03:00 [DBG] No information found on request to perform content negotiation.
2025-12-03 08:54:47.458 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-12-03 08:54:47.459 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-12-03 08:54:47.461 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-12-03 08:54:47.464 -03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`7[[System.Guid, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-03 08:54:47.467 -03:00 [INF] Executed action PagueVeloz.Api.Controllers.AccountController.Update (PagueVeloz.Api) in 78.6536ms
2025-12-03 08:54:47.470 -03:00 [INF] Executed endpoint 'PagueVeloz.Api.Controllers.AccountController.Update (PagueVeloz.Api)'
2025-12-03 08:54:47.472 -03:00 [INF] Request finished: PUT /api/Account/AtualizarConta/CC-0002 StatusCode=200 TraceId=0HNHIC9DM9S66:00000013 Elapsed=110ms
2025-12-03 08:54:47.476 -03:00 [INF] [RESPONSE] PUT /api/Account/AtualizarConta/CC-0002 200 117ms CorrelationId="d7f83fac-9593-4dda-8e93-805ed52cc82e"
2025-12-03 08:54:47.481 -03:00 [INF] Request finished HTTP/2 PUT https://localhost:7249/api/Account/AtualizarConta/CC-0002 - 200 null application/json; charset=utf-8 140.691ms
2025-12-03 08:55:54.980 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction - application/json 155
2025-12-03 08:55:55.024 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction'
2025-12-03 08:55:55.027 -03:00 [DBG] Endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)' with route pattern 'api/Transaction' is valid for the request path '/api/Transaction'
2025-12-03 08:55:55.031 -03:00 [DBG] Request matched endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 08:55:55.033 -03:00 [INF] [REQUEST] POST /api/Transaction CorrelationId="72757687-73dd-4b6c-96b5-14ba7ed67366"
2025-12-03 08:55:55.037 -03:00 [INF] Request started: POST /api/Transaction TraceId=0HNHIC9DM9S66:00000015
2025-12-03 08:55:55.040 -03:00 [INF] Executing endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 08:55:55.049 -03:00 [INF] Route matched with {action = "CreateTransaction", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTransaction(PagueVeloz.API.DTOs.TransactionCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 08:55:55.053 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 08:55:55.056 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 08:55:55.059 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 08:55:55.063 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 08:55:55.066 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 08:55:55.070 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 08:55:55.073 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 08:55:55.077 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 08:55:55.080 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' using the name '' in request data ...
2025-12-03 08:55:55.084 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 08:55:55.092 -03:00 [DBG] Connection id "0HNHIC9DM9S66", Request id "0HNHIC9DM9S66:00000015": started reading request body.
2025-12-03 08:55:55.095 -03:00 [DBG] Connection id "0HNHIC9DM9S66", Request id "0HNHIC9DM9S66:00000015": done reading request body.
2025-12-03 08:55:55.107 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.API.DTOs.TransactionCreateDto'
2025-12-03 08:55:55.109 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 08:55:55.111 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 08:55:55.114 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 08:55:55.147 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 08:55:55.151 -03:00 [INF] Recebida solicitação de movimentação do tipo: {dto.Operation} .
2025-12-03 08:55:55.153 -03:00 [WRN] Idempotency-Key não enviada, gerando uma aleatória.
2025-12-03 08:55:55.185 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: e263759f-5043-44ad-8a44-df8e4eaa3b08
2025-12-03 08:55:55.213 -03:00 [DBG] Iniciando INSERT de Transação "6d3bace3-c1da-44f4-8b4d-5e47f3601d7e"
2025-12-03 08:55:55.236 -03:00 [INF] [AUDIT] Transação processada com sucesso:
2025-12-03 08:55:55.238 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-03 08:55:55.241 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-12-03 08:55:55.244 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-12-03 08:55:55.247 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-12-03 08:55:55.249 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-12-03 08:55:55.250 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-12-03 08:55:55.253 -03:00 [INF] Executing OkObjectResult, writing value of type 'PagueVeloz.Domain.Entities.TransactionModel'.
2025-12-03 08:55:55.273 -03:00 [INF] Executed action TransactionController.CreateTransaction (PagueVeloz.Api) in 203.5804ms
2025-12-03 08:55:55.276 -03:00 [INF] Executed endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 08:55:55.278 -03:00 [INF] Request finished: POST /api/Transaction StatusCode=200 TraceId=0HNHIC9DM9S66:00000015 Elapsed=241ms
2025-12-03 08:55:55.283 -03:00 [INF] [RESPONSE] POST /api/Transaction 200 249ms CorrelationId="72757687-73dd-4b6c-96b5-14ba7ed67366"
2025-12-03 08:55:55.288 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Transaction - 200 null application/json; charset=utf-8 308.4673ms
2025-12-03 08:56:25.942 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction - application/json 153
2025-12-03 08:56:25.953 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction'
2025-12-03 08:56:25.956 -03:00 [DBG] Endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)' with route pattern 'api/Transaction' is valid for the request path '/api/Transaction'
2025-12-03 08:56:25.959 -03:00 [DBG] Request matched endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 08:56:25.962 -03:00 [INF] [REQUEST] POST /api/Transaction CorrelationId="f123db14-5ebc-42b7-9622-1a78f48b4505"
2025-12-03 08:56:25.966 -03:00 [INF] Request started: POST /api/Transaction TraceId=0HNHIC9DM9S66:00000017
2025-12-03 08:56:25.969 -03:00 [INF] Executing endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 08:56:25.971 -03:00 [INF] Route matched with {action = "CreateTransaction", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTransaction(PagueVeloz.API.DTOs.TransactionCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 08:56:25.975 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 08:56:25.979 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 08:56:25.983 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 08:56:25.987 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 08:56:25.989 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 08:56:25.992 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 08:56:25.996 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 08:56:25.999 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 08:56:26.003 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' using the name '' in request data ...
2025-12-03 08:56:26.007 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 08:56:26.010 -03:00 [DBG] Connection id "0HNHIC9DM9S66", Request id "0HNHIC9DM9S66:00000017": started reading request body.
2025-12-03 08:56:26.014 -03:00 [DBG] Connection id "0HNHIC9DM9S66", Request id "0HNHIC9DM9S66:00000017": done reading request body.
2025-12-03 08:56:26.018 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.API.DTOs.TransactionCreateDto'
2025-12-03 08:56:26.021 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 08:56:26.024 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 08:56:26.027 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 08:56:26.032 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 08:56:26.035 -03:00 [INF] Recebida solicitação de movimentação do tipo: {dto.Operation} .
2025-12-03 08:56:26.037 -03:00 [WRN] Idempotency-Key não enviada, gerando uma aleatória.
2025-12-03 08:56:26.039 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: ba7e9a1e-4138-4f36-a642-a5953ec3a41f
2025-12-03 08:56:26.047 -03:00 [DBG] Iniciando INSERT de Transação "6d3bace3-c1da-44f4-8b4d-5e47f3601d7e"
2025-12-03 08:56:26.056 -03:00 [INF] [AUDIT] Transação processada com sucesso:
2025-12-03 08:56:26.058 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-03 08:56:26.064 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-12-03 08:56:26.067 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-12-03 08:56:26.070 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-12-03 08:56:26.072 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-12-03 08:56:26.074 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-12-03 08:56:26.077 -03:00 [INF] Executing OkObjectResult, writing value of type 'PagueVeloz.Domain.Entities.TransactionModel'.
2025-12-03 08:56:26.081 -03:00 [INF] Executed action TransactionController.CreateTransaction (PagueVeloz.Api) in 88.2696ms
2025-12-03 08:56:26.084 -03:00 [INF] Executed endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 08:56:26.087 -03:00 [INF] Request finished: POST /api/Transaction StatusCode=200 TraceId=0HNHIC9DM9S66:00000017 Elapsed=120ms
2025-12-03 08:56:26.092 -03:00 [INF] [RESPONSE] POST /api/Transaction 200 129ms CorrelationId="f123db14-5ebc-42b7-9622-1a78f48b4505"
2025-12-03 08:56:26.097 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Transaction - 200 null application/json; charset=utf-8 159.1487ms
2025-12-03 08:57:37.795 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction - application/json 153
2025-12-03 08:57:37.810 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction'
2025-12-03 08:57:37.812 -03:00 [DBG] Endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)' with route pattern 'api/Transaction' is valid for the request path '/api/Transaction'
2025-12-03 08:57:37.816 -03:00 [DBG] Request matched endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 08:57:37.818 -03:00 [INF] [REQUEST] POST /api/Transaction CorrelationId="578aa898-b4c3-4d4d-825b-e1d1a7abed10"
2025-12-03 08:57:37.821 -03:00 [INF] Request started: POST /api/Transaction TraceId=0HNHIC9DM9S66:00000019
2025-12-03 08:57:37.825 -03:00 [INF] Executing endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 08:57:37.828 -03:00 [INF] Route matched with {action = "CreateTransaction", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTransaction(PagueVeloz.API.DTOs.TransactionCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 08:57:37.832 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 08:57:37.835 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 08:57:37.838 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 08:57:37.842 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 08:57:37.846 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 08:57:37.849 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 08:57:37.855 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 08:57:37.857 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 08:57:37.861 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' using the name '' in request data ...
2025-12-03 08:57:37.864 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 08:57:37.866 -03:00 [DBG] Connection id "0HNHIC9DM9S66", Request id "0HNHIC9DM9S66:00000019": started reading request body.
2025-12-03 08:57:37.869 -03:00 [DBG] Connection id "0HNHIC9DM9S66", Request id "0HNHIC9DM9S66:00000019": done reading request body.
2025-12-03 08:57:37.872 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.API.DTOs.TransactionCreateDto'
2025-12-03 08:57:37.875 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 08:57:37.878 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 08:57:37.880 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 08:57:37.887 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 08:57:37.891 -03:00 [INF] Recebida solicitação de movimentação do tipo: {dto.Operation} .
2025-12-03 08:57:37.893 -03:00 [WRN] Idempotency-Key não enviada, gerando uma aleatória.
2025-12-03 08:57:37.896 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: dd518ef2-c353-44de-9365-13d7c0f52a97
2025-12-03 08:57:37.912 -03:00 [DBG] Iniciando INSERT de Transação "6d3bace3-c1da-44f4-8b4d-5e47f3601d7e"
2025-12-03 08:57:37.918 -03:00 [INF] [AUDIT] Transação processada com sucesso:
2025-12-03 08:57:37.920 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-03 08:57:37.925 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-12-03 08:57:37.928 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-12-03 08:57:37.930 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-12-03 08:57:37.932 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-12-03 08:57:37.934 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-12-03 08:57:37.936 -03:00 [INF] Executing OkObjectResult, writing value of type 'PagueVeloz.Domain.Entities.TransactionModel'.
2025-12-03 08:57:37.939 -03:00 [INF] Executed action TransactionController.CreateTransaction (PagueVeloz.Api) in 89.8984ms
2025-12-03 08:57:37.942 -03:00 [INF] Executed endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 08:57:37.945 -03:00 [INF] Request finished: POST /api/Transaction StatusCode=200 TraceId=0HNHIC9DM9S66:00000019 Elapsed=123ms
2025-12-03 08:57:37.949 -03:00 [INF] [RESPONSE] POST /api/Transaction 200 130ms CorrelationId="578aa898-b4c3-4d4d-825b-e1d1a7abed10"
2025-12-03 08:57:37.952 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Transaction - 200 null application/json; charset=utf-8 158.1339ms
2025-12-03 08:58:05.360 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction - application/json 153
2025-12-03 08:58:05.379 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction'
2025-12-03 08:58:05.382 -03:00 [DBG] Endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)' with route pattern 'api/Transaction' is valid for the request path '/api/Transaction'
2025-12-03 08:58:05.386 -03:00 [DBG] Request matched endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 08:58:05.389 -03:00 [INF] [REQUEST] POST /api/Transaction CorrelationId="e0b1385c-e3e7-4938-abd6-22f20808163d"
2025-12-03 08:58:05.392 -03:00 [INF] Request started: POST /api/Transaction TraceId=0HNHIC9DM9S66:0000001B
2025-12-03 08:58:05.396 -03:00 [INF] Executing endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 08:58:05.399 -03:00 [INF] Route matched with {action = "CreateTransaction", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTransaction(PagueVeloz.API.DTOs.TransactionCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 08:58:05.403 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 08:58:05.407 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 08:58:05.412 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 08:58:05.416 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 08:58:05.419 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 08:58:05.422 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 08:58:05.425 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 08:58:05.429 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 08:58:05.432 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' using the name '' in request data ...
2025-12-03 08:58:05.435 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 08:58:05.438 -03:00 [DBG] Connection id "0HNHIC9DM9S66", Request id "0HNHIC9DM9S66:0000001B": started reading request body.
2025-12-03 08:58:05.441 -03:00 [DBG] Connection id "0HNHIC9DM9S66", Request id "0HNHIC9DM9S66:0000001B": done reading request body.
2025-12-03 08:58:05.443 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.API.DTOs.TransactionCreateDto'
2025-12-03 08:58:05.446 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 08:58:05.449 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 08:58:05.452 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 08:58:05.455 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 08:58:05.458 -03:00 [INF] Recebida solicitação de movimentação do tipo: {dto.Operation} .
2025-12-03 08:58:05.459 -03:00 [WRN] Idempotency-Key não enviada, gerando uma aleatória.
2025-12-03 08:58:05.461 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: 61382313-f1e4-4e02-ac9b-1738194b01a9
2025-12-03 08:58:05.568 -03:00 [WRN] Tentativa 1 falhou. Esperando "00:00:02" antes de tentar novamente. Erro: Transação já foi realizada.
2025-12-03 08:58:07.574 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: 61382313-f1e4-4e02-ac9b-1738194b01a9
2025-12-03 08:58:07.648 -03:00 [WRN] Tentativa 2 falhou. Esperando "00:00:04" antes de tentar novamente. Erro: Transação já foi realizada.
2025-12-03 08:58:11.652 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: 61382313-f1e4-4e02-ac9b-1738194b01a9
2025-12-03 08:58:11.730 -03:00 [WRN] Tentativa 3 falhou. Esperando "00:00:08" antes de tentar novamente. Erro: Transação já foi realizada.
2025-12-03 08:58:19.734 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: 61382313-f1e4-4e02-ac9b-1738194b01a9
2025-12-03 08:58:20.713 -03:00 [INF] Executed action TransactionController.CreateTransaction (PagueVeloz.Api) in 15290.6066ms
2025-12-03 08:58:21.014 -03:00 [INF] Executed endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 08:58:21.947 -03:00 [ERR] Erro capturado globalmente. TraceId: 00-c3ce408f2d0716e25dfae73eeeae00dc-d996cf9be7138cdd-00
PagueVeloz.Shared.Middlewares.BusinessException: Transação já foi realizada.
   at PagueVeloz.Application.Services.TransactionService.<>c__DisplayClass5_0.<<ProcessTransactionAsync>b__0>d.MoveNext() in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Application\Services\TransactionService.cs:line 51
--- End of stack trace from previous location ---
   at Polly.Retry.AsyncRetryEngine.ImplementationAsync[TResult](Func`3 action, Context context, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Func`5 onRetryAsync, CancellationToken cancellationToken, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at PagueVeloz.Application.Services.TransactionService.ProcessTransactionAsync(TransactionModel dto, String idempotencyKey) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Application\Services\TransactionService.cs:line 38
   at TransactionController.CreateTransaction(TransactionCreateDto dto) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api\Controllers\TransactionController.cs:line 83
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at RequestTimingMiddleware.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\RequestTiming.cs:line 23
   at PagueVeloz.Shared.Middlewares.RequestLog.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\RequestLog.cs:line 28
   at ExceptionHandlingMiddleware.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\ExceptionHandling.cs:line 22
2025-12-03 08:58:21.961 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Transaction - 400 null application/json 16600.6834ms
2025-12-03 08:58:30.459 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction - application/json 155
2025-12-03 08:58:30.465 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction'
2025-12-03 08:58:30.467 -03:00 [DBG] Endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)' with route pattern 'api/Transaction' is valid for the request path '/api/Transaction'
2025-12-03 08:58:30.470 -03:00 [DBG] Request matched endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 08:58:30.472 -03:00 [INF] [REQUEST] POST /api/Transaction CorrelationId="dfc17ac4-76c5-46cd-8179-14d737bdd273"
2025-12-03 08:58:30.475 -03:00 [INF] Request started: POST /api/Transaction TraceId=0HNHIC9DM9S66:0000001D
2025-12-03 08:58:30.478 -03:00 [INF] Executing endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 08:58:30.481 -03:00 [INF] Route matched with {action = "CreateTransaction", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTransaction(PagueVeloz.API.DTOs.TransactionCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 08:58:30.484 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 08:58:30.486 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 08:58:30.489 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 08:58:30.492 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 08:58:30.494 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 08:58:30.498 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 08:58:30.501 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 08:58:30.503 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 08:58:30.505 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' using the name '' in request data ...
2025-12-03 08:58:30.508 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 08:58:30.510 -03:00 [DBG] Connection id "0HNHIC9DM9S66", Request id "0HNHIC9DM9S66:0000001D": started reading request body.
2025-12-03 08:58:30.513 -03:00 [DBG] Connection id "0HNHIC9DM9S66", Request id "0HNHIC9DM9S66:0000001D": done reading request body.
2025-12-03 08:58:30.516 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.API.DTOs.TransactionCreateDto'
2025-12-03 08:58:30.519 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 08:58:30.522 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 08:58:30.524 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 08:58:30.527 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 08:58:30.531 -03:00 [INF] Recebida solicitação de movimentação do tipo: {dto.Operation} .
2025-12-03 08:58:30.534 -03:00 [WRN] Idempotency-Key não enviada, gerando uma aleatória.
2025-12-03 08:58:30.536 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: 0b2bc785-b348-439a-8bee-c27fe6150ad2
2025-12-03 08:58:30.609 -03:00 [WRN] Tentativa 1 falhou. Esperando "00:00:02" antes de tentar novamente. Erro: Transação já foi realizada.
2025-12-03 08:58:32.622 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: 0b2bc785-b348-439a-8bee-c27fe6150ad2
2025-12-03 08:58:32.686 -03:00 [WRN] Tentativa 2 falhou. Esperando "00:00:04" antes de tentar novamente. Erro: Transação já foi realizada.
2025-12-03 08:58:36.705 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: 0b2bc785-b348-439a-8bee-c27fe6150ad2
2025-12-03 08:58:36.792 -03:00 [WRN] Tentativa 3 falhou. Esperando "00:00:08" antes de tentar novamente. Erro: Transação já foi realizada.
2025-12-03 08:58:44.797 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: 0b2bc785-b348-439a-8bee-c27fe6150ad2
2025-12-03 08:58:45.990 -03:00 [INF] Executed action TransactionController.CreateTransaction (PagueVeloz.Api) in 15492.2841ms
2025-12-03 08:58:46.306 -03:00 [INF] Executed endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 08:58:47.490 -03:00 [ERR] Erro capturado globalmente. TraceId: 00-b72e5bdf165b6d753f63738701580c65-bc655b4a6db46a4d-00
PagueVeloz.Shared.Middlewares.BusinessException: Transação já foi realizada.
   at PagueVeloz.Application.Services.TransactionService.<>c__DisplayClass5_0.<<ProcessTransactionAsync>b__0>d.MoveNext() in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Application\Services\TransactionService.cs:line 51
--- End of stack trace from previous location ---
   at Polly.Retry.AsyncRetryEngine.ImplementationAsync[TResult](Func`3 action, Context context, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Func`5 onRetryAsync, CancellationToken cancellationToken, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at PagueVeloz.Application.Services.TransactionService.ProcessTransactionAsync(TransactionModel dto, String idempotencyKey) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Application\Services\TransactionService.cs:line 38
   at TransactionController.CreateTransaction(TransactionCreateDto dto) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api\Controllers\TransactionController.cs:line 83
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at RequestTimingMiddleware.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\RequestTiming.cs:line 23
   at PagueVeloz.Shared.Middlewares.RequestLog.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\RequestLog.cs:line 28
   at ExceptionHandlingMiddleware.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\ExceptionHandling.cs:line 22
2025-12-03 08:58:47.503 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Transaction - 400 null application/json 17044.2263ms
2025-12-03 08:58:51.583 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction - application/json 155
2025-12-03 08:58:51.590 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction'
2025-12-03 08:58:51.592 -03:00 [DBG] Endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)' with route pattern 'api/Transaction' is valid for the request path '/api/Transaction'
2025-12-03 08:58:51.595 -03:00 [DBG] Request matched endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 08:58:51.598 -03:00 [INF] [REQUEST] POST /api/Transaction CorrelationId="4ed01fe4-83b1-4747-935d-8b1845a26a6f"
2025-12-03 08:58:51.602 -03:00 [INF] Request started: POST /api/Transaction TraceId=0HNHIC9DM9S66:0000001F
2025-12-03 08:58:51.605 -03:00 [INF] Executing endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 08:58:51.607 -03:00 [INF] Route matched with {action = "CreateTransaction", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTransaction(PagueVeloz.API.DTOs.TransactionCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 08:58:51.611 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 08:58:51.613 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 08:58:51.616 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 08:58:51.620 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 08:58:51.623 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 08:58:51.627 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 08:58:51.629 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 08:58:51.632 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 08:58:51.635 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' using the name '' in request data ...
2025-12-03 08:58:51.639 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 08:58:51.642 -03:00 [DBG] Connection id "0HNHIC9DM9S66", Request id "0HNHIC9DM9S66:0000001F": started reading request body.
2025-12-03 08:58:51.644 -03:00 [DBG] Connection id "0HNHIC9DM9S66", Request id "0HNHIC9DM9S66:0000001F": done reading request body.
2025-12-03 08:58:51.648 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.API.DTOs.TransactionCreateDto'
2025-12-03 08:58:51.649 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 08:58:51.652 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 08:58:51.654 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 08:58:51.658 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 08:58:51.661 -03:00 [INF] Recebida solicitação de movimentação do tipo: {dto.Operation} .
2025-12-03 08:58:51.664 -03:00 [WRN] Idempotency-Key não enviada, gerando uma aleatória.
2025-12-03 08:58:51.666 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: d7f2c506-02c1-4d6c-baba-2229ef28cc2e
2025-12-03 08:58:51.675 -03:00 [DBG] Iniciando INSERT de Transação "6d3bace3-c1da-44f4-8b4d-5e47f3601d7e"
2025-12-03 08:58:51.683 -03:00 [INF] [AUDIT] Transação processada com sucesso:
2025-12-03 08:58:51.686 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-03 08:58:51.691 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-12-03 08:58:51.695 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-12-03 08:58:51.699 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-12-03 08:58:51.701 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-12-03 08:58:51.703 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-12-03 08:58:51.707 -03:00 [INF] Executing OkObjectResult, writing value of type 'PagueVeloz.Domain.Entities.TransactionModel'.
2025-12-03 08:58:51.709 -03:00 [INF] Executed action TransactionController.CreateTransaction (PagueVeloz.Api) in 82.8221ms
2025-12-03 08:58:51.713 -03:00 [INF] Executed endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 08:58:51.715 -03:00 [INF] Request finished: POST /api/Transaction StatusCode=200 TraceId=0HNHIC9DM9S66:0000001F Elapsed=113ms
2025-12-03 08:58:51.719 -03:00 [INF] [RESPONSE] POST /api/Transaction 200 120ms CorrelationId="4ed01fe4-83b1-4747-935d-8b1845a26a6f"
2025-12-03 08:58:51.724 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Transaction - 200 null application/json; charset=utf-8 140.8628ms
2025-12-03 08:59:58.775 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction - application/json 156
2025-12-03 08:59:58.781 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction'
2025-12-03 08:59:58.784 -03:00 [DBG] Endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)' with route pattern 'api/Transaction' is valid for the request path '/api/Transaction'
2025-12-03 08:59:58.788 -03:00 [DBG] Request matched endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 08:59:58.792 -03:00 [INF] [REQUEST] POST /api/Transaction CorrelationId="3c2d6fc0-8401-4aea-a941-82d7369b3742"
2025-12-03 08:59:58.795 -03:00 [INF] Request started: POST /api/Transaction TraceId=0HNHIC9DM9S66:00000021
2025-12-03 08:59:58.798 -03:00 [INF] Executing endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 08:59:58.801 -03:00 [INF] Route matched with {action = "CreateTransaction", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTransaction(PagueVeloz.API.DTOs.TransactionCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 08:59:58.804 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 08:59:58.807 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 08:59:58.809 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 08:59:58.812 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 08:59:58.815 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 08:59:58.818 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 08:59:58.821 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 08:59:58.824 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 08:59:58.827 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' using the name '' in request data ...
2025-12-03 08:59:58.830 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 08:59:58.833 -03:00 [DBG] Connection id "0HNHIC9DM9S66", Request id "0HNHIC9DM9S66:00000021": started reading request body.
2025-12-03 08:59:58.837 -03:00 [DBG] Connection id "0HNHIC9DM9S66", Request id "0HNHIC9DM9S66:00000021": done reading request body.
2025-12-03 08:59:58.840 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.API.DTOs.TransactionCreateDto'
2025-12-03 08:59:58.843 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 08:59:58.845 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 08:59:58.847 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 08:59:58.850 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 08:59:58.853 -03:00 [INF] Recebida solicitação de movimentação do tipo: {dto.Operation} .
2025-12-03 08:59:58.855 -03:00 [WRN] Idempotency-Key não enviada, gerando uma aleatória.
2025-12-03 08:59:58.856 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: e809663e-7597-4c58-87d5-218b25c2db5c
2025-12-03 08:59:58.869 -03:00 [DBG] Iniciando INSERT de Transação "6d3bace3-c1da-44f4-8b4d-5e47f3601d7e"
2025-12-03 08:59:58.875 -03:00 [INF] [AUDIT] Transação processada com sucesso:
2025-12-03 08:59:58.877 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-03 08:59:58.882 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-12-03 08:59:58.885 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-12-03 08:59:58.888 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-12-03 08:59:58.889 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-12-03 08:59:58.891 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-12-03 08:59:58.893 -03:00 [INF] Executing OkObjectResult, writing value of type 'PagueVeloz.Domain.Entities.TransactionModel'.
2025-12-03 08:59:58.896 -03:00 [INF] Executed action TransactionController.CreateTransaction (PagueVeloz.Api) in 77.7336ms
2025-12-03 08:59:58.937 -03:00 [INF] Executed endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 08:59:58.939 -03:00 [INF] Request finished: POST /api/Transaction StatusCode=200 TraceId=0HNHIC9DM9S66:00000021 Elapsed=143ms
2025-12-03 08:59:58.943 -03:00 [INF] [RESPONSE] POST /api/Transaction 200 151ms CorrelationId="3c2d6fc0-8401-4aea-a941-82d7369b3742"
2025-12-03 08:59:58.947 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Transaction - 200 null application/json; charset=utf-8 178.3676ms
2025-12-03 09:05:36.926 -03:00 [DBG] Connection id "0HNHIC9DM9S66" received FIN.
2025-12-03 09:05:36.944 -03:00 [DBG] Connection id "0HNHIC9DM9S66" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-12-03 09:05:36.945 -03:00 [DBG] Connection id "0HNHIC9DM9S66" is closed. The last processed stream ID was 33.
2025-12-03 09:05:36.951 -03:00 [DBG] The connection queue processing loop for 0HNHIC9DM9S66 completed.
2025-12-03 09:05:36.959 -03:00 [DBG] Connection id "0HNHIC9DM9S66" stopped.
2025-12-03 09:08:04.958 -03:00 [DBG] Connection id "0HNHIC9DM9S67" accepted.
2025-12-03 09:08:04.999 -03:00 [DBG] Connection id "0HNHIC9DM9S67" started.
2025-12-03 09:08:05.012 -03:00 [DBG] Connection 0HNHIC9DM9S67 established using the following protocol: "Tls13"
2025-12-03 09:08:05.017 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction/transferencia - application/json 189
2025-12-03 09:08:05.030 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction/transferencia'
2025-12-03 09:08:05.032 -03:00 [DBG] Endpoint 'TransactionController.Transfer (PagueVeloz.Api)' with route pattern 'api/Transaction/transferencia' is valid for the request path '/api/Transaction/transferencia'
2025-12-03 09:08:05.034 -03:00 [DBG] Request matched endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 09:08:05.036 -03:00 [INF] [REQUEST] POST /api/Transaction/transferencia CorrelationId="9c83341d-9452-4198-948e-e8ffdc11e192"
2025-12-03 09:08:05.038 -03:00 [INF] Request started: POST /api/Transaction/transferencia TraceId=0HNHIC9DM9S67:00000001
2025-12-03 09:08:05.041 -03:00 [INF] Executing endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 09:08:05.049 -03:00 [INF] Route matched with {action = "Transfer", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Transfer(PagueVeloz.API.DTOs.TransferCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 09:08:05.053 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 09:08:05.057 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 09:08:05.060 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 09:08:05.064 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 09:08:05.067 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 09:08:05.070 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 09:08:05.072 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 09:08:05.075 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' ...
2025-12-03 09:08:05.079 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' using the name '' in request data ...
2025-12-03 09:08:05.081 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 09:08:05.084 -03:00 [DBG] Connection id "0HNHIC9DM9S67", Request id "0HNHIC9DM9S67:00000001": started reading request body.
2025-12-03 09:08:05.086 -03:00 [DBG] Connection id "0HNHIC9DM9S67", Request id "0HNHIC9DM9S67:00000001": done reading request body.
2025-12-03 09:08:05.091 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.API.DTOs.TransferCreateDto'
2025-12-03 09:08:05.094 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 09:08:05.096 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 09:08:05.098 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' ...
2025-12-03 09:08:05.112 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 09:08:05.114 -03:00 [DBG] The request has model state errors, returning an error response.
2025-12-03 09:08:05.115 -03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-12-03 09:08:05.117 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-03 09:08:05.123 -03:00 [DBG] No information found on request to perform content negotiation.
2025-12-03 09:08:05.125 -03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-12-03 09:08:05.130 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-12-03 09:08:05.133 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-03 09:08:05.136 -03:00 [INF] Executed action TransactionController.Transfer (PagueVeloz.Api) in 66.035ms
2025-12-03 09:08:05.145 -03:00 [INF] Executed endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 09:08:05.147 -03:00 [INF] Request finished: POST /api/Transaction/transferencia StatusCode=400 TraceId=0HNHIC9DM9S67:00000001 Elapsed=108ms
2025-12-03 09:08:05.150 -03:00 [INF] [RESPONSE] POST /api/Transaction/transferencia 400 114ms CorrelationId="9c83341d-9452-4198-948e-e8ffdc11e192"
2025-12-03 09:08:05.154 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Transaction/transferencia - 400 null application/problem+json; charset=utf-8 136.9877ms
2025-12-03 09:08:18.672 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction/transferencia - application/json 194
2025-12-03 09:08:18.679 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction/transferencia'
2025-12-03 09:08:18.682 -03:00 [DBG] Endpoint 'TransactionController.Transfer (PagueVeloz.Api)' with route pattern 'api/Transaction/transferencia' is valid for the request path '/api/Transaction/transferencia'
2025-12-03 09:08:18.686 -03:00 [DBG] Request matched endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 09:08:18.688 -03:00 [INF] [REQUEST] POST /api/Transaction/transferencia CorrelationId="b89a57a6-363d-4614-8ce1-09e59706ebeb"
2025-12-03 09:08:18.691 -03:00 [INF] Request started: POST /api/Transaction/transferencia TraceId=0HNHIC9DM9S67:00000003
2025-12-03 09:08:18.694 -03:00 [INF] Executing endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 09:08:18.697 -03:00 [INF] Route matched with {action = "Transfer", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Transfer(PagueVeloz.API.DTOs.TransferCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 09:08:18.700 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 09:08:18.703 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 09:08:18.706 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 09:08:18.709 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 09:08:18.713 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 09:08:18.716 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 09:08:18.719 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 09:08:18.721 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' ...
2025-12-03 09:08:18.724 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' using the name '' in request data ...
2025-12-03 09:08:18.727 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 09:08:18.731 -03:00 [DBG] Connection id "0HNHIC9DM9S67", Request id "0HNHIC9DM9S67:00000003": started reading request body.
2025-12-03 09:08:18.734 -03:00 [DBG] Connection id "0HNHIC9DM9S67", Request id "0HNHIC9DM9S67:00000003": done reading request body.
2025-12-03 09:08:18.737 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.API.DTOs.TransferCreateDto'
2025-12-03 09:08:18.739 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 09:08:18.743 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 09:08:18.746 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' ...
2025-12-03 09:08:18.749 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 09:08:18.752 -03:00 [DBG] The request has model state errors, returning an error response.
2025-12-03 09:08:18.753 -03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-12-03 09:08:18.755 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-03 09:08:18.761 -03:00 [DBG] No information found on request to perform content negotiation.
2025-12-03 09:08:18.763 -03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-12-03 09:08:18.769 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-12-03 09:08:18.771 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-03 09:08:18.774 -03:00 [INF] Executed action TransactionController.Transfer (PagueVeloz.Api) in 57.7857ms
2025-12-03 09:08:18.777 -03:00 [INF] Executed endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 09:08:18.779 -03:00 [INF] Request finished: POST /api/Transaction/transferencia StatusCode=400 TraceId=0HNHIC9DM9S67:00000003 Elapsed=87ms
2025-12-03 09:08:18.783 -03:00 [INF] [RESPONSE] POST /api/Transaction/transferencia 400 95ms CorrelationId="b89a57a6-363d-4614-8ce1-09e59706ebeb"
2025-12-03 09:08:18.787 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Transaction/transferencia - 400 null application/problem+json; charset=utf-8 115.1995ms
2025-12-03 09:08:32.432 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction/transferencia - application/json 194
2025-12-03 09:08:32.438 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction/transferencia'
2025-12-03 09:08:32.440 -03:00 [DBG] Endpoint 'TransactionController.Transfer (PagueVeloz.Api)' with route pattern 'api/Transaction/transferencia' is valid for the request path '/api/Transaction/transferencia'
2025-12-03 09:08:32.444 -03:00 [DBG] Request matched endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 09:08:32.447 -03:00 [INF] [REQUEST] POST /api/Transaction/transferencia CorrelationId="90e2a2fd-7b15-46dd-ac07-3616c58fef3e"
2025-12-03 09:08:32.451 -03:00 [INF] Request started: POST /api/Transaction/transferencia TraceId=0HNHIC9DM9S67:00000005
2025-12-03 09:08:32.454 -03:00 [INF] Executing endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 09:08:32.457 -03:00 [INF] Route matched with {action = "Transfer", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Transfer(PagueVeloz.API.DTOs.TransferCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 09:08:32.461 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 09:08:32.464 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 09:08:32.467 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 09:08:32.470 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 09:08:32.473 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 09:08:32.476 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 09:08:32.479 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 09:08:32.482 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' ...
2025-12-03 09:08:32.485 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' using the name '' in request data ...
2025-12-03 09:08:32.488 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 09:08:32.491 -03:00 [DBG] Connection id "0HNHIC9DM9S67", Request id "0HNHIC9DM9S67:00000005": started reading request body.
2025-12-03 09:08:32.494 -03:00 [DBG] Connection id "0HNHIC9DM9S67", Request id "0HNHIC9DM9S67:00000005": done reading request body.
2025-12-03 09:08:32.498 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.API.DTOs.TransferCreateDto'
2025-12-03 09:08:32.501 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 09:08:32.504 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 09:08:32.507 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' ...
2025-12-03 09:08:32.512 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 09:08:32.516 -03:00 [INF] Recebida solicitação de movimentação do tipo: {dto.Operation} .
2025-12-03 09:08:32.520 -03:00 [WRN] Idempotency-Key não enviada, gerando uma aleatória.
2025-12-03 09:08:32.522 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: 778b12c9-0b33-4fe6-bf11-9ce5a4babc55
2025-12-03 09:08:32.550 -03:00 [DBG] Iniciando INSERT de Transação "6d3bace3-c1da-44f4-8b4d-5e47f3601d7e"
2025-12-03 09:08:32.556 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-03 09:08:32.561 -03:00 [DBG] No information found on request to perform content negotiation.
2025-12-03 09:08:32.562 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-12-03 09:08:32.564 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-12-03 09:08:32.565 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-12-03 09:08:32.568 -03:00 [INF] Executing OkObjectResult, writing value of type 'PagueVeloz.Domain.Entities.TransactionModel'.
2025-12-03 09:08:32.570 -03:00 [INF] Executed action TransactionController.Transfer (PagueVeloz.Api) in 94.7076ms
2025-12-03 09:08:32.573 -03:00 [INF] Executed endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 09:08:32.574 -03:00 [INF] Request finished: POST /api/Transaction/transferencia StatusCode=200 TraceId=0HNHIC9DM9S67:00000005 Elapsed=123ms
2025-12-03 09:08:32.578 -03:00 [INF] [RESPONSE] POST /api/Transaction/transferencia 200 131ms CorrelationId="90e2a2fd-7b15-46dd-ac07-3616c58fef3e"
2025-12-03 09:08:32.583 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Transaction/transferencia - 200 null application/json; charset=utf-8 151.1402ms
2025-12-03 09:10:35.425 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction/transferencia - application/json 194
2025-12-03 09:10:35.433 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction/transferencia'
2025-12-03 09:10:35.436 -03:00 [DBG] Endpoint 'TransactionController.Transfer (PagueVeloz.Api)' with route pattern 'api/Transaction/transferencia' is valid for the request path '/api/Transaction/transferencia'
2025-12-03 09:10:35.439 -03:00 [DBG] Request matched endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 09:10:35.442 -03:00 [INF] [REQUEST] POST /api/Transaction/transferencia CorrelationId="efda39db-eab4-4658-9e5e-5d4c0c3728a1"
2025-12-03 09:10:35.446 -03:00 [INF] Request started: POST /api/Transaction/transferencia TraceId=0HNHIC9DM9S67:00000007
2025-12-03 09:10:35.449 -03:00 [INF] Executing endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 09:10:35.451 -03:00 [INF] Route matched with {action = "Transfer", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Transfer(PagueVeloz.API.DTOs.TransferCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 09:10:35.455 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 09:10:35.458 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 09:10:35.461 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 09:10:35.465 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 09:10:35.468 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 09:10:35.470 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 09:10:35.473 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 09:10:35.475 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' ...
2025-12-03 09:10:35.478 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' using the name '' in request data ...
2025-12-03 09:10:35.482 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 09:10:35.484 -03:00 [DBG] Connection id "0HNHIC9DM9S67", Request id "0HNHIC9DM9S67:00000007": started reading request body.
2025-12-03 09:10:35.488 -03:00 [DBG] Connection id "0HNHIC9DM9S67", Request id "0HNHIC9DM9S67:00000007": done reading request body.
2025-12-03 09:10:35.491 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.API.DTOs.TransferCreateDto'
2025-12-03 09:10:35.493 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 09:10:35.496 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 09:10:35.499 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' ...
2025-12-03 09:10:35.502 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 09:10:35.506 -03:00 [INF] Recebida solicitação de movimentação do tipo: {dto.Operation} .
2025-12-03 09:10:35.508 -03:00 [WRN] Idempotency-Key não enviada, gerando uma aleatória.
2025-12-03 09:10:35.510 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: 8459c7b4-d255-452b-82dd-2fcfe9ba0fa3
2025-12-03 09:10:35.523 -03:00 [DBG] Iniciando INSERT de Transação "6d3bace3-c1da-44f4-8b4d-5e47f3601d7e"
2025-12-03 09:10:35.529 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-03 09:10:35.537 -03:00 [DBG] No information found on request to perform content negotiation.
2025-12-03 09:10:35.539 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-12-03 09:10:35.540 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-12-03 09:10:35.542 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-12-03 09:10:35.545 -03:00 [INF] Executing OkObjectResult, writing value of type 'PagueVeloz.Domain.Entities.TransactionModel'.
2025-12-03 09:10:35.548 -03:00 [INF] Executed action TransactionController.Transfer (PagueVeloz.Api) in 78.0173ms
2025-12-03 09:10:35.553 -03:00 [INF] Executed endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 09:10:35.555 -03:00 [INF] Request finished: POST /api/Transaction/transferencia StatusCode=200 TraceId=0HNHIC9DM9S67:00000007 Elapsed=109ms
2025-12-03 09:10:35.560 -03:00 [INF] [RESPONSE] POST /api/Transaction/transferencia 200 118ms CorrelationId="efda39db-eab4-4658-9e5e-5d4c0c3728a1"
2025-12-03 09:10:35.565 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Transaction/transferencia - 200 null application/json; charset=utf-8 145.5209ms
2025-12-03 09:10:55.081 -03:00 [INF] Request starting HTTP/2 PUT https://localhost:7249/api/Account/AtualizarConta/CC-0002 - application/json 91
2025-12-03 09:10:55.098 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Account/AtualizarConta/CC-0002'
2025-12-03 09:10:55.103 -03:00 [DBG] Endpoint 'PagueVeloz.Api.Controllers.AccountController.Update (PagueVeloz.Api)' with route pattern 'api/Account/AtualizarConta/{AccountNumber}' is valid for the request path '/api/Account/AtualizarConta/CC-0002'
2025-12-03 09:10:55.107 -03:00 [DBG] Request matched endpoint 'PagueVeloz.Api.Controllers.AccountController.Update (PagueVeloz.Api)'
2025-12-03 09:10:55.110 -03:00 [INF] [REQUEST] PUT /api/Account/AtualizarConta/CC-0002 CorrelationId="bc8f2599-20b3-42ec-9aac-c459859c2884"
2025-12-03 09:10:55.113 -03:00 [INF] Request started: PUT /api/Account/AtualizarConta/CC-0002 TraceId=0HNHIC9DM9S67:00000009
2025-12-03 09:10:55.117 -03:00 [INF] Executing endpoint 'PagueVeloz.Api.Controllers.AccountController.Update (PagueVeloz.Api)'
2025-12-03 09:10:55.120 -03:00 [INF] Route matched with {action = "Update", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(System.String, PagueVeloz.Application.DTOs.AccountUpdateDto) on controller PagueVeloz.Api.Controllers.AccountController (PagueVeloz.Api).
2025-12-03 09:10:55.125 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 09:10:55.128 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 09:10:55.131 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 09:10:55.135 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 09:10:55.138 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 09:10:55.142 -03:00 [DBG] Executing controller factory for controller PagueVeloz.Api.Controllers.AccountController (PagueVeloz.Api)
2025-12-03 09:10:55.145 -03:00 [DBG] Executed controller factory for controller PagueVeloz.Api.Controllers.AccountController (PagueVeloz.Api)
2025-12-03 09:10:55.147 -03:00 [DBG] Attempting to bind parameter 'AccountNumber' of type 'System.String' ...
2025-12-03 09:10:55.149 -03:00 [DBG] Attempting to bind parameter 'AccountNumber' of type 'System.String' using the name 'AccountNumber' in request data ...
2025-12-03 09:10:55.153 -03:00 [DBG] Done attempting to bind parameter 'AccountNumber' of type 'System.String'.
2025-12-03 09:10:55.156 -03:00 [DBG] Done attempting to bind parameter 'AccountNumber' of type 'System.String'.
2025-12-03 09:10:55.158 -03:00 [DBG] Attempting to validate the bound parameter 'AccountNumber' of type 'System.String' ...
2025-12-03 09:10:55.160 -03:00 [DBG] Done attempting to validate the bound parameter 'AccountNumber' of type 'System.String'.
2025-12-03 09:10:55.163 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.Application.DTOs.AccountUpdateDto' ...
2025-12-03 09:10:55.165 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.Application.DTOs.AccountUpdateDto' using the name '' in request data ...
2025-12-03 09:10:55.169 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 09:10:55.172 -03:00 [DBG] Connection id "0HNHIC9DM9S67", Request id "0HNHIC9DM9S67:00000009": started reading request body.
2025-12-03 09:10:55.175 -03:00 [DBG] Connection id "0HNHIC9DM9S67", Request id "0HNHIC9DM9S67:00000009": done reading request body.
2025-12-03 09:10:55.389 -03:00 [DBG] JSON input formatter threw an exception: The JSON value could not be converted to System.Int64. Path: $.creditLimit | LineNumber: 3 | BytePositionInLine: 24.
2025-12-03 09:10:55.391 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.Application.DTOs.AccountUpdateDto'.
2025-12-03 09:10:55.394 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.Application.DTOs.AccountUpdateDto'.
2025-12-03 09:10:55.397 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.Application.DTOs.AccountUpdateDto' ...
2025-12-03 09:10:55.401 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.Application.DTOs.AccountUpdateDto'.
2025-12-03 09:10:55.405 -03:00 [DBG] The request has model state errors, returning an error response.
2025-12-03 09:10:55.407 -03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-12-03 09:10:55.409 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-03 09:10:55.414 -03:00 [DBG] No information found on request to perform content negotiation.
2025-12-03 09:10:55.416 -03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-12-03 09:10:55.421 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-12-03 09:10:55.424 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-03 09:10:55.427 -03:00 [INF] Executed action PagueVeloz.Api.Controllers.AccountController.Update (PagueVeloz.Api) in 284.612ms
2025-12-03 09:10:55.429 -03:00 [INF] Executed endpoint 'PagueVeloz.Api.Controllers.AccountController.Update (PagueVeloz.Api)'
2025-12-03 09:10:55.431 -03:00 [INF] Request finished: PUT /api/Account/AtualizarConta/CC-0002 StatusCode=400 TraceId=0HNHIC9DM9S67:00000009 Elapsed=317ms
2025-12-03 09:10:55.436 -03:00 [INF] [RESPONSE] PUT /api/Account/AtualizarConta/CC-0002 400 326ms CorrelationId="bc8f2599-20b3-42ec-9aac-c459859c2884"
2025-12-03 09:10:55.441 -03:00 [INF] Request finished HTTP/2 PUT https://localhost:7249/api/Account/AtualizarConta/CC-0002 - 400 null application/problem+json; charset=utf-8 360.0449ms
2025-12-03 09:11:06.563 -03:00 [INF] Request starting HTTP/2 PUT https://localhost:7249/api/Account/AtualizarConta/CC-0002 - application/json 88
2025-12-03 09:11:06.581 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Account/AtualizarConta/CC-0002'
2025-12-03 09:11:06.587 -03:00 [DBG] Endpoint 'PagueVeloz.Api.Controllers.AccountController.Update (PagueVeloz.Api)' with route pattern 'api/Account/AtualizarConta/{AccountNumber}' is valid for the request path '/api/Account/AtualizarConta/CC-0002'
2025-12-03 09:11:06.591 -03:00 [DBG] Request matched endpoint 'PagueVeloz.Api.Controllers.AccountController.Update (PagueVeloz.Api)'
2025-12-03 09:11:06.594 -03:00 [INF] [REQUEST] PUT /api/Account/AtualizarConta/CC-0002 CorrelationId="22cfadc7-0865-4b50-8001-ea15eb717f5b"
2025-12-03 09:11:06.597 -03:00 [INF] Request started: PUT /api/Account/AtualizarConta/CC-0002 TraceId=0HNHIC9DM9S67:0000000B
2025-12-03 09:11:06.601 -03:00 [INF] Executing endpoint 'PagueVeloz.Api.Controllers.AccountController.Update (PagueVeloz.Api)'
2025-12-03 09:11:06.604 -03:00 [INF] Route matched with {action = "Update", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(System.String, PagueVeloz.Application.DTOs.AccountUpdateDto) on controller PagueVeloz.Api.Controllers.AccountController (PagueVeloz.Api).
2025-12-03 09:11:06.609 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 09:11:06.613 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 09:11:06.617 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 09:11:06.623 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 09:11:06.627 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 09:11:06.630 -03:00 [DBG] Executing controller factory for controller PagueVeloz.Api.Controllers.AccountController (PagueVeloz.Api)
2025-12-03 09:11:06.634 -03:00 [DBG] Executed controller factory for controller PagueVeloz.Api.Controllers.AccountController (PagueVeloz.Api)
2025-12-03 09:11:06.637 -03:00 [DBG] Attempting to bind parameter 'AccountNumber' of type 'System.String' ...
2025-12-03 09:11:06.641 -03:00 [DBG] Attempting to bind parameter 'AccountNumber' of type 'System.String' using the name 'AccountNumber' in request data ...
2025-12-03 09:11:06.645 -03:00 [DBG] Done attempting to bind parameter 'AccountNumber' of type 'System.String'.
2025-12-03 09:11:06.648 -03:00 [DBG] Done attempting to bind parameter 'AccountNumber' of type 'System.String'.
2025-12-03 09:11:06.651 -03:00 [DBG] Attempting to validate the bound parameter 'AccountNumber' of type 'System.String' ...
2025-12-03 09:11:06.653 -03:00 [DBG] Done attempting to validate the bound parameter 'AccountNumber' of type 'System.String'.
2025-12-03 09:11:06.656 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.Application.DTOs.AccountUpdateDto' ...
2025-12-03 09:11:06.659 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.Application.DTOs.AccountUpdateDto' using the name '' in request data ...
2025-12-03 09:11:06.663 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 09:11:06.666 -03:00 [DBG] Connection id "0HNHIC9DM9S67", Request id "0HNHIC9DM9S67:0000000B": started reading request body.
2025-12-03 09:11:06.669 -03:00 [DBG] Connection id "0HNHIC9DM9S67", Request id "0HNHIC9DM9S67:0000000B": done reading request body.
2025-12-03 09:11:06.673 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.Application.DTOs.AccountUpdateDto'
2025-12-03 09:11:06.675 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.Application.DTOs.AccountUpdateDto'.
2025-12-03 09:11:06.678 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.Application.DTOs.AccountUpdateDto'.
2025-12-03 09:11:06.681 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.Application.DTOs.AccountUpdateDto' ...
2025-12-03 09:11:06.685 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.Application.DTOs.AccountUpdateDto'.
2025-12-03 09:11:06.698 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-03 09:11:06.703 -03:00 [DBG] No information found on request to perform content negotiation.
2025-12-03 09:11:06.705 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-12-03 09:11:06.707 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-12-03 09:11:06.708 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-12-03 09:11:06.711 -03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`7[[System.Guid, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-03 09:11:06.714 -03:00 [INF] Executed action PagueVeloz.Api.Controllers.AccountController.Update (PagueVeloz.Api) in 83.5258ms
2025-12-03 09:11:06.717 -03:00 [INF] Executed endpoint 'PagueVeloz.Api.Controllers.AccountController.Update (PagueVeloz.Api)'
2025-12-03 09:11:06.719 -03:00 [INF] Request finished: PUT /api/Account/AtualizarConta/CC-0002 StatusCode=200 TraceId=0HNHIC9DM9S67:0000000B Elapsed=121ms
2025-12-03 09:11:06.723 -03:00 [INF] [RESPONSE] PUT /api/Account/AtualizarConta/CC-0002 200 129ms CorrelationId="22cfadc7-0865-4b50-8001-ea15eb717f5b"
2025-12-03 09:11:06.727 -03:00 [INF] Request finished HTTP/2 PUT https://localhost:7249/api/Account/AtualizarConta/CC-0002 - 200 null application/json; charset=utf-8 163.6569ms
2025-12-03 09:12:46.924 -03:00 [INF] Request starting HTTP/2 PUT https://localhost:7249/api/Account/AtualizarConta/CC-0002 - application/json 90
2025-12-03 09:12:46.939 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Account/AtualizarConta/CC-0002'
2025-12-03 09:12:46.942 -03:00 [DBG] Endpoint 'PagueVeloz.Api.Controllers.AccountController.Update (PagueVeloz.Api)' with route pattern 'api/Account/AtualizarConta/{AccountNumber}' is valid for the request path '/api/Account/AtualizarConta/CC-0002'
2025-12-03 09:12:46.945 -03:00 [DBG] Request matched endpoint 'PagueVeloz.Api.Controllers.AccountController.Update (PagueVeloz.Api)'
2025-12-03 09:12:46.948 -03:00 [INF] [REQUEST] PUT /api/Account/AtualizarConta/CC-0002 CorrelationId="d6a16474-bfa8-43a1-b716-65d245f8567b"
2025-12-03 09:12:46.952 -03:00 [INF] Request started: PUT /api/Account/AtualizarConta/CC-0002 TraceId=0HNHIC9DM9S67:0000000D
2025-12-03 09:12:46.954 -03:00 [INF] Executing endpoint 'PagueVeloz.Api.Controllers.AccountController.Update (PagueVeloz.Api)'
2025-12-03 09:12:46.957 -03:00 [INF] Route matched with {action = "Update", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(System.String, PagueVeloz.Application.DTOs.AccountUpdateDto) on controller PagueVeloz.Api.Controllers.AccountController (PagueVeloz.Api).
2025-12-03 09:12:46.960 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 09:12:46.964 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 09:12:46.968 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 09:12:46.971 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 09:12:46.974 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 09:12:46.978 -03:00 [DBG] Executing controller factory for controller PagueVeloz.Api.Controllers.AccountController (PagueVeloz.Api)
2025-12-03 09:12:46.981 -03:00 [DBG] Executed controller factory for controller PagueVeloz.Api.Controllers.AccountController (PagueVeloz.Api)
2025-12-03 09:12:46.984 -03:00 [DBG] Attempting to bind parameter 'AccountNumber' of type 'System.String' ...
2025-12-03 09:12:46.987 -03:00 [DBG] Attempting to bind parameter 'AccountNumber' of type 'System.String' using the name 'AccountNumber' in request data ...
2025-12-03 09:12:46.990 -03:00 [DBG] Done attempting to bind parameter 'AccountNumber' of type 'System.String'.
2025-12-03 09:12:46.993 -03:00 [DBG] Done attempting to bind parameter 'AccountNumber' of type 'System.String'.
2025-12-03 09:12:46.997 -03:00 [DBG] Attempting to validate the bound parameter 'AccountNumber' of type 'System.String' ...
2025-12-03 09:12:46.999 -03:00 [DBG] Done attempting to validate the bound parameter 'AccountNumber' of type 'System.String'.
2025-12-03 09:12:47.003 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.Application.DTOs.AccountUpdateDto' ...
2025-12-03 09:12:47.005 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.Application.DTOs.AccountUpdateDto' using the name '' in request data ...
2025-12-03 09:12:47.009 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 09:12:47.012 -03:00 [DBG] Connection id "0HNHIC9DM9S67", Request id "0HNHIC9DM9S67:0000000D": started reading request body.
2025-12-03 09:12:47.015 -03:00 [DBG] Connection id "0HNHIC9DM9S67", Request id "0HNHIC9DM9S67:0000000D": done reading request body.
2025-12-03 09:12:47.018 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.Application.DTOs.AccountUpdateDto'
2025-12-03 09:12:47.020 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.Application.DTOs.AccountUpdateDto'.
2025-12-03 09:12:47.023 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.Application.DTOs.AccountUpdateDto'.
2025-12-03 09:12:47.027 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.Application.DTOs.AccountUpdateDto' ...
2025-12-03 09:12:47.030 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.Application.DTOs.AccountUpdateDto'.
2025-12-03 09:12:47.041 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-03 09:12:47.045 -03:00 [DBG] No information found on request to perform content negotiation.
2025-12-03 09:12:47.047 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-12-03 09:12:47.049 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-12-03 09:12:47.051 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-12-03 09:12:47.054 -03:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`7[[System.Guid, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-12-03 09:12:47.058 -03:00 [INF] Executed action PagueVeloz.Api.Controllers.AccountController.Update (PagueVeloz.Api) in 80.3268ms
2025-12-03 09:12:47.062 -03:00 [INF] Executed endpoint 'PagueVeloz.Api.Controllers.AccountController.Update (PagueVeloz.Api)'
2025-12-03 09:12:47.065 -03:00 [INF] Request finished: PUT /api/Account/AtualizarConta/CC-0002 StatusCode=200 TraceId=0HNHIC9DM9S67:0000000D Elapsed=113ms
2025-12-03 09:12:47.068 -03:00 [INF] [RESPONSE] PUT /api/Account/AtualizarConta/CC-0002 200 120ms CorrelationId="d6a16474-bfa8-43a1-b716-65d245f8567b"
2025-12-03 09:12:47.072 -03:00 [INF] Request finished HTTP/2 PUT https://localhost:7249/api/Account/AtualizarConta/CC-0002 - 200 null application/json; charset=utf-8 148.2419ms
2025-12-03 09:13:06.679 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction/transferencia - application/json 194
2025-12-03 09:13:06.684 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction/transferencia'
2025-12-03 09:13:06.688 -03:00 [DBG] Endpoint 'TransactionController.Transfer (PagueVeloz.Api)' with route pattern 'api/Transaction/transferencia' is valid for the request path '/api/Transaction/transferencia'
2025-12-03 09:13:06.690 -03:00 [DBG] Request matched endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 09:13:06.692 -03:00 [INF] [REQUEST] POST /api/Transaction/transferencia CorrelationId="5892a404-bc46-4a2d-b79e-95f443962e31"
2025-12-03 09:13:06.696 -03:00 [INF] Request started: POST /api/Transaction/transferencia TraceId=0HNHIC9DM9S67:0000000F
2025-12-03 09:13:06.699 -03:00 [INF] Executing endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 09:13:06.701 -03:00 [INF] Route matched with {action = "Transfer", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Transfer(PagueVeloz.API.DTOs.TransferCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 09:13:06.705 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 09:13:06.708 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 09:13:06.711 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 09:13:06.715 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 09:13:06.719 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 09:13:06.722 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 09:13:06.725 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 09:13:06.727 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' ...
2025-12-03 09:13:06.731 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' using the name '' in request data ...
2025-12-03 09:13:06.736 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 09:13:06.739 -03:00 [DBG] Connection id "0HNHIC9DM9S67", Request id "0HNHIC9DM9S67:0000000F": started reading request body.
2025-12-03 09:13:06.741 -03:00 [DBG] Connection id "0HNHIC9DM9S67", Request id "0HNHIC9DM9S67:0000000F": done reading request body.
2025-12-03 09:13:06.745 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.API.DTOs.TransferCreateDto'
2025-12-03 09:13:06.748 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 09:13:06.750 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 09:13:06.753 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto' ...
2025-12-03 09:13:06.756 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransferCreateDto'.
2025-12-03 09:13:06.759 -03:00 [INF] Recebida solicitação de movimentação do tipo: {dto.Operation} .
2025-12-03 09:13:06.761 -03:00 [WRN] Idempotency-Key não enviada, gerando uma aleatória.
2025-12-03 09:13:06.763 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: 955de0ed-4752-4719-abdc-8c2bbc78854a
2025-12-03 09:13:06.773 -03:00 [DBG] Iniciando INSERT de Transação "6d3bace3-c1da-44f4-8b4d-5e47f3601d7e"
2025-12-03 09:13:06.779 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-03 09:13:06.784 -03:00 [DBG] No information found on request to perform content negotiation.
2025-12-03 09:13:06.786 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-12-03 09:13:06.787 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-12-03 09:13:06.789 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-12-03 09:13:06.791 -03:00 [INF] Executing OkObjectResult, writing value of type 'PagueVeloz.Domain.Entities.TransactionModel'.
2025-12-03 09:13:06.794 -03:00 [INF] Executed action TransactionController.Transfer (PagueVeloz.Api) in 71.836ms
2025-12-03 09:13:06.797 -03:00 [INF] Executed endpoint 'TransactionController.Transfer (PagueVeloz.Api)'
2025-12-03 09:13:06.800 -03:00 [INF] Request finished: POST /api/Transaction/transferencia StatusCode=200 TraceId=0HNHIC9DM9S67:0000000F Elapsed=104ms
2025-12-03 09:13:06.805 -03:00 [INF] [RESPONSE] POST /api/Transaction/transferencia 200 112ms CorrelationId="5892a404-bc46-4a2d-b79e-95f443962e31"
2025-12-03 09:13:06.809 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Transaction/transferencia - 200 null application/json; charset=utf-8 130.0464ms
2025-12-03 09:14:04.467 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction - application/json 151
2025-12-03 09:14:04.473 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction'
2025-12-03 09:14:04.476 -03:00 [DBG] Endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)' with route pattern 'api/Transaction' is valid for the request path '/api/Transaction'
2025-12-03 09:14:04.479 -03:00 [DBG] Request matched endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 09:14:04.482 -03:00 [INF] [REQUEST] POST /api/Transaction CorrelationId="d96230f2-a498-4d82-8a1a-d17bd8461d69"
2025-12-03 09:14:04.485 -03:00 [INF] Request started: POST /api/Transaction TraceId=0HNHIC9DM9S67:00000011
2025-12-03 09:14:04.488 -03:00 [INF] Executing endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 09:14:04.491 -03:00 [INF] Route matched with {action = "CreateTransaction", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTransaction(PagueVeloz.API.DTOs.TransactionCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 09:14:04.496 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 09:14:04.499 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 09:14:04.502 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 09:14:04.506 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 09:14:04.510 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 09:14:04.514 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 09:14:04.517 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 09:14:04.520 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 09:14:04.523 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' using the name '' in request data ...
2025-12-03 09:14:04.529 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 09:14:04.532 -03:00 [DBG] Connection id "0HNHIC9DM9S67", Request id "0HNHIC9DM9S67:00000011": started reading request body.
2025-12-03 09:14:04.535 -03:00 [DBG] Connection id "0HNHIC9DM9S67", Request id "0HNHIC9DM9S67:00000011": done reading request body.
2025-12-03 09:14:04.545 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.API.DTOs.TransactionCreateDto'
2025-12-03 09:14:04.547 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 09:14:04.550 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 09:14:04.553 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 09:14:04.557 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 09:14:04.640 -03:00 [INF] Recebida solicitação de movimentação do tipo: {dto.Operation} .
2025-12-03 09:14:04.647 -03:00 [WRN] Idempotency-Key não enviada, gerando uma aleatória.
2025-12-03 09:14:04.649 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: 9fd92081-4e36-40eb-89f2-e43544d04778
2025-12-03 09:14:04.666 -03:00 [DBG] Iniciando INSERT de Transação "6d3bace3-c1da-44f4-8b4d-5e47f3601d7e"
2025-12-03 09:14:04.672 -03:00 [INF] [AUDIT] Transação processada com sucesso:
2025-12-03 09:14:04.675 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-03 09:14:04.679 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-12-03 09:14:04.682 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-12-03 09:14:04.686 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-12-03 09:14:04.687 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-12-03 09:14:04.689 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-12-03 09:14:04.696 -03:00 [INF] Executing OkObjectResult, writing value of type 'PagueVeloz.Domain.Entities.TransactionModel'.
2025-12-03 09:14:04.699 -03:00 [INF] Executed action TransactionController.CreateTransaction (PagueVeloz.Api) in 185.065ms
2025-12-03 09:14:04.715 -03:00 [INF] Executed endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 09:14:04.718 -03:00 [INF] Request finished: POST /api/Transaction StatusCode=200 TraceId=0HNHIC9DM9S67:00000011 Elapsed=232ms
2025-12-03 09:14:04.722 -03:00 [INF] [RESPONSE] POST /api/Transaction 200 240ms CorrelationId="d96230f2-a498-4d82-8a1a-d17bd8461d69"
2025-12-03 09:14:04.729 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Transaction - 200 null application/json; charset=utf-8 262.2035ms
2025-12-03 09:16:05.031 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction - application/json 154
2025-12-03 09:16:05.047 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction'
2025-12-03 09:16:05.050 -03:00 [DBG] Endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)' with route pattern 'api/Transaction' is valid for the request path '/api/Transaction'
2025-12-03 09:16:05.055 -03:00 [DBG] Request matched endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 09:16:05.058 -03:00 [INF] [REQUEST] POST /api/Transaction CorrelationId="0cd040a4-e075-4862-ab37-60c4c8ef08db"
2025-12-03 09:16:05.062 -03:00 [INF] Request started: POST /api/Transaction TraceId=0HNHIC9DM9S67:00000013
2025-12-03 09:16:05.065 -03:00 [INF] Executing endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 09:16:05.068 -03:00 [INF] Route matched with {action = "CreateTransaction", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTransaction(PagueVeloz.API.DTOs.TransactionCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 09:16:05.072 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 09:16:05.076 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 09:16:05.080 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 09:16:05.084 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 09:16:05.088 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 09:16:05.091 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 09:16:05.094 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 09:16:05.096 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 09:16:05.099 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' using the name '' in request data ...
2025-12-03 09:16:05.102 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 09:16:05.105 -03:00 [DBG] Connection id "0HNHIC9DM9S67", Request id "0HNHIC9DM9S67:00000013": started reading request body.
2025-12-03 09:16:05.108 -03:00 [DBG] Connection id "0HNHIC9DM9S67", Request id "0HNHIC9DM9S67:00000013": done reading request body.
2025-12-03 09:16:05.111 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.API.DTOs.TransactionCreateDto'
2025-12-03 09:16:05.113 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 09:16:05.115 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 09:16:05.117 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 09:16:05.120 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 09:16:05.123 -03:00 [INF] Recebida solicitação de movimentação do tipo: {dto.Operation} .
2025-12-03 09:16:05.125 -03:00 [WRN] Idempotency-Key não enviada, gerando uma aleatória.
2025-12-03 09:16:05.126 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: bdd7028f-fa19-449e-9d1c-838c5b17cb08
2025-12-03 09:16:05.137 -03:00 [DBG] Iniciando INSERT de Transação "6d3bace3-c1da-44f4-8b4d-5e47f3601d7e"
2025-12-03 09:16:05.144 -03:00 [INF] [AUDIT] Transação processada com sucesso:
2025-12-03 09:16:05.147 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-03 09:16:05.152 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-12-03 09:16:05.156 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-12-03 09:16:05.159 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-12-03 09:16:05.160 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-12-03 09:16:05.162 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-12-03 09:16:05.164 -03:00 [INF] Executing OkObjectResult, writing value of type 'PagueVeloz.Domain.Entities.TransactionModel'.
2025-12-03 09:16:05.166 -03:00 [INF] Executed action TransactionController.CreateTransaction (PagueVeloz.Api) in 75.0876ms
2025-12-03 09:16:05.170 -03:00 [INF] Executed endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 09:16:05.172 -03:00 [INF] Request finished: POST /api/Transaction StatusCode=200 TraceId=0HNHIC9DM9S67:00000013 Elapsed=109ms
2025-12-03 09:16:05.176 -03:00 [INF] [RESPONSE] POST /api/Transaction 200 117ms CorrelationId="0cd040a4-e075-4862-ab37-60c4c8ef08db"
2025-12-03 09:16:05.179 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Transaction - 200 null application/json; charset=utf-8 148.838ms
2025-12-03 09:17:07.103 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction - application/json 156
2025-12-03 09:17:07.116 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction'
2025-12-03 09:17:07.120 -03:00 [DBG] Endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)' with route pattern 'api/Transaction' is valid for the request path '/api/Transaction'
2025-12-03 09:17:07.123 -03:00 [DBG] Request matched endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 09:17:07.125 -03:00 [INF] [REQUEST] POST /api/Transaction CorrelationId="1bc4ad46-10f7-4d29-a539-e85b601204b9"
2025-12-03 09:17:07.129 -03:00 [INF] Request started: POST /api/Transaction TraceId=0HNHIC9DM9S67:00000015
2025-12-03 09:17:07.131 -03:00 [INF] Executing endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 09:17:07.134 -03:00 [INF] Route matched with {action = "CreateTransaction", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTransaction(PagueVeloz.API.DTOs.TransactionCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 09:17:07.136 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 09:17:07.139 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 09:17:07.142 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 09:17:07.146 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 09:17:07.148 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 09:17:07.151 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 09:17:07.153 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 09:17:07.155 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 09:17:07.158 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' using the name '' in request data ...
2025-12-03 09:17:07.161 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 09:17:07.163 -03:00 [DBG] Connection id "0HNHIC9DM9S67", Request id "0HNHIC9DM9S67:00000015": started reading request body.
2025-12-03 09:17:07.167 -03:00 [DBG] Connection id "0HNHIC9DM9S67", Request id "0HNHIC9DM9S67:00000015": done reading request body.
2025-12-03 09:17:07.170 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.API.DTOs.TransactionCreateDto'
2025-12-03 09:17:07.173 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 09:17:07.176 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 09:17:07.180 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 09:17:07.184 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 09:17:07.187 -03:00 [INF] Recebida solicitação de movimentação do tipo: {dto.Operation} .
2025-12-03 09:17:07.188 -03:00 [WRN] Idempotency-Key não enviada, gerando uma aleatória.
2025-12-03 09:17:07.190 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: 98dc58db-60ed-4e10-b3cc-f662371c5279
2025-12-03 09:17:07.203 -03:00 [DBG] Iniciando INSERT de Transação "54b4cab5-29dd-4dc5-8cb4-833db725ab0f"
2025-12-03 09:17:07.211 -03:00 [INF] [AUDIT] Transação processada com sucesso:
2025-12-03 09:17:07.214 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-03 09:17:07.220 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-12-03 09:17:07.222 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-12-03 09:17:07.225 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-12-03 09:17:07.227 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-12-03 09:17:07.229 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-12-03 09:17:07.232 -03:00 [INF] Executing OkObjectResult, writing value of type 'PagueVeloz.Domain.Entities.TransactionModel'.
2025-12-03 09:17:07.235 -03:00 [INF] Executed action TransactionController.CreateTransaction (PagueVeloz.Api) in 83.7885ms
2025-12-03 09:17:07.238 -03:00 [INF] Executed endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 09:17:07.241 -03:00 [INF] Request finished: POST /api/Transaction StatusCode=200 TraceId=0HNHIC9DM9S67:00000015 Elapsed=111ms
2025-12-03 09:17:07.246 -03:00 [INF] [RESPONSE] POST /api/Transaction 200 120ms CorrelationId="1bc4ad46-10f7-4d29-a539-e85b601204b9"
2025-12-03 09:17:07.250 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Transaction - 200 null application/json; charset=utf-8 152.598ms
2025-12-03 09:17:32.880 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction - application/json 156
2025-12-03 09:17:32.885 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction'
2025-12-03 09:17:32.888 -03:00 [DBG] Endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)' with route pattern 'api/Transaction' is valid for the request path '/api/Transaction'
2025-12-03 09:17:32.892 -03:00 [DBG] Request matched endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 09:17:32.895 -03:00 [INF] [REQUEST] POST /api/Transaction CorrelationId="1c5d3e60-0b81-48d2-86fb-e7a8f53f561a"
2025-12-03 09:17:32.899 -03:00 [INF] Request started: POST /api/Transaction TraceId=0HNHIC9DM9S67:00000017
2025-12-03 09:17:32.902 -03:00 [INF] Executing endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 09:17:32.904 -03:00 [INF] Route matched with {action = "CreateTransaction", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTransaction(PagueVeloz.API.DTOs.TransactionCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 09:17:32.908 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 09:17:32.911 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 09:17:32.915 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 09:17:32.919 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 09:17:32.922 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 09:17:32.926 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 09:17:32.930 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 09:17:32.933 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 09:17:32.936 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' using the name '' in request data ...
2025-12-03 09:17:32.938 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 09:17:32.941 -03:00 [DBG] Connection id "0HNHIC9DM9S67", Request id "0HNHIC9DM9S67:00000017": started reading request body.
2025-12-03 09:17:32.945 -03:00 [DBG] Connection id "0HNHIC9DM9S67", Request id "0HNHIC9DM9S67:00000017": done reading request body.
2025-12-03 09:17:32.949 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.API.DTOs.TransactionCreateDto'
2025-12-03 09:17:32.952 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 09:17:32.954 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 09:17:32.956 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 09:17:32.960 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 09:17:32.963 -03:00 [INF] Recebida solicitação de movimentação do tipo: {dto.Operation} .
2025-12-03 09:17:32.966 -03:00 [WRN] Idempotency-Key não enviada, gerando uma aleatória.
2025-12-03 09:17:32.967 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: ed2a090c-4426-40bf-8a74-0e4d5b14a822
2025-12-03 09:17:33.053 -03:00 [WRN] Tentativa 1 falhou. Esperando "00:00:02" antes de tentar novamente. Erro: Transação já foi realizada.
2025-12-03 09:17:35.060 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: ed2a090c-4426-40bf-8a74-0e4d5b14a822
2025-12-03 09:17:35.120 -03:00 [WRN] Tentativa 2 falhou. Esperando "00:00:04" antes de tentar novamente. Erro: Transação já foi realizada.
2025-12-03 09:17:39.130 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: ed2a090c-4426-40bf-8a74-0e4d5b14a822
2025-12-03 09:17:39.200 -03:00 [WRN] Tentativa 3 falhou. Esperando "00:00:08" antes de tentar novamente. Erro: Transação já foi realizada.
2025-12-03 09:17:47.212 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: ed2a090c-4426-40bf-8a74-0e4d5b14a822
2025-12-03 09:17:48.222 -03:00 [INF] Executed action TransactionController.CreateTransaction (PagueVeloz.Api) in 15295.9969ms
2025-12-03 09:17:48.543 -03:00 [INF] Executed endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 09:17:49.532 -03:00 [ERR] Erro capturado globalmente. TraceId: 00-4a290c5aa62f79c76c3612eda0612fbd-09c6e3c6fcc5e339-00
PagueVeloz.Shared.Middlewares.BusinessException: Transação já foi realizada.
   at PagueVeloz.Application.Services.TransactionService.<>c__DisplayClass5_0.<<ProcessTransactionAsync>b__0>d.MoveNext() in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Application\Services\TransactionService.cs:line 51
--- End of stack trace from previous location ---
   at Polly.Retry.AsyncRetryEngine.ImplementationAsync[TResult](Func`3 action, Context context, ExceptionPredicates shouldRetryExceptionPredicates, ResultPredicates`1 shouldRetryResultPredicates, Func`5 onRetryAsync, CancellationToken cancellationToken, Int32 permittedRetryCount, IEnumerable`1 sleepDurationsEnumerable, Func`4 sleepDurationProvider, Boolean continueOnCapturedContext)
   at Polly.AsyncPolicy.ExecuteInternalAsync[TResult](Func`3 action, Context context, Boolean continueOnCapturedContext, CancellationToken cancellationToken)
   at PagueVeloz.Application.Services.TransactionService.ProcessTransactionAsync(TransactionModel dto, String idempotencyKey) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Application\Services\TransactionService.cs:line 38
   at TransactionController.CreateTransaction(TransactionCreateDto dto) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api\Controllers\TransactionController.cs:line 83
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at RequestTimingMiddleware.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\RequestTiming.cs:line 23
   at PagueVeloz.Shared.Middlewares.RequestLog.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\RequestLog.cs:line 28
   at ExceptionHandlingMiddleware.Invoke(HttpContext context) in E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Shared\Middlewares\ExceptionHandling.cs:line 22
2025-12-03 09:17:49.542 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Transaction - 400 null application/json 16672.5101ms
2025-12-03 09:17:54.542 -03:00 [INF] Request starting HTTP/2 POST https://localhost:7249/api/Transaction - application/json 156
2025-12-03 09:17:54.558 -03:00 [DBG] 1 candidate(s) found for the request path '/api/Transaction'
2025-12-03 09:17:54.563 -03:00 [DBG] Endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)' with route pattern 'api/Transaction' is valid for the request path '/api/Transaction'
2025-12-03 09:17:54.567 -03:00 [DBG] Request matched endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 09:17:54.569 -03:00 [INF] [REQUEST] POST /api/Transaction CorrelationId="74733010-9efa-4805-8943-e7fb30258a32"
2025-12-03 09:17:54.572 -03:00 [INF] Request started: POST /api/Transaction TraceId=0HNHIC9DM9S67:00000019
2025-12-03 09:17:54.576 -03:00 [INF] Executing endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 09:17:54.578 -03:00 [INF] Route matched with {action = "CreateTransaction", controller = "Transaction"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTransaction(PagueVeloz.API.DTOs.TransactionCreateDto) on controller TransactionController (PagueVeloz.Api).
2025-12-03 09:17:54.582 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-12-03 09:17:54.585 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-12-03 09:17:54.588 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-12-03 09:17:54.592 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-12-03 09:17:54.595 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-12-03 09:17:54.599 -03:00 [DBG] Executing controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 09:17:54.602 -03:00 [DBG] Executed controller factory for controller TransactionController (PagueVeloz.Api)
2025-12-03 09:17:54.605 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 09:17:54.608 -03:00 [DBG] Attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' using the name '' in request data ...
2025-12-03 09:17:54.612 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-12-03 09:17:54.615 -03:00 [DBG] Connection id "0HNHIC9DM9S67", Request id "0HNHIC9DM9S67:00000019": started reading request body.
2025-12-03 09:17:54.618 -03:00 [DBG] Connection id "0HNHIC9DM9S67", Request id "0HNHIC9DM9S67:00000019": done reading request body.
2025-12-03 09:17:54.621 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'PagueVeloz.API.DTOs.TransactionCreateDto'
2025-12-03 09:17:54.624 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 09:17:54.627 -03:00 [DBG] Done attempting to bind parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 09:17:54.631 -03:00 [DBG] Attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto' ...
2025-12-03 09:17:54.635 -03:00 [DBG] Done attempting to validate the bound parameter 'dto' of type 'PagueVeloz.API.DTOs.TransactionCreateDto'.
2025-12-03 09:17:54.638 -03:00 [INF] Recebida solicitação de movimentação do tipo: {dto.Operation} .
2025-12-03 09:17:54.641 -03:00 [WRN] Idempotency-Key não enviada, gerando uma aleatória.
2025-12-03 09:17:54.643 -03:00 [INF] Iniciando movimentação de conta. IdempotencyKey: b92227b2-dc04-495e-9c84-9631ffdd9cbb
2025-12-03 09:17:54.653 -03:00 [DBG] Iniciando INSERT de Transação "54b4cab5-29dd-4dc5-8cb4-833db725ab0f"
2025-12-03 09:17:54.660 -03:00 [INF] [AUDIT] Transação processada com sucesso:
2025-12-03 09:17:54.662 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-12-03 09:17:54.668 -03:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2025-12-03 09:17:54.671 -03:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2025-12-03 09:17:54.674 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-12-03 09:17:54.676 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-12-03 09:17:54.678 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-12-03 09:17:54.681 -03:00 [INF] Executing OkObjectResult, writing value of type 'PagueVeloz.Domain.Entities.TransactionModel'.
2025-12-03 09:17:54.684 -03:00 [INF] Executed action TransactionController.CreateTransaction (PagueVeloz.Api) in 85.5051ms
2025-12-03 09:17:54.687 -03:00 [INF] Executed endpoint 'TransactionController.CreateTransaction (PagueVeloz.Api)'
2025-12-03 09:17:54.689 -03:00 [INF] Request finished: POST /api/Transaction StatusCode=200 TraceId=0HNHIC9DM9S67:00000019 Elapsed=117ms
2025-12-03 09:17:54.694 -03:00 [INF] [RESPONSE] POST /api/Transaction 200 124ms CorrelationId="74733010-9efa-4805-8943-e7fb30258a32"
2025-12-03 09:17:54.698 -03:00 [INF] Request finished HTTP/2 POST https://localhost:7249/api/Transaction - 200 null application/json; charset=utf-8 155.8073ms
2025-12-03 09:36:17.301 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-12-03 09:36:18.399 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 09:36:18.406 -03:00 [WRN] No store type was specified for the decimal property 'CreditLimit' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 09:36:18.409 -03:00 [WRN] No store type was specified for the decimal property 'ReservedBalance' on entity type 'AccountModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 09:36:18.412 -03:00 [WRN] No store type was specified for the decimal property 'Amount' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 09:36:18.416 -03:00 [WRN] No store type was specified for the decimal property 'AvailableBalance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 09:36:18.421 -03:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'TransactionModel'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-03 09:36:18.561 -03:00 [DBG] Entity Framework Core 9.0.11 initialized 'PagueVelozDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.11' with options: EngineType=SqlServer 
2025-12-03 09:36:18.581 -03:00 [DBG] Creating DbConnection.
2025-12-03 09:36:18.632 -03:00 [DBG] Created DbConnection. (49ms).
2025-12-03 09:36:18.641 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 09:36:19.012 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 09:36:19.027 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-12-03 09:36:19.039 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (12ms).
2025-12-03 09:36:19.044 -03:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (23ms).
2025-12-03 09:36:19.054 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 09:36:19.095 -03:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-03 09:36:19.103 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 09:36:19.115 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (8ms).
2025-12-03 09:36:19.120 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-12-03 09:36:19.123 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2025-12-03 09:36:19.126 -03:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (6ms).
2025-12-03 09:36:19.129 -03:00 [DBG] Opening connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 09:36:19.133 -03:00 [DBG] Opened connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 09:36:19.137 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 09:36:19.177 -03:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-03 09:36:19.182 -03:00 [DBG] Closing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 09:36:19.186 -03:00 [DBG] Closed connection to database 'PagueVelozDB' on server 'GRDESENVN40' (3ms).
2025-12-03 09:36:19.191 -03:00 [DBG] 'PagueVelozDbContext' disposed.
2025-12-03 09:36:19.197 -03:00 [DBG] Disposing connection to database 'PagueVelozDB' on server 'GRDESENVN40'.
2025-12-03 09:36:19.203 -03:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-12-03 09:36:19.491 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-12-03 09:36:19.602 -03:00 [DBG] Hosting starting
2025-12-03 09:36:19.639 -03:00 [DBG] Middleware loaded
2025-12-03 09:36:19.646 -03:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16513 B).
2025-12-03 09:36:19.650 -03:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-12-03 09:36:19.757 -03:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-12-03 09:36:19.762 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-12-03 09:36:19.779 -03:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-12-03 09:36:19.984 -03:00 [INF] Now listening on: https://localhost:7249
2025-12-03 09:36:19.987 -03:00 [INF] Now listening on: http://localhost:5247
2025-12-03 09:36:19.989 -03:00 [DBG] Loaded hosting startup assembly PagueVeloz.Api
2025-12-03 09:36:19.991 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-12-03 09:36:19.993 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-12-03 09:36:19.995 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-12-03 09:36:20.009 -03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 09:36:20.014 -03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 09:36:20.191 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-03 09:36:20.194 -03:00 [INF] Hosting environment: Development
2025-12-03 09:36:20.202 -03:00 [INF] Content root path: E:\REINALDO.DEV (C#)\PagueVeloz\PagueVeloz.Api
2025-12-03 09:36:20.219 -03:00 [DBG] Hosting started
2025-12-03 09:36:24.815 -03:00 [DBG] Connection id "0HNHID2974P32" accepted.
2025-12-03 09:36:24.827 -03:00 [DBG] Connection id "0HNHID2974P32" started.
2025-12-03 09:36:24.897 -03:00 [DBG] Connection 0HNHID2974P32 established using the following protocol: "Tls13"
2025-12-03 09:36:24.980 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/swagger/index.html - null null
2025-12-03 09:36:25.163 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-12-03 09:36:25.166 -03:00 [DBG] Request did not match any endpoints
2025-12-03 09:36:25.264 -03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-12-03 09:36:25.269 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-12-03 09:36:25.281 -03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-12-03 09:36:25.284 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-12-03 09:36:25.297 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/swagger/index.html - 200 null text/html;charset=utf-8 322.3647ms
2025-12-03 09:36:25.354 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/_vs/browserLink - null null
2025-12-03 09:36:25.355 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/_framework/aspnetcore-browser-refresh.js - null null
2025-12-03 09:36:25.413 -03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-12-03 09:36:25.418 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 63.3532ms
2025-12-03 09:36:25.453 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/_vs/browserLink - 200 null text/javascript; charset=UTF-8 99.9301ms
2025-12-03 09:36:25.641 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/swagger/v1/swagger.json - null null
2025-12-03 09:36:25.650 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-12-03 09:36:25.655 -03:00 [DBG] Request did not match any endpoints
2025-12-03 09:36:25.691 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 49.7623ms
2025-12-03 09:40:00.748 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/swagger/index.html - null null
2025-12-03 09:40:00.769 -03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-12-03 09:40:00.771 -03:00 [DBG] Request did not match any endpoints
2025-12-03 09:40:00.775 -03:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-12-03 09:40:00.777 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-12-03 09:40:00.779 -03:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-12-03 09:40:00.781 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-12-03 09:40:00.783 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/swagger/index.html - 200 null text/html;charset=utf-8 34.8443ms
2025-12-03 09:40:00.829 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/_framework/aspnetcore-browser-refresh.js - null null
2025-12-03 09:40:00.829 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/_vs/browserLink - null null
2025-12-03 09:40:00.839 -03:00 [DBG] Script injected: /_framework/aspnetcore-browser-refresh.js
2025-12-03 09:40:00.847 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/_framework/aspnetcore-browser-refresh.js - 200 16513 application/javascript; charset=utf-8 18.8194ms
2025-12-03 09:40:00.869 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/_vs/browserLink - 200 null text/javascript; charset=UTF-8 39.752ms
2025-12-03 09:40:01.123 -03:00 [INF] Request starting HTTP/2 GET https://localhost:7249/swagger/v1/swagger.json - null null
2025-12-03 09:40:01.158 -03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-12-03 09:40:01.160 -03:00 [DBG] Request did not match any endpoints
2025-12-03 09:40:01.162 -03:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 09:40:01.173 -03:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-12-03 09:40:01.199 -03:00 [INF] Request finished HTTP/2 GET https://localhost:7249/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 76.2333ms
